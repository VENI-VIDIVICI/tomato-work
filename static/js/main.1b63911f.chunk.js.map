{"version":3,"sources":["hooks/index.ts","store/reducers/user.ts","store/reducers/system.ts","store/reducers/index.ts","store/index.ts","utils/http.ts","services/user.ts","services/system.ts","services/reminder.ts","services/todayTask.ts","services/capitalFlow.ts","services/memorandum.ts","services/innerMessage.ts","services/todoList.ts","services/common.ts","services/index.ts","api/index.ts","assets/img/common/logo.png","components/avatar/index.tsx","utils/helper.ts","utils/date.ts","utils/nprogress.ts","utils/spin.ts","utils/index.ts","assets/img/common/no-data.svg","config/index.ts","constants/storage.ts","constants/menu.ts","constants/index.ts","store/constants/index.ts","store/actions/system.ts","store/actions/index.ts","components/private-route/index.tsx","components/footer/index.tsx","views/login/index.tsx","components/exception/index.tsx","views/exception/no-match/index.tsx","components/sidebar/index.tsx","components/header/index.tsx","views/home/main-entry/index.tsx","views/home/reminder/components/create-reminder/index.tsx","views/home/reminder/index.tsx","views/home/index/components/system-info/index.tsx","components/suspense-fallback/index.tsx","views/home/setting/index/index.tsx","views/home/index/components/penel-group/index.tsx","views/home/index/components/money-access-chart/index.tsx","views/home/index/index.tsx","views/home/today-task/components/task-item/index.tsx","views/home/today-task/components/create-task/index.tsx","components/no-data/index.tsx","views/home/today-task/index.tsx","views/home/memorandum/create/index.tsx","views/home/memorandum/index/index.tsx","views/home/memorandum/constants.ts","views/home/memorandum/detail/index.tsx","views/home/capital-flow/components/create-capital-flow/index.tsx","views/home/capital-flow/enum.tsx","views/home/capital-flow/index/index.tsx","views/home/capital-flow/components/create-type/index.tsx","views/home/capital-flow/type/index.tsx","views/home/todo-list/components/create-todo/index.tsx","views/home/todo-list/constants.tsx","views/home/todo-list/index/index.tsx","router/routes.ts","router/index.tsx","serviceWorker.ts","index.tsx","router/constants.ts","store/actions/user.ts","components/table/index.tsx"],"names":["useFormInput","initialValue","useState","value","setValue","onChange","event","target","LOGIN","USER","initialState","isLogin","isLockScreen","userInfo","provider","uid","undefined","createdAt","bio","username","password","loginName","avatarUrl","email","role","token","location","user","state","action","type","window","localStorage","setItem","LOCAL_STORAGE","JSON","stringify","LOGIN_NAME","INFO","SYSTEM","info","mysqlVersion","currentSystemTime","Date","now","freemem","totalmem","platform","hostname","arch","nodeVersion","cpus","system","_","isEmpty","data","slice","Object","assign","combineReducers","store","createStore","rootReducer","applyMiddleware","thunk","_logout","CancelToken","axios","handleError","error","isCancel","response","message","status","statusText","defaults","timeout","headers","common","isLoading","successAlert","errorAlert","baseURL","CONFIG","http","httpInstance","create","setPrototypeOf","interceptors","request","use","config","method","url","userState","getState","axiosCancelTokenStore","forEach","idx","cancelRequest","cancel","splice","cancelToken","push","pathname","spin","start","FormData","key","append","Promise","reject","res","done","success","warn","msg","errorCode","setTimeout","logout","serviceLogin","post","api","login","serviceLoginByToken","get","loginByToken","params","serviceLogout","serviceUpdateUser","updateUser","serviceGetUserConfig","getUserConfig","serviceUpdateUserConfig","put","serviceGetSystemInfo","getSystemInfo","serviceCreateReminder","reminder","serviceGetReminder","serviceDeleteReminder","id","delete","serviceUpdateReminder","serviceCreateTask","todayTask","serviceGetTask","serviceDeleteTask","serviceUpdateTask","serviceGetCapitalFlowType","capitalFlowType","serviceDeleteCapitalFlowType","serviceUpdateCapitalFlowType","serviceCreateCapitalFlowType","serviceGetCapitalFlow","capitalFlow","serviceDeleteCapitalFlow","serviceUpdateCapitalFlow","serviceCreateCapitalFlow","serviceGetCapitalFlowPrice","getCapitalFlowPrice","serviceCreateMemorandum","memorandum","serviceGetMemorandum","serviceGetMemorandumById","serviceDeleteMemorandum","serviceUpdateMemorandum","serviceGetInnerMessage","innerMessage","serviceUpdateInnerMessageHasRead","serviceCreateTodoList","todoList","serviceGetTodoList","serviceDeleteTodoList","serviceUpdateTodoList","serviceGetPanelData","getPanelData","API","getCaptcha","module","exports","Avatar","props","onError","CODE","totalPercentage","Math","floor","modalConfirmDelete","object","resolve","Modal","confirm","title","okType","onOk","fullscreen","docElm","document","documentElement","requestFullscreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen","exitFullscreen","doc","mozCancelFullScreen","webkitCancelFullScreen","msExitFullscreen","randomCode","num","i","random","length","getCurMonthFirstDay","format","cur","setDate","setHours","getTime","moment","getCurMonthLastDay","daysInMonth","isLtTodayTimestamp","current","todayTimestamp","valueOf","getStartTimestampByDate","date","getEndTimestampByDate","getThisYearFirstDay","setMonth","Np","configure","template","containerEl","spinHTML","querySelector","getElementById","spinEl","createElement","className","innerHTML","appendChild","parentNode","removeChild","isProduction","process","isDevelopment","github","clientId","callbackURL","origin","repositoryUrl","bug","SIDEBAR_COLLAPSED","LOCK_SCREEN","HOME_SIDER_MENU_LIST","path","HOME","HOME_INDEX","name","REMINDER","TODO_LIST","TODAY_TASK","children","CAPITAL_FLOW","CAPITAL_FLOW_TYPE","MEMORANDUM","MEMORANDUM_CREATE","SETTING","BASE","SETTING_SIDER_MENU_LIST","INNER_MESSAGE","NOTIFICATION","ACCOUNT","LOGOUT","setSystemInfo","dispatch","then","PrivateRouteComponent","connect","withRouter","Component","component","childrenRoutes","rest","Array","isArray","meta","auth","requiresAuth","isLoginToHome","qs","parse","search","redirectUrl","to","render","map","route","currentYear","getFullYear","React","memo","href","rel","PopoverContent","style","padding","captcha","getItem","history","code","loading","setLoading","handleSubmit","_loginName","trim","_password","_code","Error","md5","setUser","replace","catch","err","reloadCaptcha","useCallback","e","src","useEffect","query","Number","width","height","viewBox","aria-hidden","d","fill","require","Group","placeholder","prefix","maxLength","autoComplete","onPressEnter","suffix","onClick","marginTop","size","block","githubAuthz","content","trigger","placement","statusMap","subTitle","extra","goBack","NoMatch","Sider","Layout","SubMenu","Menu","collapsed","selectedKeys","setSelectedKeys","openKeys","setOpenKeys","handleOpenChange","fragment","split","prefixPath","join","menu","findIdx","findIndex","indexOf","collapsible","alt","onOpenChange","mode","theme","subItem","Item","Header","popoverList","el","fontSize","marginRight","setCollapsed","messageList","setMessageList","unReadCount","setUnReadCount","isFullscreen","setIsFullscreen","pageSize","count","rows","item","hasRead","MessageContent","useMemo","handleFullscreen","cursor","dot","Content","storageCollapsed","handleToggleCollapsed","Children","child","TextArea","Input","confirmLoading","dateMode","reducer","visible","onCancel","onSuccess","rowData","useReducer","setState","initParams","preventDefault","finally","onSubmit","layout","label","showTime","allowClear","onPanelChange","disabledDate","RangePicker","DatePicker","Option","Select","STATUS_TYPE","1","color","text","2","queryType","modalVisible","currentRow","timer","tableRef","useRef","dataIndex","row","handleButton","bind","tableColumns","startDate","endDate","getTableData","getReminder","ONE_DAY_TIMESTAMP","order","handleModalOnSuccess","warning","ref","columns","SuspenseFallback","SettingIndex","fallback","settingRoutes","isInit","total","iconType","consumption","todayTaskCount","unfinishedTodoListCount","reminderCount","gutter","xs","sm","md","xl","lg","curSystemTime","percentage","systemInfo","memPercentage","countdown","clearTimeout","timeDiff","hoverable","bytes","percent","strokeColor","cols","range","setData","totalPrice","setTotalPrice","price","scale","forceFit","formatter","val","parseInt","crosshairs","position","shape","stroke","lineWidth","image","Empty","PRESENTED_IMAGE_SIMPLE","propDispatch","reloadData","handleAction","buttonType","rollback","disabled","includes","setParentState","showCreateTaskModal","icon","NoDataSvg","datePickerValue","TASK_TYPE","wait","finished","unfinished","editor","TodayTask","getTask","handleOnSuccess","keys","span","Memorandum","list","setList","stopPropagation","index","copyList","align","dangerouslySetInnerHTML","__html","html","Create","computedMatch","setTitle","handleActionButton","markdown","getValue","init","Editor","initialEditType","previewStyle","usageStatistics","remove","onBlur","Detail","setContent","remarks","typeId","TypeNames","TypeColors","nameList","isNaN","optionName","TYPES","OPTION_TYPES","Search","searchKeyword","income","available","expandedRowKeys","Reminder","getCapitalFlow","keyword","typeNameId","getCapitalFlowType","sort","a","b","handleOnExpand","expanded","record","onSearch","margin","precision","expandedRowRender","onExpand","defaultType","selectedRowKeys","Type","typeName","handleEdit","onSelectChange","handleData","deleteCapitalFlowType","ids","handleAdd","rowSelection","dataSource","pagination","rowKey","showCreateTodoModal","STATUS","currentRowData","TodoList","getData","getTodoList","routesMap","exact","Login","MainEntry","HomeIndex","SETTING_INDEX","MemorandumCreate","MEMORANDUM_DETAIL","MemorandumDetail","CapitalFlow","CapitalFlowType","NO_MATCH","Base","lazy","InnerMessage","Notification","Account","validateLocalStatus","basename","Boolean","match","locale","ReactDOM","zh_CN","navigator","serviceWorker","ready","registration","unregister","localStorageWhiteList","localStorageLen","allLocalStorageKey","keyName","removeItem","sessionStorage","clear","reload","isPlainObject","tableHeight","tableDataSource","pageNo","showSizeChanger","pageSizeOptions","forwardRef","handlePageChange","tableEl","clientHeight","scroll","y","showHeader","onShowSizeChange"],"mappings":"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","file":"static/js/main.1b63911f.chunk.js","sourcesContent":["import { useState } from 'react';\n\ninterface InputProps {\n  value: any;\n  onChange(event: React.ChangeEvent<HTMLInputElement>): void\n}\n\n/**\n * Input onChange and useState\n * @param initialValue\n */\nexport function useFormInput(initialValue: any): InputProps {\n  const [value, setValue] = useState(initialValue);\n  function handleChange(event: React.ChangeEvent<HTMLInputElement & HTMLTextAreaElement>): void {\n    setValue(event.target.value);\n  };\n  return {\n    value,\n    onChange: handleChange\n  };\n}\n\n","/**\n * @file User reducers\n * @since 1.0.0\n * @author xiejiahe <mb06@qq.com>\n */\n\nimport { USER } from '../constants';\nimport { LOCAL_STORAGE } from '@/constants';\n\nconst { LOGIN } = USER;\n\nexport interface UserInfoProps {\n  provider: string;\n  uid: number | undefined;\n  username: string;\n  password: string;\n  loginName: string;\n  avatarUrl: string;\n  email: string;\n  role: string;\n  token: string | undefined;\n  bio: string;\n  location: string;\n  createdAt: string;\n}\n\nexport interface UserState {\n  isLogin: boolean;\n  isLockScreen: boolean;\n  userInfo: UserInfoProps;\n}\n\nconst initialState: UserState = {\n  isLogin: false,\n  isLockScreen: false,\n  userInfo: {\n    provider: '',                   // github ?\n    uid: undefined,                 // 用户ID\n    createdAt: '',                  // 注册时间\n    bio: '',                        // 简介\n    username: '',                   // 昵称\n    password: '',                   // 经过MD5加密后的密码\n    loginName: '',                  // 登录名\n    avatarUrl: '',                  // 头像\n    email: '',\n    role: '',\n    token: undefined,               // 登录凭证\n    location: ''\n  }\n};\n \nfunction user(state = initialState, action: any): UserState {\n  switch (action.type) {\n    case LOGIN:\n      const userInfo = action.userInfo;\n      if (userInfo && userInfo.token) {\n        state.isLogin = true;\n        window.localStorage.setItem(LOCAL_STORAGE.USER, JSON.stringify(userInfo));\n        window.localStorage.setItem(LOCAL_STORAGE.LOGIN_NAME, userInfo.loginName);\n      }\n      return { ...state, userInfo: action.userInfo };\n    default:\n      return state;\n  }\n}\n\nexport default user;\n","/**\n * @file System reducers\n * @since 1.0.0\n * @author xiejiahe <mb06@qq.com>\n */\n\nimport { SYSTEM } from '../constants';\nimport _ from 'lodash';\n\nconst { INFO } = SYSTEM;\n\nexport interface SystemState {\n  info: {\n    mysqlVersion: string;\n    currentSystemTime: number;\n    freemem: number;\n    totalmem: number;\n    platform: string;\n    type: string;\n    hostname: string;\n    arch: string;\n    nodeVersion: string;\n    cpus: any[];\n  }\n}\n\nconst initialState: SystemState = {\n  info: {\n    mysqlVersion: '',\n    currentSystemTime: Date.now(),\n    freemem: 0,\n    totalmem: 0,\n    platform: '',\n    type: '',\n    hostname: '',\n    arch: '',\n    nodeVersion: '',\n    cpus: []\n  }\n};\n \nfunction system(state = initialState, action: any): SystemState {\n  switch (action.type) {\n    case INFO:\n      if (_.isEmpty(action.data)) {\n        return state;\n      }\n      action.data.arch = action.data.arch.slice(1);\n      return Object.assign({}, state, { info: action.data });\n    default:\n      return state;\n  }\n}\n\nexport default system;\n","/**\n * @file Reducers Entry\n * @since 1.0.0\n * @author xiejiahe <mb06@qq.com>\n */\n\nimport { combineReducers } from 'redux';\nimport user from './user';\nimport system from './system';\n\nexport default combineReducers({\n  user,\n  system\n});\n","/**\n * @file Store main entry.\n * @since 1.0.0\n * @author xiejiahe <mb06@qq.com>\n */\n\nimport { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers';\nimport { UserState } from './reducers/user';\nimport { SystemState } from './reducers/system';\n\nexport interface StoreState {\n  user: UserState;\n  system: SystemState;\n}\n\nconst store = createStore(\n  rootReducer,\n  applyMiddleware(thunk)\n);\n\nexport default store;\n","/**\n * @file axios http request config\n * @since 1.0.0\n * @author xiejiahe <mb06@qq.com>\n */\n\nimport axios from 'axios';\nimport CONFIG from '@/config';\nimport store from '@/store';\nimport { message } from 'antd';\nimport { logout } from '@/store/actions';\nimport { spin } from '@/utils';\n\nlet _logout = false;\nconst CancelToken = axios.CancelToken;\n\nfunction handleError(error: any): Promise<any> | undefined {\n\n  if (axios.isCancel(error)) {\n    \n  } else {\n    const response = error.response;\n    message.error(`${response.status} ${response.statusText}`);\n  }\n  return;\n}\n\n/**\n * Global HTTP Setting\n */\naxios.defaults.timeout = 60000;\naxios.defaults.headers.common.isLoading = true;\naxios.defaults.headers.common.successAlert = false;\naxios.defaults.headers.common.errorAlert = true;\naxios.defaults.baseURL = CONFIG.http.baseURL;\n\n// http Request instance\nconst httpInstance = axios.create();\n// Merge axios to httpInstance, \nObject.setPrototypeOf(httpInstance, axios);\n\n\nhttpInstance.interceptors.request.use(function (config) {\n  const method = config.method;\n  const url = config.url;\n  const userState = store.getState().user.userInfo;\n\n  /**\n   * 取消重复请求，保留最后一次请求\n   */\n  window.axiosCancelTokenStore.forEach((store, idx) => {\n    if (\n      config.headers.cancelRequest !== false && \n      store.url === url && \n      store.method === method\n    ) {\n      store.cancel();\n      window.axiosCancelTokenStore.splice(idx, 1);\n    }\n  });\n  \n  config.headers.token = userState.token;\n  config.cancelToken = new CancelToken(cancel => {\n    window.axiosCancelTokenStore.push({\n      // 记录当前请求页面，用于取消时判断是否是当前路由\n      pathname: window.location.pathname,\n      method,\n      url,\n      cancel\n    });\n  });\n\n  // 默认需要携带的数据\n  const data: any = {};\n\n  // 显示Loading\n  if (config.headers.isLoading) {\n    spin.start();\n  }\n\n  if (method === 'post' || method === 'put') {\n    // 处理FormData传输方式\n    if (config.data instanceof FormData) {\n      for (let key in data) {\n        config.data.append(key, data[key])\n      }\n    } else {\n      config.data = Object.assign(data, config.data);\n    }\n  }\n\n  return config;\n}, function (error) {\n  return (handleError(error) as any) || Promise.reject(error);\n});\n\n\nhttpInstance.interceptors.response.use(function (res) {\n\n  if (res.config.headers.isLoading) {\n    spin.done();\n  }\n\n  if (!res.data.success && res.config.headers.errorAlert) {\n    message.warn(res.data.msg || '服务器出小差');\n  }\n\n  if (res.data.success && res.config.headers.successAlert) {\n    message.success(res.data.msg || 'success');\n  }\n\n  // 登录凭证失效\n  if (res.data.errorCode === 401 && !_logout) {\n    _logout = true;\n    setTimeout(() => {\n      logout();\n    }, 2000);\n  }\n  return res;\n}, function (error) {\n  return (handleError(error) as any) || Promise.reject(error);\n});\n\nexport default httpInstance;\n","import http from '@/utils/http';\nimport api from '@/api';\n\n// 通过账号密码登录\nexport function serviceLogin(data: object) {\n  return http.post(api.login, data);\n}\n\n// 通过token登录\nexport function serviceLoginByToken(token: string) {\n  return http.get(api.loginByToken, {\n    params: { token }\n  });\n}\n\n// 退出登录\nexport function serviceLogout() {\n  return http.get(api.logout);\n}\n\n// 更新用户信息\nexport function serviceUpdateUser(data: object) {\n  return http.post(api.updateUser, data, {\n    headers: { successAlert: true }\n  });\n}\n\n// 获取用户配置信息\nexport function serviceGetUserConfig() {\n  return http.get(api.getUserConfig);\n}\n\n// 更新用户配置信息\nexport function serviceUpdateUserConfig(data: object) {\n  return http.put(api.getUserConfig, data, { headers: { successAlert: true } });\n}\n","import http from '@/utils/http';\nimport api from '@/api';\n\n// 获取系统信息\nexport function serviceGetSystemInfo() {\n  return http.get(api.getSystemInfo);\n}\n\n","import http from '@/utils/http';\nimport api from '@/api';\n\n// 新增\nexport function serviceCreateReminder(data: object) {\n  return http.post(api.reminder, data, { headers: { successAlert: true } });\n}\n\n// 查询\nexport function serviceGetReminder(params?: object) {\n  return http.get(api.reminder, { params });\n}\n\n// 删除\nexport function serviceDeleteReminder(id: unknown) {\n  return http.delete(`${api.reminder}/${id}`, { headers: { successAlert: true } });\n}\n\n// 更新\nexport function serviceUpdateReminder(id: unknown, data: object) {\n  return http.put(`${api.reminder}/${id}`, data, { headers: { successAlert: true } });\n}\n","import http from '@/utils/http';\nimport api from '@/api';\n\n// 创建\nexport function serviceCreateTask(data: object) {\n  return http.post(api.todayTask, data, { headers: { successAlert: true } });\n}\n\n// 查询\nexport function serviceGetTask(params?: object) {\n  return http.get(api.todayTask, { params, headers: { isLoading: true } });\n}\n\n// 删除\nexport function serviceDeleteTask(id: unknown) {\n  return http.delete(`${api.todayTask}/${id}`);\n}\n\n// 更新\nexport function serviceUpdateTask(id: unknown, data?: object) {\n  return http.put(`${api.todayTask}/${id}`, data);\n}","import http from '@/utils/http';\nimport api from '@/api';\n\n\n// 类型\nexport function serviceGetCapitalFlowType() {\n  return http.get(api.capitalFlowType, { headers: { isLoading: true } });\n}\n\nexport function serviceDeleteCapitalFlowType(id: string) {\n  return http.delete(`${api.capitalFlowType}/${id}`, { headers: { successAlert: true } });\n}\n\nexport function serviceUpdateCapitalFlowType(id: string, data: object) {\n  return http.put(`${api.capitalFlowType}/${id}`, data, { headers: { successAlert: true } });\n}\n\nexport function serviceCreateCapitalFlowType(data: object) {\n  return http.post(api.capitalFlowType, data, { headers: { successAlert: true } });\n}\n\n\n// 流动资金\n\nexport function serviceGetCapitalFlow(params?: object) {\n  return http.get(api.capitalFlow, { params });\n}\n\nexport function serviceDeleteCapitalFlow(id: string) {\n  return http.delete(`${api.capitalFlow}/${id}`, { headers: { successAlert: true } });\n}\n\nexport function serviceUpdateCapitalFlow(id: string, data: object) {\n  return http.put(`${api.capitalFlow}/${id}`, data, { headers: { successAlert: true } });\n}\n\nexport function serviceCreateCapitalFlow(data: object) {\n  return http.post(api.capitalFlow, data);\n}\n\nexport function serviceGetCapitalFlowPrice(params?: object) {\n  return http.get(api.getCapitalFlowPrice, { params });\n}","import http from '@/utils/http';\nimport api from '@/api';\n\n// 新增\nexport function serviceCreateMemorandum(data: object) {\n  return http.post(api.memorandum, data, { headers: { successAlert: true } });\n}\n\n// 查询所有\nexport function serviceGetMemorandum(params?: object) {\n  return http.get(api.memorandum, { params, headers: { isLoading: true } });\n}\n\n// 通过id查询\nexport function serviceGetMemorandumById(id: unknown) {\n  return http.get(`${api.memorandum}/${id}`, { headers: { isLoading: true } });\n}\n\n// 删除\nexport function serviceDeleteMemorandum(id: unknown) {\n  return http.delete(`${api.memorandum}/${id}`);\n}\n\n// 更新\nexport function serviceUpdateMemorandum(id: unknown, data: object) {\n  return http.put(`${api.memorandum}/${id}`, data, { headers: { successAlert: true } });\n}\n","import http from '@/utils/http';\nimport api from '@/api';\n\n// 查询\nexport function serviceGetInnerMessage(params?: object) {\n  return http.get(api.innerMessage, { params, headers: { errorAlert: false, cancelRequest: false } });\n}\n\n// 标志已读\nexport function serviceUpdateInnerMessageHasRead(id: unknown) {\n  return http.put(`${api.innerMessage}/${id}`, null, { headers: { successAlert: true } });\n}\n","import http from '@/utils/http';\nimport api from '@/api';\n\n// 创建\nexport function serviceCreateTodoList(data: object) {\n  return http.post(api.todoList, data);\n}\n\n// 查询\nexport function serviceGetTodoList(params?: object) {\n  return http.get(api.todoList, { params });\n}\n\n// 删除\nexport function serviceDeleteTodoList(id: unknown) {\n  return http.delete(`${api.todoList}/${id}`, { headers: { successAlert: true } });\n}\n\n// 更新\nexport function serviceUpdateTodoList(id: unknown, data?: object) {\n  return http.put(`${api.todoList}/${id}`, data);\n}","import http from '@/utils/http';\nimport api from '@/api';\n\n// 获取后台首页面板数据\nexport function serviceGetPanelData(params?: object) {\n  return http.get(api.getPanelData, { params });\n}\n\n\n","\nexport * from './user';\nexport * from './system';\nexport * from './reminder';\nexport * from './todayTask';\nexport * from './capitalFlow';\nexport * from './memorandum';\nexport * from './innerMessage';\nexport * from './todoList';\nexport * from './common';","\nconst API = {\n  // 验证码\n  getCaptcha: '/api/captcha?code=',\n  // 账号密码登录\n  login: '/passport/local',\n  // 使用token登录\n  loginByToken: '/accessToken',\n  // 退出登录\n  logout: '/logout',\n  // 获取系统信息\n  getSystemInfo: '/system/info',\n  // 更新用户\n  updateUser: '/user/update',\n  // 获取用户配置\n  getUserConfig: '/userConfig',\n  // 提醒事项\n  reminder: '/reminder',\n  // 今日待办\n  todayTask: '/task',\n  // 资金流动类型\n  capitalFlowType: '/capitalFlowType',\n  // 资金流动\n  capitalFlow: '/capitalFlow',\n  // 获取资金流动金额\n  getCapitalFlowPrice: '/capitalFlow/price',\n  // 备忘录\n  memorandum: '/memorandum',\n  // 站内消息\n  innerMessage: '/innerMessage',\n  // 活动清单\n  todoList: '/todoList',\n  // 获取首页面板数据\n  getPanelData: '/panel'\n};\n\nexport default API;\n","module.exports = __webpack_public_path__ + \"static/media/logo.cd8ff2de.png\";","import React from 'react';\nimport { Avatar as AvatarComponent } from 'antd';\nimport { AvatarProps } from 'antd/lib/avatar';\n\nfunction handleError() {\n  return true;\n}\n\nconst Avatar: React.FC<AvatarProps> = (props): JSX.Element => {\n  return (\n    <AvatarComponent {...props} onError={handleError} />\n  )\n};\n\nexport default Avatar;\n","import { Modal, message } from 'antd';\n\n\nconst CODE = 'qwertyuipasdfghjklxcvbnm13456789';\n\n/**\n * 计算百分比\n * @example\n * totalPercentage(8589934592, 225492992);  // => 98\n */\nexport function totalPercentage(totalmem: number, freemem: number) {\n  return Math.floor((totalmem - freemem) / totalmem * 100);\n}\n\n/**\n * 删除模态对话框\n * @return Promise\n */\nexport function modalConfirmDelete(object = {}) {\n  return new Promise(resolve => {\n    Modal.confirm({\n      title: '确定要删除吗？',\n      okType: 'danger',\n      onOk() {\n        resolve(true);\n      },\n      ...object\n    });\n  });\n}\n\n\n// 全屏浏览器\nexport function fullscreen() {\n  try {\n    const docElm = document.documentElement as any;\n    if (docElm.requestFullscreen) {  \n      docElm.requestFullscreen();  \n    } else if (docElm.webkitRequestFullScreen) {  \n      docElm.webkitRequestFullScreen();  \n    } else if (docElm.mozRequestFullScreen) {  \n      docElm.mozRequestFullScreen();  \n    } else if (docElm.msRequestFullscreen) {\n      docElm.msRequestFullscreen();\n    }\n  } catch {\n    message.warn('您所使用的浏览器不支持全屏');\n  }\n}\n\n// 退出全屏浏览器\nexport function exitFullscreen() {\n  try {\n    const doc = document as any;\n    if (doc.exitFullscreen) {  \n      doc.exitFullscreen();  \n    } else if (doc.mozCancelFullScreen) {  \n      doc.mozCancelFullScreen();  \n    } else if (doc.webkitCancelFullScreen) {  \n      doc.webkitCancelFullScreen();  \n    } else if (doc.msExitFullscreen) {\n      doc.msExitFullscreen();\n    }\n  } catch {\n    message.warn('您所使用的浏览器不支持退出全屏, 请按ESC');\n  }\n}\n\n// 随机字符串\nexport function randomCode(num = 4) {\n  let data = '';\n  \n  for (let i = 0; i < num; i++) {\n    const random = Math.floor(Math.random() * CODE.length);\n    data += CODE[random];\n  }\n\n  return data;\n}\n","import moment from 'moment';\n\ntype ns = number | string;\n\nexport const ONE_DAY_TIMESTAMP = 60 * 60 * 24 * 1000 - 1;\n\n// 获取当前月份总天数\nexport function getCurMonthTotalDay(): number {\n  return moment().daysInMonth();\n}\n\n// 获取当前月份的第一天日期\nexport function getCurMonthFirstDay(format: 'timestamp'): number;\nexport function getCurMonthFirstDay(format: string): string;\nexport function getCurMonthFirstDay(format: string = 'timestamp'): ns {\n  const cur = new Date();\n  cur.setDate(1);\n  cur.setHours(0, 0, 0);\n  return format === 'timestamp' ? cur.getTime() : moment(cur).format(format);\n}\n\n// 获取当前月份的最后一天日期\nexport function getCurMonthLastDay(format: 'timestamp'): number;\nexport function getCurMonthLastDay(format: string): string;\nexport function getCurMonthLastDay(format: string = 'timestamp'): ns {\n  const cur = new Date();\n  cur.setDate(getCurMonthTotalDay());\n  cur.setHours(23, 59, 59);\n  return format === 'timestamp' ? cur.getTime() : moment(cur).format(format);\n}\n\n// 判断传入时间戳是否小于今天时间戳\nexport function isLtTodayTimestamp (current: moment.Moment | null): boolean {\n  const todayTimestamp = new Date().setHours(0, 0, 0, 0);\n  if (current && current.valueOf() > todayTimestamp) {\n    return false;\n  }\n  return true;\n}\n\n// 获取今天日期开始时间戳， 如：2019-07-05 00:00:00\nexport function getTodayStartTimestamp() {\n  return new Date().setHours(0, 0, 0, 0);\n}\n\n// 获取今天日期开始时间戳， 如：2019-07-05 23:59:59\nexport function getTodayEndTimestamp() {\n  return new Date().setHours(23, 59, 59);\n}\n\n// 根据日期获取开始时间戳\nexport function getStartTimestampByDate(date: any = Date.now()) {\n  return new Date(date).setHours(0, 0, 0, 0);\n}\n\n// 根据日期获取结束时间戳\nexport function getEndTimestampByDate(date: any = Date.now()) {\n  return new Date(date).setHours(23, 59, 59);\n}\n\n// 获取今天日期开始时间戳和结束时间戳\nexport function getTodayStartAndEndTimestamp(): [number, number] {\n  return [getTodayStartTimestamp(), getTodayEndTimestamp()];\n}\n\n// 判断是否是今天\nexport function isToday(date: any) {\n  try {\n    const parse = +new Date(date);\n    if (getTodayStartTimestamp() < parse && getTodayEndTimestamp() > parse) {\n      return true;\n    }\n  } catch {\n    return false;\n  }\n}\n\n// 获取今年第一天\nexport function getThisYearFirstDay() {\n  const now = new Date();\n  now.setMonth(0, 1);\n  now.setHours(0, 0, 0, 0);\n\n  return moment(now.getTime());\n}\n","/**\n * @file Customization nprogress\n * @since 1.0.0\n * @author xiejiahe <mb06@qq.com>\n */\n\nimport Np from 'nprogress';\n\nNp.configure({\n  template: '<div class=\"bar\" role=\"bar\"><div class=\"peg\"></div></div><div class=\"spinner\" role=\"spinner\"><div class=\"spinner-icon\"></div></div>'\n});\n\nexport const NProgress = Np;\n","\nconst spinHTML = '<div class=\"ant-spin ant-spin-spinning\"><span class=\"ant-spin-dot ant-spin-dot-spin\"><i class=\"ant-spin-dot-item\"></i><i class=\"ant-spin-dot-item\"></i><i class=\"ant-spin-dot-item\"></i><i class=\"ant-spin-dot-item\"></i></span></div>';\nlet containerEl: HTMLElement;\n\nfunction start() {\n  try {\n    if (document.querySelector('.spin-loading')) {\n      return;\n    }\n\n    containerEl = containerEl || document.getElementById('container') as HTMLElement;\n    const spinEl = document.createElement('div');\n    spinEl.className = 'spin-loading';\n    spinEl.innerHTML = spinHTML;\n    containerEl.appendChild(spinEl);\n  } catch {}\n}\n\nfunction done() {\n  try {\n    const spin = document.querySelector('.spin-loading') as any;\n    if (!spin) return;\n    spin.parentNode.removeChild(spin);\n  } catch {}\n}\n\nexport const spin = { start, done };\n","\nexport * from './helper';\nexport * from './date';\nexport * from './nprogress';\nexport * from './spin';\n","module.exports = __webpack_public_path__ + \"static/media/no-data.ab7ce88c.svg\";","/**\n * @file Global config file\n * @since 1.0.0\n * @author xiejiahe <mb06@qq.com>\n */\n\nconst isProduction = process.env.NODE_ENV === 'production';\nconst isDevelopment = !isProduction;\n\nconst CONFIG = {\n  isProduction,\n  isDevelopment,\n  // 路由 basename\n  baseURL: '/',\n  // 网页标题\n  title: 'Tomato Work',\n  http: {\n    baseURL: '/api'\n  },\n  github: {\n    clientId: isProduction ? '9a6052b7834e7441cb95' : '489b39e1f91d934128c8',\n    // callbackURL 不可随意更改, 否则需要与服务端配置文件一同修改\n    callbackURL: `${window.location.origin}/api/passport/github/callback`,\n    repositoryUrl: 'https://github.com/xjh22222228/tomato-work',\n    bug: 'https://github.com/xjh22222228/tomato-work/issues'\n  }\n};\n\nexport default CONFIG;\n","/**\n * @file localStorage / sessionStorage constants file.\n * @since 1.0.0\n * @author xiejiahe <mb06@qq.com>\n */\n\nexport const LOCAL_STORAGE = {\n  USER: 'USER',\n  SIDEBAR_COLLAPSED: 'SIDEBAR_COLLAPSED',\n  LOGIN_NAME: 'LOGIN_NAME',\n  LOCK_SCREEN: 'LOCK_SCREEN'\n};\n\nexport const SESSION_STORAGE = {};\n","import { HOME, SETTING } from '@/router/constants';\n\nexport const HOME_SIDER_MENU_LIST = [\n  {\n    path: HOME.HOME_INDEX.path,\n    type: 'home',\n    name: HOME.HOME_INDEX.name\n  },\n  {\n    path: HOME.REMINDER.path,\n    type: 'clock-circle',\n    name: HOME.REMINDER.name\n  },\n  {\n    path: HOME.TODO_LIST.path,\n    type: 'file-done',\n    name: HOME.TODO_LIST.name,\n  },\n  {\n    path: HOME.TODAY_TASK.path,\n    type: 'schedule',\n    name: HOME.TODAY_TASK.name\n  },\n  {\n    path: '',\n    type: 'bar-chart',\n    name: '财务管理',\n    children: [\n      {\n        path: HOME.CAPITAL_FLOW.path,\n        name: HOME.CAPITAL_FLOW.name,\n      },\n      {\n        path: HOME.CAPITAL_FLOW_TYPE.path,\n        name: HOME.CAPITAL_FLOW_TYPE.name,\n      }\n    ]\n  },\n  {\n    path: HOME.MEMORANDUM.path,\n    type: 'form',\n    name: '我的备忘',\n    children: [\n      {\n        path: HOME.MEMORANDUM.path,\n        name: HOME.MEMORANDUM.name,\n      },\n      {\n        path: HOME.MEMORANDUM_CREATE.path[0],\n        name: HOME.MEMORANDUM_CREATE.name,\n      }\n    ]\n  },\n  {\n    path: SETTING.BASE.path,\n    type: 'user',\n    name: SETTING.BASE.name\n  }\n];\n\nexport const SETTING_SIDER_MENU_LIST = [\n  {\n    path: SETTING.BASE.path,\n    name: SETTING.BASE.name\n  },\n  {\n    path: SETTING.INNER_MESSAGE.path,\n    name: SETTING.INNER_MESSAGE.name\n  },\n  {\n    path: SETTING.NOTIFICATION.path,\n    name: SETTING.NOTIFICATION.name\n  },\n  {\n    path: SETTING.ACCOUNT.path,\n    name: SETTING.ACCOUNT.name\n  },\n];\n","\nexport * from './storage';\nexport * from './menu';\n","/**\n * @file Define action type constants\n * @since 1.0.0\n * @author xiejiahe <mb06@qq.com>\n */\n\nexport const USER: any = {\n  LOGIN: 'LOGIN',\n  LOGOUT: 'LOGOUT',\n};\n\nexport const SYSTEM: any = {\n  INFO: 'INFO'\n};\n","/**\n * @file System Action Creator\n * @since 1.0.0\n * @author xiejiahe <mb06@qq.com>\n */\n\nimport { SYSTEM } from '../constants';\nimport { serviceGetSystemInfo } from '@/services';\nimport { Dispatch } from 'redux';\n\nconst { INFO } = SYSTEM;\n\nexport function setSystemInfo(data: any = {}) {\n  return { type: INFO, data };\n}\n\n/**\n * 获取系统信息\n */\nexport function getSystemInfo() {\n  return function (dispatch: Dispatch, getState: () => any) {\n    const { system: { info } } = getState();\n    \n    if (info.nodeVersion) {\n      return dispatch(setSystemInfo()); \n    }\n\n    return serviceGetSystemInfo().then((res: any) => {\n      if (res.data.success) {\n        const data = res.data.data;\n        return dispatch(setSystemInfo(data));\n      }\n      return dispatch(setSystemInfo());\n    });\n  }\n}\n","\nexport * from './user';\nexport * from './system';\n","import React from 'react';\nimport { Switch, Route, Redirect, withRouter, RouteComponentProps } from 'react-router-dom';\nimport { IRouteProps } from '@/router/types';\nimport CONFIG from '@/config';\nimport { connect } from 'react-redux';\nimport { StoreState } from '@/store/index';\nimport { HOME } from '@/router/constants';\nimport qs from 'query-string';\n\ntype Props = IRouteProps & ReturnType<typeof mapStateToProps> & RouteComponentProps;\n\nconst PrivateRoute: React.FC<Props> = function ({\n  component: Component,\n  childrenRoutes,\n  isLogin,\n  location,\n  ...rest\n}) {\n\n  // 取消不是当前页面的所有http请求\n  if (Array.isArray(window.axiosCancelTokenStore)) {\n    window.axiosCancelTokenStore.forEach(store => {\n      if (store.pathname !== location.pathname) {\n        store.cancel();\n      }\n    });\n    window.axiosCancelTokenStore = [];\n  }\n\n  const { meta } = rest;\n  if (meta) {\n    if (meta.title) {\n      document.title = `${meta.title} - ${CONFIG.title}`;\n    } else {\n      document.title = CONFIG.title;\n    }\n  }\n  \n  // 验证权限\n  const auth = function () {\n    if (meta && meta.requiresAuth) {\n      if (isLogin) {\n        return true;\n      }\n      return false;\n    }\n    return true;\n  }();\n  \n  if (meta && meta.isLoginToHome && isLogin)  {\n    const redirectUrl = qs.parse(location.search).redirectUrl as string;\n    const url = redirectUrl || HOME.HOME_INDEX.path;\n    return <Redirect to={url} />\n  }\n\n  return (\n    <Route render={props => {\n      return (\n        auth\n          ?\n          <Component {...props} {...rest}>\n          {\n            Array.isArray(childrenRoutes)\n              ? (\n                <Switch>\n                {\n                  childrenRoutes.map((route, idx: number) => {\n                    return <PrivateRouteComponent {...route} key={idx} />;\n                  })\n                }\n                </Switch>\n              )\n              : null\n          }\n          </Component>\n          :\n          <Redirect to={{\n            pathname: '/',\n            search: `?redirectUrl=${props.location.pathname}`\n          }} />\n      )\n    }} />\n  )\n};\n\nconst mapStateToProps = (state: StoreState) => {\n  return {\n    isLogin: state.user.isLogin\n  }\n};\n\nexport const PrivateRouteComponent = connect(mapStateToProps)(withRouter(PrivateRoute));\n\nexport default PrivateRouteComponent;\n","import React from 'react';\nimport './style.scss';\nimport CONFIG from '@/config';\n\nconst currentYear = new Date().getFullYear();\n\nconst Footer = () => {\n  return (\n    <footer className=\"global-footer\">\n      <div>\n        Copyright &copy; 2019-{currentYear} {CONFIG.title} - \n        <a href=\"https://github.com/xjh22222228\" target=\"_blank\" rel=\"noopener noreferrer\"> xiejiahe</a>\n      </div>\n    </footer>\n  )\n};\n\nexport default React.memo(Footer);\n","import React, {\n  useState,\n  useEffect,\n  useCallback\n} from 'react';\nimport './style.scss';\nimport { Button, Input, Icon, message, Popover } from 'antd';\nimport Footer from '@/components/footer';\nimport { useFormInput } from '@/hooks';\nimport { RouteComponentProps } from 'react-router-dom';\nimport { DispatchProp, connect } from 'react-redux';\nimport { ThunkDispatch } from 'redux-thunk';\nimport { AnyAction } from 'redux';\nimport { githubAuthz, loginByToken, setUser } from '@/store/actions';\nimport { serviceLogin } from '@/services';\nimport { HOME } from '@/router/constants';\nimport { LOCAL_STORAGE } from '@/constants';\nimport qs from 'query-string';\nimport md5 from 'blueimp-md5';\nimport _ from 'lodash';\nimport api from '@/api';\nimport config from '@/config';\nimport { randomCode } from '@/utils';\n\n\ntype ThunkDispatchProps = ThunkDispatch<{}, {}, AnyAction>;\ntype LoginProps = {\n  dispatch: ThunkDispatchProps;\n} & DispatchProp & RouteComponentProps;\n\nconst PopoverContent = (\n  <div style={{ padding: '10px 20px 10px 20px' }}>\n    <div>本站不开放注册账号，首次登陆请使用GitHub</div>\n    <div>登陆后系统将自动注册账号, 密码为123456</div>\n  </div>\n);\n\nlet captcha = randomCode();\nconst LOGIN_NAME = window.localStorage.getItem(LOCAL_STORAGE.LOGIN_NAME) || '';\n\nconst Login: React.FC<LoginProps> = function ({\n  dispatch,\n  history,\n  location\n}) {\n  const loginName = useFormInput(LOGIN_NAME);\n  const password = useFormInput('');\n  const code = useFormInput('');\n  const [loading, setLoading] = useState(false);\n  const [redirectUrl] = useState(() => {\n    const url = qs.parse(location.search).redirectUrl as string;\n    return url || HOME.HOME_INDEX.path;\n  });\n\n  const handleSubmit = () => {\n    const _loginName = loginName.value.trim();\n    const _password = password.value.trim();\n    const _code = code.value.trim();\n\n    try {\n      if (!_loginName) {\n        throw new Error('用户名不能为空');\n      }\n      if (!_password) {\n        throw new Error('密码不能为空');\n      }\n      if (_code !== captcha) {\n        throw new Error('验证码错误');\n      }\n\n      setLoading(true);\n      serviceLogin({ loginName: _loginName, password: md5(_password), code: _code })\n      .then(res => {\n        setLoading(false);\n        if (res.data.success) {\n          dispatch(setUser(res.data.data.userInfo));\n          history.replace(redirectUrl);\n        }\n      })\n      .catch(_ => {\n        setLoading(false);\n      });\n    } catch (err) {\n      message.warn(err.message);\n      return;\n    }\n  };\n\n  const reloadCaptcha = useCallback(e => {\n    captcha = randomCode();\n    const url = api.getCaptcha + captcha;\n    e.target.src = url;\n  }, []);\n  \n  const githubHandler = () => {\n    setLoading(true);\n    githubAuthz();\n  };\n\n  useEffect(() => {\n    const query = qs.parse(location.search);\n    const { token, state } = query;\n\n    if (Number(state) === 0) {\n      message.error('登录失败，请重新登录');\n      return;\n    }\n\n    if (token) {\n      dispatch(loginByToken(token as string))\n      .then((res) => {\n        if (!_.isEmpty(res.userInfo)) {\n          history.replace(redirectUrl);\n        }\n      });\n    }\n  }, [history, location.search, dispatch, redirectUrl]);\n\n  return (\n    <section className=\"login-page\">\n      <a href={config.github.repositoryUrl} target=\"_blank\">\n        <svg width=\"56\" height=\"56\" viewBox=\"0 0 250 250\" className=\"svg-wrapper\" aria-hidden=\"true\"><path d=\"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z\"></path><path d=\"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2\" fill=\"currentColor\" className=\"octo-arm\"></path><path d=\"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z\" fill=\"currentColor\"></path></svg>\n      </a>\n      \n      <div className=\"wrap\">\n        <div>\n          <div className=\"logo-wrap\">\n            <img src={require('@/assets/img/common/logo.png')} className=\"logo\" />\n            <em>{ config.title }</em>\n          </div>\n          <Input.Group>\n            <Input\n              {...loginName} \n              placeholder=\"Username\"\n              prefix={<Icon type=\"user\" />} \n              maxLength={32} \n              autoComplete=\"off\" \n              onPressEnter={handleSubmit} \n            />\n            <Input\n              {...password}\n              placeholder=\"Password\"\n              prefix={<Icon type=\"lock\" />} \n              maxLength={32} \n              type=\"password\" \n              autoComplete=\"off\"\n              onPressEnter={handleSubmit}\n            />\n            <Input\n              {...code}\n              placeholder=\"请输入验证码\"\n              prefix={<Icon type=\"picture\" />} \n              maxLength={4} \n              autoComplete=\"off\" \n              onPressEnter={handleSubmit} \n              suffix={\n                <img \n                  src={`${api.getCaptcha}${captcha}`} \n                  className=\"captcha\" \n                  onClick={reloadCaptcha}\n                />\n              }\n            />\n          </Input.Group>\n          <Button \n            type=\"primary\" \n            style={{ marginTop: '20px' }} \n            size=\"large\" \n            loading={loading} \n            block \n            onClick={handleSubmit}\n          >\n            { loading ? '登 录 中...' : '登 录' }\n          </Button>\n          <div className=\"other-login\">\n            <span className=\"txt\">其他登录方式</span>\n            <Icon \n              type=\"github\" \n              onClick={githubHandler} \n            />\n            <div className=\"to-register\">\n              <Popover content={PopoverContent} trigger=\"hover\" placement=\"bottomRight\">\n                <em className=\"cursor_pointer\">注册账号</em>\n              </Popover>\n            </div>\n          </div>\n        </div>\n      </div>\n      <Footer />\n    </section>\n  )\n};\n\nexport default connect()(Login);\n","import React from 'react';\nimport './style.scss';\nimport { Result, Button } from 'antd';\nimport { withRouter, RouteComponentProps } from 'react-router-dom';\n\ninterface Props {\n  status?: '403' | '404' | '500';\n}\n\nconst statusMap = {\n  '403': {\n    title: '403',\n    subTitle: 'Sorry, you are not authorized to access this page.',\n  },\n  '404': {\n    title: '404',\n    subTitle: 'Sorry, the page you visited does not exist.',\n  },\n  '500': {\n    title: '500',\n    subTitle: 'Sorry, the server is wrong.',\n  }\n};\n\nconst NoMatch: React.FC<Props & RouteComponentProps> = function ({ history, status = '404' }) {\n  return (\n    <Result \n      status={status} \n      extra={<Button type=\"primary\" onClick={() => history.goBack()}>Back</Button>} \n      {...statusMap[status]}\n    />\n  );\n};\n\nexport default withRouter(NoMatch);\n","import React from 'react';\nimport './style.scss';\nimport Exception from '@/components/exception';\n\nconst NoMatch = () => (<div className=\"exception-wrapper\"><Exception /></div>)\n\nexport default NoMatch;\n","import React, { useEffect, useState, useCallback } from 'react';\nimport './style.scss';\nimport { Layout, Menu, Icon } from 'antd';\nimport { withRouter, RouteComponentProps, Link } from 'react-router-dom';\nimport { HomeMainState } from '@/views/home/main-entry/index';\nimport { HOME_SIDER_MENU_LIST } from '@/constants';\nimport config from '@/config';\n\nconst { Sider } = Layout;\nconst { SubMenu } = Menu;\n\ntype Props = HomeMainState & RouteComponentProps;\n\nconst Sidebar: React.FC<Props> = function ({ location, collapsed }) {\n  const [selectedKeys, setSelectedKeys] = useState('');\n  const [openKeys, setOpenKeys] = useState([] as string[]);\n\n  const handleOpenChange = useCallback(openKeys => {\n    setOpenKeys(openKeys);\n  }, []);\n\n  useEffect(() => {\n    const pathname = location.pathname;\n    const fragment = pathname.split('/').slice(0, 3);\n    const prefixPath = fragment.join('/');\n    if (fragment.length === 3) {\n      for (let i = 0; i < HOME_SIDER_MENU_LIST.length; i++) {\n        const menu = HOME_SIDER_MENU_LIST[i];\n        if (Array.isArray(menu.children)) {\n          const findIdx = menu.children.findIndex(menu => pathname === menu.path);\n          if (findIdx !== -1) {\n            setSelectedKeys(menu.children[findIdx].path);\n            setOpenKeys([menu.name]);\n            break;\n          }\n        }\n        if (menu.path.indexOf(prefixPath) !== -1) {\n          setSelectedKeys(menu.path);\n          break;\n        }\n      }\n    }\n  }, [location.pathname]);\n\n  return (\n    <Sider \n      trigger={null}\n      collapsible\n      collapsed={collapsed} \n      width={210} \n      className=\"sidebar\"\n    >\n      <div className=\"sider-menu-logo\">\n        <img \n          src={require('@/assets/img/common/logo.png')} \n          alt=\"logo\" \n        />\n        <h1>{ config.title }</h1>\n      </div>\n      <Menu \n        selectedKeys={[selectedKeys]}\n        openKeys={openKeys}\n        onOpenChange={handleOpenChange}\n        mode=\"inline\"\n        theme=\"dark\" \n      >\n      {\n        HOME_SIDER_MENU_LIST.map(menu => {\n          if (Array.isArray(menu.children)) {\n            return (\n              <SubMenu\n                key={menu.name}\n                title={\n                  <>\n                    <Icon type={menu.type} />\n                    <span>{ menu.name }</span>\n                  </>\n                }\n              >\n              {\n                menu.children.map(subItem => (\n                  <Menu.Item key={subItem.path}>\n                    <Link to={subItem.path}>{ subItem.name }</Link>\n                  </Menu.Item>\n                ))\n              }\n              </SubMenu>\n            )\n          }\n          return (\n            <Menu.Item key={menu.path}>\n              <Link to={menu.path}>\n                <Icon type={menu.type} />\n                <span>{ menu.name }</span>\n              </Link>\n            </Menu.Item>\n          )\n        })\n      }\n      </Menu>\n    </Sider>\n  )\n};\n\nexport default withRouter(Sidebar);\n","import React, { useEffect, useState, useMemo, useCallback } from 'react';\nimport './style.scss';\nimport { Layout, Icon, Badge, Popover } from 'antd';\nimport { withRouter, RouteComponentProps, Link } from 'react-router-dom';\nimport { HomeMainState } from '@/views/home/main-entry/index';\nimport { connect } from 'react-redux';\nimport { StoreState } from '@/store';\nimport { logout } from '@/store/actions/user';\nimport Avatar from '@/components/avatar';\nimport { SETTING } from '@/router/constants';\nimport { serviceGetInnerMessage } from '@/services';\nimport moment from 'moment';\nimport config from '@/config';\nimport { fullscreen, exitFullscreen } from '@/utils';\n\nconst { Header } = Layout;\nconst popoverList = [\n  { name: SETTING.BASE.name, path: SETTING.BASE.path },\n  { name: SETTING.NOTIFICATION.name, path: SETTING.NOTIFICATION.path },\n  { name: SETTING.ACCOUNT.name, path: SETTING.ACCOUNT.path }\n];\n\ntype Props = ReturnType<typeof mapStateToProps> & HomeMainState & RouteComponentProps;\n\nconst PopoverContent = (\n  <div className=\"popover-content\">\n  {\n    popoverList.map(el => (\n      <Link to={el.path} key={el.name} className=\"ls\">{ el.name }</Link>\n    ))\n  }\n    <div className=\"ls sign-out\" onClick={() => logout()}>\n      <Icon type=\"poweroff\" style={{ fontSize: '14px', marginRight: '5px' }} />\n      退出\n    </div>\n  </div>\n);\n\nconst HomeHeader: React.FC<Props> = function ({\n  collapsed,\n  setCollapsed,\n  userInfo\n}) {\n\n  const [messageList, setMessageList] = useState([]);\n  const [unReadCount, setUnReadCount] = useState(0);\n  const [isFullscreen, setIsFullscreen] = useState(false);\n\n  useEffect(() => {\n    serviceGetInnerMessage({ pageSize: 5 })\n    .then(res => {\n      if (res.data.success) {\n        let count = 0;\n        const data = res.data.data.rows.map((item: any) => {\n          item.createdAt = moment(item.createdAt).format('YYYY-MM-DD HH:mm');\n          if (!item.hasRead) {\n            count++;\n          }\n          return item;\n        });\n        setUnReadCount(count);\n        setMessageList(data);\n      }\n    });\n  }, []);\n\n  const MessageContent = useMemo(() => (\n    <div className=\"message-popover\">\n      <div className=\"msg-header item-block\">\n        <span className=\"left\">站内消息通知</span>\n        <Link className=\"right\" to={SETTING.NOTIFICATION.path}>消息接收管理</Link>\n      </div>\n      {\n        messageList.map((item: any) => (\n          <div className=\"item-block ls\" key={item.id}>\n            <div className=\"content\">{ item.content }</div>\n            <div className=\"date\">{ item.createdAt }</div>\n          </div>\n        ))\n      }\n      <Link className=\"item-block ls\" to={SETTING.INNER_MESSAGE.path}>查看更多</Link>\n    </div>\n  ), [messageList]);\n\n  const handleFullscreen = useCallback(() => {\n    setIsFullscreen(isFullscreen => {\n      isFullscreen ? exitFullscreen() : fullscreen();\n      return !isFullscreen;\n    });\n  }, [setIsFullscreen]);\n\n  return (\n    <Header>\n      <div className=\"left\">\n        <Icon \n          type={ collapsed ? 'menu-unfold' : 'menu-fold' } \n          style={{ cursor: 'pointer', fontSize: '20px' }} \n          onClick={setCollapsed}\n        />\n      </div>\n      <ul className=\"right\">\n        <Popover content={MessageContent}>\n          <li>\n            <Badge dot={unReadCount > 0}>\n              <Icon type=\"bell\" />\n            </Badge>\n          </li>\n        </Popover>\n        <li onClick={handleFullscreen}>\n          <Icon type={isFullscreen ? 'fullscreen-exit' : 'fullscreen' } />\n        </li>\n        <li>\n          <a href={config.github.bug} target=\"_blank\">\n            <Icon type=\"bug\" theme=\"filled\" />\n          </a>\n        </li>\n        <li>\n          <a href={config.github.repositoryUrl} target=\"_blank\">\n            <Icon type=\"github\" />\n          </a>\n        </li>\n        <Popover \n          placement=\"bottomRight\" \n          content={PopoverContent} \n        >\n        <li>\n          <Avatar src={userInfo.avatarUrl} />\n          <span className=\"username\">{ userInfo.username }</span>\n        </li>\n        </Popover>\n      </ul>\n    </Header>\n  )\n};\n\nconst mapStateToProps = ({ user }: StoreState) => {\n  return { userInfo: user.userInfo }\n};\n\nexport default connect(mapStateToProps)(withRouter(HomeHeader));\n","import React, { useState, useCallback } from 'react';\nimport './style.scss';\nimport { Layout } from 'antd';\nimport Sidebar from '@/components/sidebar';\nimport Header from '@/components/header';\nimport { connect } from 'react-redux';\nimport { StoreState } from '@/store';\nimport { LOCAL_STORAGE } from '@/constants';\n\nconst { Content } = Layout;\nconst { SIDEBAR_COLLAPSED } = LOCAL_STORAGE;\n\nexport interface HomeMainState {\n  collapsed?: boolean;\n  setCollapsed?: () => void;\n}\n\nconst storageCollapsed = Number(window.localStorage.getItem(SIDEBAR_COLLAPSED) || true);\n\nconst HomeMain: React.FC = function (props) {\n  const [collapsed, setCollapsed] = useState(!storageCollapsed);\n\n  const handleToggleCollapsed = useCallback(() => {\n    setCollapsed(!collapsed);\n    window.localStorage.setItem(SIDEBAR_COLLAPSED, Number(collapsed) + '');\n  }, [collapsed]);\n  \n  return (\n    <section className=\"home-main\">\n      <Layout>\n        <Sidebar {...{ collapsed }} />\n        <Layout className=\"home-layout\">\n          <Header {...{ collapsed, setCollapsed: handleToggleCollapsed }}  />\n          <Content id=\"container\">\n            { React.Children.map(props.children, child => child) }\n          </Content>\n        </Layout>\n      </Layout>\n    </section>\n  );\n};\n\nconst mapStateToProps = ({ user }: StoreState) => {\n  return { userInfo: user.userInfo };\n}\n\nexport default connect(mapStateToProps)(HomeMain);\n","import React, { useCallback, useReducer, useEffect } from 'react';\nimport { \n  Modal,\n  Form,\n  Input,\n  DatePicker,\n  message\n} from 'antd';\nimport moment from 'moment';\nimport { serviceCreateReminder, serviceUpdateReminder } from '@/services';\nimport { isLtTodayTimestamp } from '@/utils';\n\nconst { TextArea } = Input;\nconst dateFormat = 'YYYY-MM-DD HH:mm:ss';\nconst defaultDate = moment(new Date(), dateFormat);\n\ntype Props = {\n  visible: boolean;\n  onCancel: () => void;\n  onSuccess: (res?: any) => void;\n  rowData?: { [propName: string]: any; };\n};\n\ninterface State {\n  confirmLoading: boolean;\n  dateMode: 'time' | 'date' | 'month' | 'year' | 'decade';\n  date: moment.Moment;\n  content: string;\n}\n\nconst initialState: State = {\n  confirmLoading: false,\n  dateMode: 'date',\n  date: defaultDate,\n  content: ''\n};\n\nfunction reducer(state: State, action: any) {\n  switch (action.type) {\n    case 'setState':\n      return { ...state, ...action.state };\n    default:\n      return state;\n  }\n}\n\nconst CreateReminder: React.FC<Props> = function ({ visible, onCancel, onSuccess, rowData }) {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  const setState = useCallback((state) => {\n    dispatch({ type: 'setState', state })\n  }, []);\n\n  const initParams = useCallback(() => {\n    if (!rowData) {\n      setState({ content: '' });\n    } else {\n      setState({\n        date: moment(rowData.date, dateFormat),\n        content: rowData.content\n      });\n    }\n  }, [setState, rowData]);\n\n  const handleSubmit = useCallback((e: React.MouseEvent | React.FormEvent) => {\n    e.preventDefault();\n    const params = {\n      date: state.date.valueOf(),\n      content: state.content.trim()\n    };\n\n    try {\n      if (!params.content) {\n        throw new Error('内容不能为空');\n      }\n    } catch (err) {\n      message.warn(err.message);\n      return;\n    }\n\n    setState({ confirmLoading: true });\n\n    (\n      !rowData \n        ? serviceCreateReminder(params) \n        : serviceUpdateReminder(rowData.id, params)\n    )\n    .then(res => {\n      if (res.data.success) {\n        onSuccess(res);\n      }\n    })\n    .finally(() => {\n      setState({ confirmLoading: false });\n    });\n\n  }, [state, setState, onSuccess, rowData]);\n\n  useEffect(() => {\n    initParams();\n  }, [visible, initParams]);\n\n  return (\n    <Modal\n      title=\"新增\"\n      visible={visible}\n      onOk={handleSubmit}\n      onCancel={onCancel}\n      confirmLoading={state.confirmLoading}\n    >\n      <Form onSubmit={handleSubmit} layout=\"inline\">\n        <Form.Item label=\"提醒时间\">\n          <DatePicker\n            mode={state.dateMode}\n            showTime\n            allowClear={false}\n            value={state.date}\n            onPanelChange={(value, dateMode) => setState({ dateMode }) }\n            onChange={date => setState({ date }) }\n            disabledDate={isLtTodayTimestamp}\n          />\n        </Form.Item>\n        <Form.Item label=\"提醒内容\">\n          <TextArea \n            rows={3} \n            value={state.content} \n            onChange={e => setState({ content: e.target.value })} \n            maxLength={200} \n            placeholder=\"请输入内容\"\n          />\n        </Form.Item>\n      </Form>\n    </Modal>\n  )\n};\n\nexport default React.memo(CreateReminder);\n","import React, { useState, useEffect, useCallback, useRef, useReducer } from 'react';\nimport { connect } from 'react-redux';\nimport { DatePicker, Button, Select, Tag, Modal } from 'antd';\nimport moment from 'moment';\nimport {\n  getCurMonthFirstDay,\n  getCurMonthLastDay,\n  modalConfirmDelete,\n  ONE_DAY_TIMESTAMP\n} from '@/utils';\nimport CreateReminder from './components/create-reminder';\nimport { serviceGetReminder, serviceDeleteReminder } from '@/services';\nimport Table from '@/components/table';\n\nconst { RangePicker } = DatePicker;\nconst Option = Select.Option;\nconst dateFormat = 'YYYY-MM-DD';\nconst STATUS_TYPE: any = {\n  1: { color: '#f50', text: '待提醒' },\n  2: { color: '#87d068', text: '已提醒' }\n};\n\ninterface State {\n  date: moment.Moment[];\n  queryType: string;\n  modalVisible: boolean;\n  currentRow: { [propName: string]: any } | null;\n}\n\ntype Props = ReturnType<typeof mapStateToProps>;\n\nconst initialState: State = {\n  date: [],\n  queryType: '',\n  modalVisible: false,\n  currentRow: null\n};\n\nfunction reducer(state: State, action: any) {\n  switch (action.type) {\n    case 'setState':\n      return { ...state, ...action.state };\n    default:\n      return state;\n  }\n}\n\nconst Reminder: React.FC<Props> = function({ userInfo }) {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const tableRef = useRef<any>(null);\n  const [tableColumns] = useState([\n    { title: '状态', dataIndex: 'type', width: 100,\n      render: (row: any) => (\n        <Tag color={STATUS_TYPE[row].color}>{ STATUS_TYPE[row].text }</Tag>\n      )\n    },\n    { title: '提醒时间', dataIndex: 'date', width: 220 },\n    { title: '提醒内容', dataIndex: 'content', className: 'word-break_break-all white-space_pre' },\n    { title: '操作', dataIndex: '', width: 180,\n      render: (row: any) => (\n        <>\n          <Button onClick={handleButton.bind(null, 0, row)}>编辑</Button>\n          <Button onClick={handleButton.bind(null, 1, row)}>删除</Button>\n        </>\n      )\n    }\n  ]);\n\n  const setState = useCallback(state => {\n    dispatch({ type: 'setState', state })\n  }, []);\n\n  // 初始化参数\n  const initParams = useCallback(() => {\n    const startDate = moment(getCurMonthFirstDay(dateFormat), dateFormat);\n    const endDate = moment(getCurMonthLastDay(dateFormat), dateFormat);\n    setState({ queryType: '', date: [startDate, endDate] });\n    setTimeout(() => {\n      tableRef.current.getTableData();\n    }, 100);\n  }, [setState]);\n\n  // 获取事项数据\n  const getReminder = useCallback((params: any = {}) => {\n    params.startDate = state.date[0].valueOf();\n    params.endDate = state.date[1].valueOf() + ONE_DAY_TIMESTAMP;\n\n    if (state.queryType !== '') {\n      params.type = state.queryType;\n    }\n\n    return serviceGetReminder(params).then(res => {\n      if (res.data.success) {\n        res.data.data.rows = res.data.data.rows.map((el: any, idx: number) => {\n          el.order = idx + 1;\n          el.date = moment(el.date).format('YYYY-MM-DD HH:mm:ss');\n          return el;\n        });\n      }\n      return res;\n    });\n  }, [state.date, state.queryType]);\n\n  const handleButton = useCallback((type: number, rows: any) => {\n    // 编辑\n    if (type === 0) {\n      setState({ modalVisible: true, currentRow: rows });\n    } else {\n      modalConfirmDelete()\n      .then(() => {\n        serviceDeleteReminder(rows.id)\n        .then(res => {\n          if (res.data.success) {\n            tableRef.current.getTableData();\n          }\n        });\n      });\n    }\n  }, [setState]);\n\n  // modal成功新增回调函数\n  const handleModalOnSuccess = useCallback(() => {\n    setState({ modalVisible: false });\n    tableRef.current.getTableData();\n  }, [setState]);\n\n  useEffect(() => {\n    initParams();\n\n    if (!userInfo.email) {\n      Modal.warning({\n        title: '未检测到您的邮箱',\n        content: (\n          <>\n            请将您的GitHub邮箱设为公开，否则影响本功能的使用，\n            <a href=\"https://github.com/settings/profile\" target=\"_blank\">前往设置</a>\n          </>\n        ),\n      });\n    }\n  }, [initParams, userInfo.email]);\n\n  return (\n    <div className=\"reminder\">\n      <div className=\"query-panel\">\n        <span>查询类型：</span>\n        <Select \n          onChange={(value: string) => setState({ queryType: value })} \n          value={state.queryType}\n        >\n          <Option value=\"\">全部</Option>\n          <Option value=\"1\">待提醒</Option>\n          <Option value=\"2\">已提醒</Option>\n        </Select>\n        <span>日期：</span>\n        <RangePicker\n          format={dateFormat} \n          allowClear \n          value={state.date} \n          onChange={(date: any) => setState({ date })} \n        />\n        <Button type=\"primary\" onClick={() => tableRef.current.getTableData() }>查询</Button>\n        <Button onClick={() => setState({ modalVisible: true, currentRow: null })}>新增</Button>\n        <Button onClick={initParams}>重置</Button>\n      </div>\n      <Table \n        ref={tableRef}\n        getTableData={getReminder}\n        columns={tableColumns} \n      />\n      <CreateReminder \n        visible={state.modalVisible} \n        rowData={state.currentRow}\n        onCancel={() => setState({ modalVisible: false })}\n        onSuccess={handleModalOnSuccess}\n      />\n    </div>\n  )\n}\n\nconst mapStateToProps = (store: any) => ({\n  userInfo: store.user.userInfo\n});\n\nexport default connect(mapStateToProps)(Reminder);\n","import React, { useReducer, useCallback, useEffect, useMemo } from 'react';\nimport './style.scss';\nimport { Row, Col, Card, Progress } from 'antd';\nimport CONFIG from '@/config';\nimport { totalPercentage } from '@/utils';\nimport bytes from 'bytes';\nimport moment from 'moment';\nimport { serviceGetInnerMessage } from '@/services';\n\ninterface Props {\n  systemInfo: {\n    [propName: string]: any;\n  }\n}\n\ninterface State {\n  curSystemTime: string;\n  messageList: any[];\n  loading: boolean;\n}\n\nconst initialState: State = {\n  curSystemTime: '',\n  messageList: [],\n  loading: true\n};\n\nconst statusColor = (percentage: number) => {\n  if (percentage < 40) {\n    return '#52c41a';\n  }\n  if (percentage < 80) {\n    return '#ffa500';\n  }\n  return '#f50';\n};\nlet timer: any;\n\nfunction reducer(state: State, action: any) {\n  switch (action.type) {\n    case 'setState':\n      return { ...state, ...action.state };\n    default:\n      return state;\n  }\n}\n\nconst System: React.FC<Props> = ({ systemInfo }) => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const memPercentage = useMemo(() => {\n    return totalPercentage(systemInfo.totalmem, systemInfo.freemem);\n  }, [systemInfo.totalmem, systemInfo.freemem]);\n\n  const setState = useCallback(state => {\n    dispatch({ type: 'setState', state });\n  }, []);\n\n  // 倒计时\n  const countdown = useCallback(() => {\n    clearTimeout(timer);\n    const timeDiff = systemInfo.currentSystemTime + (Date.now() - systemInfo.currentSystemTime);\n    setState({ curSystemTime: moment(timeDiff).format('YYYY-MM-DD HH:mm:ss') });\n    timer = setTimeout(() => {\n      countdown();\n    }, 1000);\n  }, [systemInfo.currentSystemTime, setState]);\n\n  useEffect(() => {\n    countdown();\n\n    return () => {\n      clearTimeout(timer);\n    }\n  }, [countdown]);\n\n  useEffect(() => {\n    serviceGetInnerMessage({ pageSize: 5 })\n    .then(res => {\n      if (res.data.success) {\n        setState({ loading: false, messageList: res.data.data.rows });\n      }\n    });\n  }, [setState]);\n\n  return (\n    <Row gutter={{ xs: 8, sm: 16, md: 24}} className=\"system-data\">\n      <Col xl={8} lg={12} md={12} sm={24} xs={24}>\n        <Card\n          title=\"系统参数\"\n          hoverable\n          loading={!systemInfo.nodeVersion}\n        >\n          <p className=\"item-text\">\n            <em>系统类型：</em>\n            { systemInfo.platform }{ systemInfo.arch }\n          </p>\n          <p className=\"item-text\">\n            <em>Node版本：</em>\n            { systemInfo.nodeVersion }\n          </p>\n          <p className=\"item-text\">\n            <em>MySQL版本：</em>\n            { systemInfo.mysqlVersion }\n          </p>\n          <p className=\"item-text\">\n            <em>当前环境：</em>\n            { CONFIG.isProduction ? '生产环境' : '开发环境' }\n          </p>\n          <p className=\"item-text\">\n            <em>系统时间：</em>\n            { state.curSystemTime }\n          </p>\n        </Card>\n      </Col>\n      <Col xl={8} lg={12} md={12} sm={24} xs={24}>\n        <Card\n          title=\"我的消息\" \n          hoverable \n          loading={state.loading}\n        >\n        {\n          state.messageList.map((msg: any) => (\n            <p className=\"item-text\" key={msg.id}>\n              <em>{ msg.content }</em>\n            </p>\n          ))\n        }\n        </Card>\n      </Col>\n      <Col xl={8} lg={12} md={12} sm={24} xs={24}>\n        <Card\n          title={`内存使用率(${bytes(systemInfo.totalmem)})`} \n          hoverable \n          className=\"mem\"\n        >\n          <Progress \n            type=\"circle\" \n            percent={memPercentage} \n            strokeColor={statusColor(memPercentage)} \n            format={percent => percent + '%'}\n          />\n          <div className=\"surplus\">剩余{ bytes(systemInfo.freemem) }</div>\n        </Card>\n      </Col>\n    </Row>\n  )\n};\n\nexport default React.memo(System);\n","\nconst SuspenseFallback = function () {\n  return null;\n};\n\nexport default SuspenseFallback;\n","import React, { Suspense, useEffect, useState } from 'react';\nimport './style.scss';\nimport { Layout, Menu } from 'antd';\nimport { Switch, Link, RouteComponentProps } from 'react-router-dom';\nimport PrivateRoute from '@/components/private-route/index';\nimport SuspenseFallback from '@/components/suspense-fallback/index';\nimport { SETTING_SIDER_MENU_LIST } from '@/constants';\nimport { settingRoutes } from '@/router/routes';\n\nconst { Content, Sider } = Layout;\n\nconst SettingIndex: React.FC<RouteComponentProps> = function ({ location }) {\n  const [selectedKeys, setSelectedKeys] = useState('');\n\n  useEffect(() => {\n    for (let i = 0; i < SETTING_SIDER_MENU_LIST.length; i++) {\n      if (SETTING_SIDER_MENU_LIST[i].path === location.pathname) {\n        setSelectedKeys(SETTING_SIDER_MENU_LIST[i].path);\n        break;\n      }\n    }\n  }, [location.pathname])\n  \n  return (\n    <Layout className=\"setting-page\">\n      <Sider width={170}>\n        <Menu\n          mode=\"inline\"\n          selectedKeys={[selectedKeys]}\n          style={{ height: '100%' }}\n        >\n        {\n          SETTING_SIDER_MENU_LIST.map(menu => (\n            <Menu.Item key={menu.path}>\n              <Link to={menu.path}>{ menu.name }</Link>\n            </Menu.Item>\n          ))\n        }\n        </Menu>\n      </Sider>\n      <Content style={{ padding: '0 50px 0 30px' }}>\n        <Suspense fallback={SuspenseFallback()}>\n          <Switch>\n          {\n            settingRoutes.map((route, idx) => (\n              <PrivateRoute {...route} key={idx} />\n            ))\n          }\n          </Switch>\n        </Suspense>\n      </Content>\n    </Layout>\n  )\n};\n\nexport default SettingIndex;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { Row, Col, Icon, Statistic } from 'antd';\nimport { Link } from 'react-router-dom';\nimport './style.scss';\nimport { serviceGetPanelData } from '@/services';\nimport { HOME } from '@/router/constants';\n\nconst PanelGroup = () => {\n  const isInit = useRef<any>(false);\n  const [state, setState] = useState([\n    { title: '今日支出', total: 0, iconType: 'property-safety', suffix: '￥', path: HOME.CAPITAL_FLOW.path },\n    { title: '今日待办', total: 0, iconType: 'schedule', path: HOME.TODAY_TASK.path },\n    { title: '活动清单', total: 0, iconType: 'file-text', path: HOME.TODO_LIST.path },\n    { title: '提醒事项', total: 0, iconType: 'alert', path: HOME.REMINDER.path },\n  ]);\n\n  useEffect(() => {\n    if (isInit.current) return;\n\n    isInit.current = true;\n\n    serviceGetPanelData()\n    .then(res => {\n      if (res.data.success) {\n        const data = state.slice();\n        data[0].total = res.data.data.consumption;\n        data[1].total = res.data.data.todayTaskCount;\n        data[2].total = res.data.data.unfinishedTodoListCount;\n        data[3].total = res.data.data.reminderCount;\n        setState(data)\n      }\n    });\n  }, [state]);\n\n  return (\n    <Row gutter={{ xs: 8, sm: 16, md: 24}} className=\"panel-group\">\n    {\n      state.map(item => (\n        <Col xl={6} lg={12} md={12} sm={24} xs={24} key={item.title}>\n          <Link to={item.path} className=\"block-item\">\n            <Icon type={item.iconType} theme=\"filled\" />\n            <div className=\"data\">\n              <Statistic title={item.title} value={item.total} suffix={item.suffix} />\n            </div>\n          </Link>\n        </Col>\n      ))\n    }\n    </Row>\n  )\n};\n\nexport default React.memo(PanelGroup);\n","import React, { useEffect, useState } from 'react';\nimport './style.scss';\nimport { Empty } from 'antd';\nimport {\n  Chart,\n  Geom,\n  Axis,\n  Tooltip,\n  Legend,\n} from 'bizcharts';\nimport { serviceGetCapitalFlowPrice } from '@/services';\n\nconst cols = {\n  date: {\n    range: [0, 1]\n  }\n};\n\nconst MoneyAccessChart = () => {\n  const [data, setData] = useState([]);\n  const [totalPrice, setTotalPrice] = useState(0);\n\n  useEffect(() => {\n    serviceGetCapitalFlowPrice()\n    .then(res => {\n      if (res.data.success) {\n        let price = 0;\n        const data = res.data.data.map((item: any) => {\n          item.date = item.date.slice(5);\n          item.price = Number(item.price);\n          price += item.price;\n          return item;\n        });\n\n        setData(data);\n        setTotalPrice(price);\n      }\n    });\n  }, []);\n\n  return (\n    <div className=\"money-access\">\n      <h2 className=\"title\">过去7天资金流动</h2>\n      {\n        (totalPrice > 0)\n        ?\n        <Chart height={400} data={data} scale={cols} forceFit>\n          <Legend />\n          <Axis\n            name=\"price\"\n            label={{ formatter: val => `${parseInt(val)}￥` }}\n          />\n          <Tooltip crosshairs={{ type: 'y' }} />\n          <Geom\n            type=\"line\"\n            position=\"date*price\"\n            size={2}\n            color={'name'}\n            shape={'smooth'}\n          />\n          <Geom\n            type=\"point\"\n            position=\"date*price\"\n            size={4}\n            shape={'circle'}\n            color={'name'}\n            style={{ stroke: '#fff', lineWidth: 1 }}\n          />\n        </Chart>\n        :\n        <Empty image={Empty.PRESENTED_IMAGE_SIMPLE} />\n      }\n    </div>\n  )\n};\n\nexport default React.memo(MoneyAccessChart);\n","import React, { useEffect } from 'react';\nimport { DispatchProp, connect } from 'react-redux';\nimport { ThunkDispatch } from 'redux-thunk';\nimport { AnyAction } from 'redux';\nimport { getSystemInfo } from '@/store/actions';\nimport { StoreState } from '@/store';\nimport PenelGroup from './components/penel-group';\nimport SystemInfo from './components/system-info';\nimport MoneyAccessChart from './components/money-access-chart';\n\nconst mapStateToProps = ({ system }: StoreState) => ({ system });\n\ntype ThunkDispatchProps = ThunkDispatch<{}, {}, AnyAction>;\ntype Props = DispatchProp & ReturnType<typeof mapStateToProps> & { dispatch: ThunkDispatchProps };\n\nconst HomeIndex: React.FC<Props> = function ({ system, dispatch: propDispatch }) {\n\n  useEffect(() => {\n    propDispatch(getSystemInfo());\n  }, [propDispatch]);\n\n  return (\n    <div className=\"home-index overflow-y_auto\">\n      <PenelGroup />\n      <SystemInfo systemInfo={system.info} />\n      <MoneyAccessChart />\n    </div>\n  )\n};\n\nexport default connect(mapStateToProps)(HomeIndex);\n","import React, { useCallback } from 'react';\nimport './style.scss';\nimport {\n  Card,\n  Button,\n  Rate\n} from 'antd';\nimport { modalConfirmDelete } from '@/utils';\nimport moment from 'moment';\nimport { serviceDeleteTask, serviceUpdateTask } from '@/services';\n\ninterface Props {\n  data: {\n    [propName: string]: any\n  },\n  reloadData(): void;\n}\n\nconst TaskItem: React.FC<Props> = ({ data, reloadData }) => {\n\n  // 0=删除, 1=开始/完成, 2=回退\n  const handleAction = useCallback(buttonType => {\n\n    if (buttonType === 0) {\n      modalConfirmDelete()\n      .then(() => {\n        serviceDeleteTask(data.id)\n        .then(res => {\n          if (res.data.success) {\n            reloadData();\n          }\n        });\n      });\n    } else {\n      serviceUpdateTask(data.id, { rollback: buttonType === 2 && true })\n      .then(res => {\n        if (res.data.success) {\n          reloadData();\n        }\n      });\n    }\n\n  }, [data, reloadData])\n\n  return (\n    <Card\n      title=\"我的待办\" \n      hoverable \n      className=\"task-component\"\n    >\n      <p className=\"content\">{ data.content }</p>\n      <div className=\"level\">\n        <span>重要级别：</span>\n        <Rate value={data.count} disabled></Rate>\n        <p>创建时间: { moment(data.createdAt).format('HH:mm:ss') }</p>\n      </div>\n      <div className=\"button-wrapper\">\n        <Button \n          type=\"danger\" \n          size=\"small\" \n          onClick={handleAction.bind(null, 0)}\n        >\n          删除\n        </Button>\n        {\n          (data.type === 1)\n          &&\n          <Button \n            type=\"primary\" \n            size=\"small\"\n            onClick={handleAction.bind(null, 1)}\n          >\n            开始\n          </Button>\n        }\n        {\n          ([2, 3].includes(data.type))\n          &&\n          <Button \n            type=\"primary\" \n            size=\"small\"\n            onClick={handleAction.bind(null, 2)}\n          >\n            回退\n          </Button>\n        }\n        {\n          (data.type === 2)\n          &&\n          <Button \n            type=\"primary\" \n            size=\"small\"\n            onClick={handleAction.bind(null, 1)}\n          >\n            完成\n          </Button>\n        }\n      </div>\n    </Card>\n  )\n};\n\nexport default React.memo(TaskItem);\n","import React, { useCallback, useReducer } from 'react';\nimport { \n  Modal,\n  Form,\n  Input,\n  DatePicker,\n  message,\n  Rate\n} from 'antd';\nimport moment from 'moment';\nimport { isLtTodayTimestamp } from '@/utils';\nimport { serviceCreateTask } from '@/services';\n\ntype Props = {\n  visible: boolean;\n  data?: object;\n  setParentState(state: any): void;\n  onSuccess: (res?: any) => void;\n};\n\nconst dateFormat = 'YYYY-MM-DD';\nconst { TextArea } = Input;\nconst initialState = {\n  confirmLoading: false,\n  content: '',\n  date: moment(new Date(), dateFormat),\n  count: 5\n};\n\nfunction reducer(state: any, action: any) {\n  switch (action.type) {\n    case 'setState':\n      return { ...state, ...action.state };\n    default:\n      return state;\n  }\n}\n\nconst CreateTask: React.FC<Props> = function ({ visible, onSuccess, setParentState }) {\n  const [state, dispatch] = useReducer(reducer, initialState); \n\n  const setState = useCallback((state) => {\n    dispatch({ type: 'setState', state });\n  }, []);\n\n  // 提交表单\n  const handleSubmit = useCallback(() => {\n    const params = {\n      date: state.date.valueOf(),\n      content: state.content.trim(),\n      count: state.count\n    };\n\n    if (!params.content) {\n      message.warn('内容不能为空');\n      return;\n    }\n\n    serviceCreateTask(params)\n    .then(res => {\n      if (res.data.success) {\n        onSuccess();\n      }\n    });\n  }, [state, onSuccess]);\n\n  return (\n    <Modal\n      title=\"新增\"\n      visible={visible}\n      onOk={handleSubmit}\n      onCancel={() => setParentState({ showCreateTaskModal: false })}\n      confirmLoading={state.confirmLoading}\n    >\n      <Form onSubmit={handleSubmit} layout=\"inline\">\n        <Form.Item label=\"开始日期\">\n          <DatePicker\n            allowClear={false}\n            value={state.date}\n            onChange={date => setState({ date }) }\n            disabledDate={isLtTodayTimestamp}\n          />\n        </Form.Item>\n        <Form.Item label=\"任务内容\">\n          <TextArea \n            rows={3} \n            value={state.content} \n            onChange={e => setState({ content: e.target.value })} \n            maxLength={200} \n            placeholder=\"请输入内容\"\n          />\n        </Form.Item>\n        <Form.Item label=\"重要级别\">\n          <Rate value={state.count} onChange={count => setState({ count })} />\n        </Form.Item>\n      </Form>\n    </Modal>\n  )\n};\n\nexport default React.memo(CreateTask);\n","import React from 'react';\nimport { Button, Result } from 'antd';\nimport NoDataSvg from '@/assets/img/common/no-data.svg';\n\ninterface Props {\n  onClick(e: React.MouseEvent): void;\n  message?: string;\n}\n\nconst NoData: React.FC<Props> = ({ onClick, message = '暂无数据' }) => {\n  return (\n    <Result\n      className=\"no-data\"\n      icon={<img src={NoDataSvg} className=\"user-drag_none\" alt=\"no-data\" />}\n      title={message}\n      extra={<Button type=\"primary\" onClick={onClick}>现在创建</Button>}\n      status={'info'}\n      style={{ marginTop: '50px' }}\n    />\n  )\n};\n\nexport default React.memo(NoData);\n","import React, { useReducer, useCallback, useEffect } from 'react';\nimport './style.scss';\nimport { DatePicker, Button, Tag, Row, Col } from 'antd';\nimport TaskItem from './components/task-item';\nimport CreateTask from './components/create-task';\nimport { getStartTimestampByDate, getEndTimestampByDate } from '@/utils';\nimport moment from 'moment';\nimport { serviceGetTask } from '@/services';\nimport NoData from '@/components/no-data/index';\n\nconst dateFormat = 'YYYY-MM-DD';\nconst datePickerValue = moment(new Date(getStartTimestampByDate()), dateFormat);\nconst TASK_TYPE: any = {\n  wait: { text: '待作业', color: 'orange' },\n  process: { text: '作业中', color: '#108ee9' },\n  finished: { text: '已完成', color: '#87d068' },\n  unfinished: { text: '未完成', color: '#f50' }\n};\n\ninterface State {\n  startDate: moment.Moment;\n  data: {\n    wait: any[];\n    process: any[];\n    finished: any[];\n    unfinished: any[];\n  };\n  showCreateTaskModal: boolean;\n}\n\nconst initialState: State = {\n  startDate: datePickerValue,\n  data: { wait: [], process: [], finished: [], unfinished: [] },\n  showCreateTaskModal: false\n};\n\nfunction reducer(state: State, action: any) {\n  switch (action.type) {\n    case 'setState':\n      return { ...state, ...action.state };\n    default:\n      return state;\n  }\n}\n\nconst TodayTask = () => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  const setState = useCallback((state) => {\n    dispatch({ type: 'setState', state });\n  }, []);\n\n  const getTask = useCallback(() => {\n    const date = state.startDate.valueOf();\n    serviceGetTask({\n      startDate: getStartTimestampByDate(date),\n      endDate: getEndTimestampByDate(date)\n    })\n    .then(res => {\n      if (res.data.success) {\n        setState({ data: res.data.data });\n      }\n    });\n  }, [setState, state.startDate]);\n\n  const initParams = useCallback(() => {\n    setState({ startDate: datePickerValue });\n    getTask();\n  }, [setState, getTask]);\n\n  const handleOnSuccess = useCallback(() => {\n    setState({ showCreateTaskModal: false });\n    getTask();\n  }, [setState, getTask]);\n\n  useEffect(() => {\n    getTask();\n  }, [getTask]);\n\n  return (\n    <div className=\"today-task\">\n      <div className=\"query-panel\">\n        <span>查询日期：</span>\n        <DatePicker\n          format={dateFormat} \n          allowClear \n          value={state.startDate} \n          onChange={date => setState({ startDate: date })} \n        />\n        <Button type=\"primary\" onClick={getTask}>查询</Button>\n        <Button onClick={() => setState({ showCreateTaskModal: true })}>新增</Button>\n        <Button onClick={initParams}>重置</Button>\n      </div>\n      <div className=\"wrapper\">\n      {\n        (\n          state.data.wait.length > 0 ||\n          state.data.process.length > 0 ||\n          state.data.finished.length > 0 ||\n          state.data.unfinished.length > 0\n        )\n        ?\n        <Row gutter={24} type=\"flex\">\n        {\n          Object.keys(state.data).map((key: string) => (\n            <Col span={6} key={key}>\n              <div className=\"text-align_center\">\n                <Tag color={TASK_TYPE[key].color}>{ TASK_TYPE[key].text }</Tag>\n              </div>\n              {\n                state.data[key].map((item: any) => (\n                  <TaskItem key={item.id} data={item} reloadData={getTask} />\n                ))\n              }\n            </Col>\n          ))\n        }\n        </Row>\n        :\n        <NoData\n          message=\"还没有待办事项，是否马上创建？\"\n          onClick={() => setState({ showCreateTaskModal: true })}\n        />\n      }\n        \n      </div>\n      <CreateTask\n        visible={state.showCreateTaskModal}\n        onSuccess={handleOnSuccess}\n        setParentState={setState}\n      />\n    </div>\n  );\n};\n\nexport default TodayTask;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport './style.scss';\nimport { Input, Button, message } from 'antd';\nimport { RouteComponentProps, match } from 'react-router-dom';\nimport Editor from 'tui-editor';\nimport { HOME } from '@/router/constants';\nimport {\n  serviceCreateMemorandum,\n  serviceGetMemorandumById,\n  serviceUpdateMemorandum\n} from '@/services';\nimport { defaultTitle } from '../constants';\n\n// https://ui.toast.com/tui-editor/\n\ninterface Props {\n  computedMatch: match<any>\n}\n\nlet editor: Editor;\n\nconst Create: React.FC<Props & RouteComponentProps> = ({ history, computedMatch }) => {\n  const [title, setTitle] = useState(defaultTitle);\n  const [loading, setLoading] = useState(false);\n\n  const handleActionButton = useCallback((buttonType: 0 | 1) => {\n    if (buttonType === 0) {\n      history.replace(HOME.MEMORANDUM.path);\n      return;\n    }\n\n    const id = computedMatch.params.id;\n\n    if (loading) return;\n    \n    // 创建或更新\n    const params = {\n      markdown: editor.getValue(),\n      title\n    };\n    if (!params.markdown) {\n      message.warn('实体内容不能为空');\n      return;\n    }\n\n    setLoading(true);\n\n    (id ? serviceUpdateMemorandum(id, params) : serviceCreateMemorandum(params))\n    .then(res => {\n      if (res.data.success) {\n        history.replace(HOME.MEMORANDUM.path);\n      }\n    });\n  }, [history, title, loading, computedMatch]);\n\n  const init = useCallback(() => {\n    const id = computedMatch.params.id;\n\n    editor = new Editor({\n      el: document.querySelector('#edit-section') as HTMLElement,\n      initialEditType: 'markdown',\n      previewStyle: 'vertical',\n      usageStatistics: false\n    });\n\n    if (id) {\n      serviceGetMemorandumById(id)\n      .then(res => {\n        if (res.data.success) {\n          setTitle(res.data.data.title);\n          editor.setValue(res.data.data.markdown);\n        }\n      });\n    }\n  }, [computedMatch]);\n\n  useEffect(() => {\n    init();\n    \n    return () => {\n      // 销毁实例\n      if (editor && editor.remove) {\n        editor.remove();\n      }\n    };\n  }, [init]);\n\n  return (\n    <div className=\"editor-page\">\n      <Input \n        className=\"input-title\"\n        placeholder={defaultTitle} \n        maxLength={50} \n        size=\"large\" \n        value={title} \n        onChange={e => setTitle(e.target.value)}\n        onBlur={() => (!title && setTitle(defaultTitle))}\n      />\n      <div id=\"edit-section\"></div>\n      <div className=\"button-group\">\n        <Button onClick={handleActionButton.bind(null, 0)}>取消</Button>\n        <Button \n          type=\"primary\" \n          onClick={handleActionButton.bind(null, 1)} \n          loading={loading}\n        >\n          提交\n        </Button>\n      </div>\n    </div>\n  )\n};\n\nexport default Create;\n","import React, { FC, useState, useEffect, useCallback } from 'react';\nimport './style.scss';\nimport moment from 'moment';\nimport NoData from '@/components/no-data/index';\nimport { RouteComponentProps } from 'react-router-dom';\nimport { Card, Col, Row, Button } from 'antd';\nimport { Link } from 'react-router-dom';\nimport { serviceGetMemorandum, serviceDeleteMemorandum } from '@/services';\nimport { defaultTitle } from '../constants';\nimport { modalConfirmDelete } from '@/utils';\n\n\nconst Memorandum: FC<RouteComponentProps> = ({ history }) => {\n  const [list, setList] = useState([]);\n\n  const handleButton = useCallback((buttonType: 0 | 1 | 2, item: any, e: React.MouseEvent) => {\n    e.stopPropagation();\n    e.preventDefault();\n\n    if (buttonType === 0) {\n      modalConfirmDelete()\n      .then(() => {\n        serviceDeleteMemorandum(item.id)\n        .then(res => {\n          if (res.data.success) {\n            const index = list.findIndex((el: any) => el.title === item.title);\n            if (index !== -1) {\n              const copyList = [...list];\n              copyList.splice(index, 1);\n              setList(copyList);\n            }\n          }\n        });\n      });\n      return;\n    }\n\n    if (buttonType === 2) {\n      history.push('/home/memorandum/create');\n      return;\n    }\n    \n    history.push(`/home/memorandum/update/${item.id}`);\n  }, [history, list]);\n\n  useEffect(() => {\n    serviceGetMemorandum()\n    .then(res => {\n      if (res.data.success) {\n        const data = res.data.data.map((item: any) => {\n          item.createdAt = moment(item.createdAt).format('YYYY/M/D HH:mm');\n          item.title = item.title || defaultTitle;\n          return item;\n        });\n        setList(data);\n      }\n    });\n  }, []);\n\n  return (\n    <div className=\"memorandum\">\n    {\n      (list.length > 0)\n      ?\n      <Row gutter={16} type=\"flex\" align=\"bottom\">\n      {\n        list.map((item: any) => (\n          <Col span={8} key={item.id}>\n            <Link to={`/home/memorandum/detail/${item.id}`}>\n              <Card title={item.title} hoverable>\n                { item.createdAt }\n                <div \n                  className=\"content\" \n                  dangerouslySetInnerHTML={{ __html: item.html }}\n                >\n                </div>\n                <div className=\"button-group\">\n                  <Button size=\"small\" onClick={handleButton.bind(null, 0, item)}>删除</Button>\n                  <Button size=\"small\" onClick={handleButton.bind(null, 1, item)}>编辑</Button>\n                </div>\n              </Card>\n            </Link>\n          </Col>\n        ))\n      }\n      </Row>\n      :\n      <NoData\n        message=\"还没有备忘录，是否马上创建？\"\n        onClick={handleButton.bind(null, 2, null)}\n      />\n    }\n    </div>\n  )\n};\n\nexport default Memorandum;\n","\nexport const defaultTitle = '无标题';\n","import React, { FC, useEffect, useState } from 'react';\nimport './style.scss';\nimport { Icon } from 'antd';\nimport { match, Link, RouteComponentProps } from 'react-router-dom';\nimport { serviceGetMemorandumById } from '@/services';\nimport { defaultTitle } from '../constants';\n\ninterface Props {\n  computedMatch: match<any>\n}\n\nconst Detail: FC<Props & RouteComponentProps> = ({ computedMatch, history }) => {\n  const [title, setTitle] = useState('');\n  const [content, setContent] = useState('');\n  const id = computedMatch.params.id;\n\n  const goBack = function () {\n    history.goBack();\n  };\n\n  useEffect(() => {\n    serviceGetMemorandumById(id)\n    .then(res => {\n      if (res.data.success) {\n        const title = res.data.data.title || defaultTitle;\n        document.title = title;\n        setTitle(title);\n        setContent(res.data.data.html);\n      }\n    });\n  }, [id]);\n\n  return (\n    <div className=\"memorandum-detail\">\n      <div className=\"tool-bar\">\n        <Icon type=\"left\" className=\"icon-left\" onClick={goBack} />\n        <Link className=\"edit\" to={`/home/memorandum/update/${id}`}>\n          <Icon type=\"edit\" title=\"编辑\" />\n        </Link>\n      </div>\n      <h1 className=\"title\">{ title }</h1>\n      <div \n        className=\"markdown-body tui-editor-contents\" \n        dangerouslySetInnerHTML={{ __html: content }}\n      >\n      </div>\n    </div>\n  )\n};\n\nexport default Detail;\n","import React, { useCallback, useReducer, useEffect } from 'react';\nimport { \n  Modal,\n  Form,\n  Input,\n  DatePicker,\n  message,\n  Select\n} from 'antd';\nimport moment from 'moment';\nimport { serviceCreateCapitalFlow, serviceUpdateCapitalFlow } from '@/services';\n\nconst { TextArea } = Input;\nconst { Option } = Select;\nconst dateFormat = 'YYYY-MM-DD HH:mm:ss';\nconst defaultDate = moment(new Date(), dateFormat);\n\ntype Props = {\n  visible: boolean;\n  onCancel: () => void;\n  onSuccess: (res?: any) => void;\n  rowData?: { [propName: string]: any; };\n  nameList: any[];\n};\n\ninterface State {\n  confirmLoading: boolean;\n  dateMode: 'time' | 'date' | 'month' | 'year' | 'decade';\n  date: moment.Moment;\n  remarks: string;\n  typeId: string;\n  price: string | number;\n}\n\nconst initialState: State = {\n  confirmLoading: false,\n  dateMode: 'date',\n  date: defaultDate,\n  remarks: '',\n  typeId: '',\n  price: ''\n};\n\nfunction reducer(state: State, action: any) {\n  switch (action.type) {\n    case 'setState':\n      return { ...state, ...action.state };\n    default:\n      return state;\n  }\n}\n\nconst CreateReminder: React.FC<Props> = function ({\n  visible,\n  onCancel,\n  onSuccess,\n  rowData,\n  nameList\n}) {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  const setState = useCallback((state) => {\n    dispatch({ type: 'setState', state })\n  }, []);\n\n  const initParams = useCallback(() => {\n    const params: any = {\n      remarks: '',\n      typeId: '',\n      price: ''\n    };\n\n    if (rowData) {\n      params.date = moment(rowData.date, dateFormat);\n      params.remarks = rowData.remarks;\n      params.typeId = rowData.typeId;\n      params.price = rowData.price;\n    }\n    setState(params);\n  }, [setState, rowData]);\n\n  const handleSubmit = useCallback((e: React.MouseEvent | React.FormEvent) => {\n    e.preventDefault();\n    const params = {\n      date: state.date.valueOf(),\n      remarks: state.remarks.trim(),\n      typeId: state.typeId,\n      price: Number(state.price)\n    };\n\n    try {\n      if (!params.price || isNaN(params.price)) {\n        throw new Error('金额必须为数字');\n      }\n      if (!params.typeId) {\n        throw new Error('请选择名称');\n      }\n    } catch (err) {\n      message.warn(err.message);\n      return;\n    }\n\n    setState({ confirmLoading: true });\n\n    (\n      !rowData \n        ? serviceCreateCapitalFlow(params) \n        : serviceUpdateCapitalFlow(rowData.id, params)\n    )\n    .then(res => {\n      if (res.data.success) {\n        onSuccess(res);\n      }\n    })\n    .finally(() => {\n      setState({ confirmLoading: false });\n    });\n\n  }, [state, setState, onSuccess, rowData]);\n\n  useEffect(() => {\n    initParams();\n  }, [visible, initParams]);\n\n  return (\n    <Modal\n      title=\"新增\"\n      visible={visible}\n      onOk={handleSubmit}\n      onCancel={onCancel}\n      confirmLoading={state.confirmLoading}\n    >\n      <Form onSubmit={handleSubmit} layout=\"inline\">\n        <Form.Item label=\"时间\">\n          <DatePicker\n            mode={state.dateMode}\n            showTime\n            allowClear={false}\n            value={state.date}\n            onPanelChange={(value, dateMode) => setState({ dateMode }) }\n            onChange={date => setState({ date }) }\n          />\n        </Form.Item>\n        <Form.Item label=\"类别\">\n          <Select \n            onChange={(value: string) => setState({ typeId: value })} \n            value={state.typeId}\n          >\n          {\n            nameList.map((item: any) => (\n              <Option value={item.id} key={item.id}>{ item.optionName }</Option>\n            ))\n          }\n          </Select>\n        </Form.Item>\n        <Form.Item label=\"金额\">\n          <Input \n            value={state.price} \n            onChange={e => setState({ price: e.target.value })} \n          />\n        </Form.Item>\n        <Form.Item label=\"备注\">\n          <TextArea \n            rows={5} \n            value={state.remarks} \n            onChange={e => setState({ remarks: e.target.value })} \n            maxLength={250} \n          />\n        </Form.Item>\n      </Form>\n    </Modal>\n  )\n};\n\nexport default React.memo(CreateReminder);\n","\nexport enum TypeNames {\n  收入 = 1,\n  支出 = 2\n};\n\nexport enum TypeColors {\n  '#108ee9' = 1,\n  '#f50' = 2\n};\n\nexport const TYPES = [\n  { name: '收入', value: 1 },\n  { name: '支出', value: 2 },\n];\n\nexport const OPTION_TYPES = [\n  { name: '全部', value: '' },\n  ...TYPES\n];\n","import React, { useState, useEffect, useCallback, useRef, useReducer } from 'react';\nimport './style.scss';\nimport moment from 'moment';\nimport Table from '@/components/table';\nimport CreateCapitalFlow from '../components/create-capital-flow';\nimport { DatePicker, Button, Select, Tag, Statistic, Input } from 'antd';\nimport {\n  getCurMonthFirstDay,\n  getCurMonthLastDay,\n  modalConfirmDelete,\n  ONE_DAY_TIMESTAMP\n} from '@/utils';\nimport {\n  serviceGetCapitalFlow,\n  serviceDeleteCapitalFlow,\n  serviceGetCapitalFlowType\n} from '@/services';\nimport { OPTION_TYPES, TypeNames, TypeColors } from '../enum';\n\nconst { Search } = Input;\nconst { RangePicker } = DatePicker;\nconst Option = Select.Option;\nconst dateFormat = 'YYYY-MM-DD';\n\ninterface State {\n  date: moment.Moment[];\n  searchKeyword: string,\n  name: string;\n  type: any;\n  modalVisible: boolean;\n  currentRow: null | { [propName: string]: any };\n  nameList: any[];\n  price: { consumption: number; income: number; available: number; };\n  expandedRowKeys: string[];\n}\n\nconst initialState: State = {\n  date: [],\n  searchKeyword: '',\n  name: '',\n  type: '',\n  modalVisible: false,\n  currentRow: null,\n  nameList: [],\n  price: { consumption: 0, income: 0, available: 0 },\n  expandedRowKeys: []\n};\n\nfunction reducer(state: State, action: any) {\n  switch (action.type) {\n    case 'setState':\n      return { ...state, ...action.state };\n    default:\n      return state;\n  }\n}\n\nconst Reminder: React.FC = function() {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const tableRef = useRef<any>(null);\n  const [tableColumns] = useState([\n    { title: '类型', dataIndex: 'type', width: 100,\n      render: (type: any) => (<Tag color={TypeColors[type]}>{ TypeNames[type] }</Tag>)\n    },\n    { title: '名称', dataIndex: 'name', width: 100 },\n    { title: '参与时间', dataIndex: 'date', width: 220 },\n    { title: '金额', dataIndex: 'price' },\n    { title: '操作', width: 180,\n      render: (row: any) => (\n        <>\n          <Button onClick={handleActionButton.bind(null, 0, row)}>编辑</Button>\n          <Button onClick={handleActionButton.bind(null, 1, row)}>删除</Button>\n        </>\n      )\n    }\n  ]);\n\n  const setState = useCallback(state => {\n    dispatch({ type: 'setState', state })\n  }, []);\n\n  // 初始化参数\n  const initParams = useCallback(() => {\n    const startDate = moment(getCurMonthFirstDay(dateFormat), dateFormat);\n    const endDate = moment(getCurMonthLastDay(dateFormat), dateFormat);\n    setState({ searchKeyword: '', name: '', date: [startDate, endDate] });\n    setTimeout(() => {\n      tableRef.current.getTableData();\n    }, 100);\n  }, [setState]);\n\n  // 获取数据\n  const getCapitalFlow = useCallback((params: any) => {\n    params = {\n      ...params,\n      keyword: state.searchKeyword,\n      typeNameId: state.name,\n      type: state.type,\n      startDate: state.date[0].valueOf(),\n      endDate: state.date[1].valueOf() + ONE_DAY_TIMESTAMP\n    };\n\n    return serviceGetCapitalFlow(params).then(res => {\n      if (res.data.success) {\n        const data = res.data.data;\n        const expandedRowKeys: string[] = [];\n        \n        res.data.data.rows = res.data.data.rows.map((el: any, idx: number) => {\n          el.order = idx + 1;\n          el.date = moment(el.date).format('YYYY-MM-DD HH:mm');\n          if (el.remarks !== '') {\n            expandedRowKeys.push(el.id);\n          }\n          return el;\n        });\n\n        setState({\n          price: {\n            income: data.income,\n            consumption: data.consumption,\n            available: data.available\n          },\n          expandedRowKeys\n        });\n      }\n      return res;\n    });\n  }, [state.date, state.searchKeyword, state.name, state.type, setState]);\n\n  // 获取所有类型\n  const getCapitalFlowType = useCallback(() => {\n    serviceGetCapitalFlowType()\n    .then(res => {\n      if (res.data.success) {\n        const data = res.data.data.map((item: any) => {\n          item.optionName = `${TypeNames[item.type]} - ${item.name}`;\n          return item;\n        }).sort((a: any, b: any) => a.type - b.type);\n        setState({ nameList: data });\n      }\n    });\n  }, [setState]);\n\n  const handleActionButton = useCallback((type: number, row: any) => {\n    // 编辑\n    if (type === 0) {\n      setState({ modalVisible: true, currentRow: row });\n    } else {\n      modalConfirmDelete()\n      .then(() => {\n        serviceDeleteCapitalFlow(row.id)\n        .then(res => {\n          if (res.data.success) {\n            tableRef.current.getTableData();\n          }\n        });\n      });\n    }\n  }, [setState]);\n\n  // modal成功新增回调函数\n  const handleModalOnSuccess = useCallback(() => {\n    setState({ modalVisible: false });\n    tableRef.current.getTableData();\n  }, [setState]);\n\n  // 点击展开图标时触发\n  const handleOnExpand = useCallback((expanded: any, record: any) => {\n    const expandedRowKeys = [...state.expandedRowKeys];\n    if (!expanded) {\n      const idx = expandedRowKeys.indexOf(record.id);\n      expandedRowKeys.splice(idx, 1);\n    } else {\n      expandedRowKeys.push(record.id);\n    }\n    setState({ expandedRowKeys });\n  }, [setState, state.expandedRowKeys]);\n\n  useEffect(() => {\n    initParams();\n    getCapitalFlowType();\n  }, [initParams, getCapitalFlowType]);\n\n  return (\n    <div className=\"capital-flow\">\n      <div className=\"query-panel\">\n        <span>查询名称：</span>\n        <Select \n          onChange={(value: string) => setState({ name: value })} \n          value={state.name}\n        >\n          <Option value=\"\">全部</Option>\n        {\n          state.nameList.map((item: any) => (\n            <Option value={item.id} key={item.id}>{ item.name }</Option>\n          ))\n        }\n        </Select>\n        {\n          !state.name && (\n            <>\n              <span>查询类型：</span>\n              <Select \n                onChange={(value: string) => setState({ type: value })} \n                value={state.type}\n              >\n              {\n                OPTION_TYPES.map(item => (\n                  <Option value={item.value} key={item.value}>{ item.name }</Option>\n                ))\n              }\n              </Select>\n            </>\n          )\n        }\n        <span>日期：</span>\n        <RangePicker\n          format={dateFormat} \n          allowClear \n          value={state.date} \n          onChange={(date: any) => setState({ date })} \n        />\n        <div>\n          <Search\n            value={state.searchKeyword}\n            placeholder=\"试试搜索备注\"\n            maxLength={300}\n            onChange={e => setState({ searchKeyword: e.target.value })}\n            onSearch={() => tableRef.current.getTableData()}\n            style={{ width: 260, margin: '10px 15px 0 0' }}\n          />\n          <Button type=\"primary\" onClick={() => tableRef.current.getTableData()}>查询</Button>\n          <Button onClick={() => setState({ modalVisible: true, currentRow: null })}>新增</Button>\n          <Button onClick={initParams}>重置</Button>\n        </div>\n        <div className=\"poly\">\n          <div className=\"item-price\">\n            <em>收入：￥</em>\n            <Statistic value={state.price.income} precision={2} />\n          </div>\n          <div className=\"item-price\">\n            <em>支出：￥</em>\n            <Statistic value={state.price.consumption} precision={2} />\n          </div>\n          <div className=\"item-price\">\n            <em>实际收入：￥</em>\n            <Statistic value={state.price.available} precision={2} />\n          </div>\n        </div>\n      </div>\n      <Table \n        ref={tableRef}\n        getTableData={getCapitalFlow}\n        columns={tableColumns} \n        expandedRowRender={(data: any) => <p className=\"white-space_pre\">{ data.remarks }</p>}\n        expandedRowKeys={state.expandedRowKeys}\n        onExpand={handleOnExpand}\n      />\n      <CreateCapitalFlow \n        visible={state.modalVisible} \n        rowData={state.currentRow}\n        nameList={state.nameList}\n        onCancel={() => setState({ modalVisible: false })}\n        onSuccess={handleModalOnSuccess}\n      />\n    </div>\n  )\n}\n\nexport default Reminder;\n","import React, { useCallback, useReducer, useEffect } from 'react';\nimport { \n  Modal,\n  Form,\n  Input,\n  message,\n  Select\n} from 'antd';\nimport { serviceCreateCapitalFlowType, serviceUpdateCapitalFlowType } from '@/services';\nimport { TYPES } from '../../enum';\n\ntype Props = {\n  visible: boolean;\n  onSuccess: (res?: any) => void;\n  onCancel: () => void;\n  rowData: null | { [propName: string]: any; }\n};\n\nconst { Option } = Select;\nconst defaultType = TYPES.length ? TYPES[0].value : null;\nconst initialState = {\n  confirmLoading: false,\n  name: '',\n  type: defaultType\n};\n\nfunction reducer(state: any, action: any) {\n  switch (action.type) {\n    case 'setState':\n      return { ...state, ...action.state };\n    default:\n      return state;\n  }\n}\n\nconst CreateTask: React.FC<Props> = function ({ visible, rowData, onCancel, onSuccess }) {\n  const [state, dispatch] = useReducer(reducer, initialState); \n\n  const setState = useCallback((state) => {\n    dispatch({ type: 'setState', state });\n  }, []);\n\n  // 提交表单\n  const handleSubmit = useCallback((e) => {\n    e.preventDefault();\n    \n    const name = state.name.trim();\n    const params = { type: state.type, name };\n\n    if (!name) {\n      message.warn('名称不能为空');\n      return;\n    }\n\n    setState({ confirmLoading: true });\n\n    (rowData \n      ? serviceUpdateCapitalFlowType(rowData.id, params) \n        : serviceCreateCapitalFlowType(params)\n    )\n    .then(res => {\n      if (res.data.success) {\n        onSuccess(res.data.data);\n      }\n    })\n    .finally(() => {\n      setState({ confirmLoading: false });\n    });\n  }, [state, rowData, onSuccess, setState]);\n\n  useEffect(() => {\n    // 每次rowData改变重新赋值\n    if (rowData) {\n      setState({ name: rowData.name, type: rowData.type });\n    } else {\n      setState({ name: '', type: defaultType });\n    }\n  }, [rowData, setState]);\n\n  return (\n    <Modal\n      title=\"新增类别\"\n      visible={visible}\n      onOk={handleSubmit}\n      onCancel={() => onCancel()}\n      confirmLoading={state.confirmLoading}\n    >\n      <Form onSubmit={handleSubmit} layout=\"inline\">\n        <Form.Item label=\"名称\">\n          <Input \n            value={state.name} \n            onChange={e => setState({ name: e.target.value })} \n            maxLength={20} \n            placeholder=\"请输入名称\"\n          />\n        </Form.Item>\n        <Form.Item label=\"类型\">\n          <Select \n            value={state.type} \n            onChange={(value: any) => setState({ type: value })}\n          >\n          {\n            TYPES.map(item => (\n              <Option value={item.value} key={item.value}>{ item.name }</Option>\n            ))\n          }\n          </Select>\n        </Form.Item>\n      </Form>\n    </Modal>\n  )\n};\n\nexport default React.memo(CreateTask);\n","import React, { useEffect, useState, useReducer, useCallback } from 'react';\nimport './style.scss';\nimport { Table, Button, Tag, message } from 'antd';\nimport {\n  serviceGetCapitalFlowType,\n  serviceDeleteCapitalFlowType\n} from '@/services';\nimport { TypeNames, TypeColors } from '../enum';\nimport moment from 'moment';\nimport CreateType from '../components/create-type/index';\n\nconst initialState = {\n  modalVisible: false,\n  selectedRowKeys: [],\n  loading: false,\n  data: [],\n  rowData: null\n};\n\nfunction reducer(state: any, action: any) {\n  switch (action.type) {\n    case 'setState':\n      return {...state, ...action.state};\n    default:\n      return state;\n  }\n}\n\nconst Type = () => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const [columns] = useState([\n    { title: '序号', dataIndex: 'index' },\n    { title: '名称', dataIndex: 'name' },\n    { title: '类别', render: (rowData: any) => (\n      <Tag color={rowData.color}>{ rowData.typeName }</Tag>\n    ) },\n    { title: '创建时间', dataIndex: 'createdAt' },\n    { title: '操作', render: (rowData: any) => (\n      <Button onClick={handleEdit.bind(null, rowData)}>编辑</Button>\n    ) },\n  ]);\n\n  const setState = useCallback(state => {\n    dispatch({ type: 'setState', state });\n  }, []);\n\n  const onSelectChange = useCallback(selectedRowKeys => {\n    setState({ selectedRowKeys });\n  }, [setState]);\n\n  const getCapitalFlowType = useCallback(() => {\n    serviceGetCapitalFlowType()\n    .then(res => {\n      if (res.data.success) {\n        const handleData = res.data.data.map((item: any, idx: number) => {\n          item.index = idx + 1;\n          item.typeName = TypeNames[item.type];\n          item.color = TypeColors[item.type];\n          item.createdAt = moment(item.createdAt).format('YYYY-MM-DD hh:mm');\n          return item;\n        });\n        setState({ data: handleData });\n      }\n    });\n  }, [setState]);\n\n  const deleteCapitalFlowType = useCallback(() => {\n    const ids = state.selectedRowKeys.join();\n    if (!ids) return;\n    serviceDeleteCapitalFlowType(ids)\n    .then(res => {\n      if (res.data.success) {\n        getCapitalFlowType();\n      }\n    });\n  }, [state.selectedRowKeys, getCapitalFlowType]);\n\n  const handleOnSuccess = useCallback(() => {\n    setState({ modalVisible: false });\n    getCapitalFlowType();\n  }, [setState, getCapitalFlowType]);\n\n  const handleAdd = useCallback(() => {\n    if (state.data.length >= 100) {\n      message.warn('类型超出100条');\n      return;\n    }\n    setState({ modalVisible: true, rowData: null });\n  }, [state.data, setState]);\n\n  const handleEdit = useCallback((rowData: any) => {\n    setState({ modalVisible: true, rowData });\n  }, [setState]);\n\n  useEffect(() => {\n    getCapitalFlowType();\n  }, [getCapitalFlowType]);\n\n  const rowSelection = {\n    selectedRowKeys: state.selectedRowKeys,\n    onChange: onSelectChange,\n  };\n\n  return (\n    <div className=\"capital-flow-type\">\n      <div className=\"button-group\">\n        <Button type=\"danger\" onClick={deleteCapitalFlowType}>删除</Button>\n        <Button type=\"primary\" onClick={handleAdd}>新增</Button>\n      </div>\n      <Table \n        rowSelection={rowSelection} \n        columns={columns} \n        dataSource={state.data} \n        pagination={false}\n        rowKey=\"id\"\n      />\n      <CreateType \n        visible={state.modalVisible} \n        rowData={state.rowData}\n        onCancel={() => setState({ modalVisible: false })}\n        onSuccess={handleOnSuccess}\n      />\n    </div>\n  )\n};\n\nexport default Type;\n","import React, { useCallback, useReducer, useEffect } from 'react';\nimport { \n  Modal,\n  Form,\n  Input,\n  message,\n} from 'antd';\nimport { serviceCreateTodoList, serviceUpdateTodoList } from '@/services';\n\ntype Props = {\n  visible: boolean;\n  rowData?: { [propName: string]: any; } | null;\n  setParentState(state: any): void;\n  onSuccess: (res?: any) => void;\n};\n\nconst { TextArea } = Input;\nconst initialState = {\n  confirmLoading: false,\n  content: '',\n};\n\nfunction reducer(state: any, action: any) {\n  switch (action.type) {\n    case 'setState':\n      return { ...state, ...action.state };\n    default:\n      return state;\n  }\n}\n\nconst CreateTodo: React.FC<Props> = function ({\n  visible,\n  onSuccess,\n  setParentState,\n  rowData\n}) {\n  const [state, dispatch] = useReducer(reducer, initialState); \n\n  const setState = useCallback((state) => {\n    dispatch({ type: 'setState', state });\n  }, []);\n\n  // 初始化\n  const init = useCallback(() => {\n    setState({ content: rowData ? rowData.content : '' });\n  }, [rowData, setState]);\n\n  // 提交表单\n  const handleSubmit = useCallback(() => {\n    const params = {\n      content: state.content.trim(),\n    };\n\n    if (!params.content) {\n      message.warn('内容不能为空');\n      return;\n    }\n\n    (\n      !rowData \n        ? serviceCreateTodoList(params) \n          : serviceUpdateTodoList(rowData.id, params)\n    )\n    .then(res => {\n      if (res.data.success) {\n        onSuccess();\n      }\n    });\n  }, [state, onSuccess, rowData]);\n\n  useEffect(() => {\n    init();\n  }, [init]);\n\n  return (\n    <Modal\n      title=\"新增\"\n      visible={visible}\n      onOk={handleSubmit}\n      onCancel={() => setParentState({ showCreateTodoModal: false })}\n      confirmLoading={state.confirmLoading}\n    >\n      <Form onSubmit={handleSubmit} layout=\"inline\">\n        <Form.Item label=\"活动内容\">\n          <TextArea \n            rows={3} \n            value={state.content} \n            onChange={e => setState({ content: e.target.value })} \n            maxLength={250} \n          />\n        </Form.Item>\n      </Form>\n    </Modal>\n  )\n};\n\nexport default React.memo(CreateTodo);\n","\nexport const STATUS: any = {\n  1: { text: '进行中', color: 'volcano' },\n  2: { text: '已完成', color: '#2db7f5' }\n};\n","import React, { useReducer, useCallback, useEffect, useRef, useState } from 'react';\nimport { DatePicker, Button, Tag } from 'antd';\nimport {\n  getThisYearFirstDay,\n  getCurMonthLastDay,\n  modalConfirmDelete,\n  ONE_DAY_TIMESTAMP\n} from '@/utils';\nimport moment from 'moment';\nimport Table from '@/components/table';\nimport CreateTodo from '../components/create-todo';\nimport { serviceGetTodoList, serviceDeleteTodoList, serviceUpdateTodoList } from '@/services';\nimport { STATUS } from '../constants';\n\nconst { RangePicker } = DatePicker;\nconst dateFormat = 'YYYY-MM-DD';\n\ninterface State {\n  date: moment.Moment[];\n  showCreateTodoModal: boolean;\n  currentRowData: { [propName: string]: any; } | null;\n}\n\nconst initialState: State = {\n  date: [],\n  showCreateTodoModal: false,\n  currentRowData: null\n};\n\nfunction reducer(state: State, action: any) {\n  switch (action.type) {\n    case 'setState':\n      return { ...state, ...action.state };\n    default:\n      return state;\n  }\n}\n\nconst TodoList = () => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const tableRef = useRef<any>(null);\n  const [tableColumns] = useState([\n    { title: '状态', dataIndex: 'status', width: 90, render: (status: number) => (\n      <Tag color={STATUS[status].color}>{ STATUS[status].text }</Tag>\n    )},\n    { title: '创建时间', dataIndex: 'createdAt', width: 170 },\n    { title: '活动内容', dataIndex: 'content', className: 'word-break_break-all' },\n    { title: '操作', width: 250,\n      render: (row: any) => (\n        <>\n          <Button onClick={handleActionButton.bind(null, 0, row)}>编辑</Button>\n          <Button onClick={handleActionButton.bind(null, 1, row)}>删除</Button>\n          <Button \n            onClick={handleActionButton.bind(null, 2, row)} \n            disabled={row.status === 2}\n          >\n            完成\n          </Button>\n        </>\n      )\n    }\n  ]);\n\n  const setState = useCallback((state) => {\n    dispatch({ type: 'setState', state });\n  }, []);\n\n  const getData = useCallback(() => {\n    tableRef.current.getTableData();\n  }, []);\n\n  const getTodoList = useCallback((params?: any) => {\n    params.startDate = state.date[0].valueOf();\n    params.endDate = state.date[1].valueOf() + ONE_DAY_TIMESTAMP;\n    \n    return serviceGetTodoList(params).then(res => {\n      res.data.data.rows.map((item: any) => {\n        item.createdAt = moment(item.createdAt).format('YYYY-MM-DD HH:mm');\n        return item;\n      });\n      return res;\n    })\n  }, [state.date]);\n\n  const initParams = useCallback(() => {\n    const startDate = moment(getThisYearFirstDay(), dateFormat);\n    const endDate = moment(getCurMonthLastDay(dateFormat), dateFormat);\n    setState({ date: [startDate, endDate] });\n    setTimeout(() => {\n      tableRef.current.getTableData();\n    }, 100);\n  }, [setState]);\n\n  const handleOnSuccess = useCallback(() => {\n    setState({ showCreateTodoModal: false });\n    tableRef.current.getTableData();\n  }, [setState]);\n\n  const handleActionButton = useCallback((buttonType: number, row: any) => {\n    switch (buttonType) {\n      // 编辑\n      case 0:\n        setState({ showCreateTodoModal: true, currentRowData: row });\n        break;\n      // 删除\n      case 1:\n        modalConfirmDelete()\n        .then(() => {\n          serviceDeleteTodoList(row.id)\n          .then(res => {\n            if (res.data.success) {\n              tableRef.current.getTableData();\n            }\n          });\n        });\n        break;\n      // 状态\n      case 2:\n        serviceUpdateTodoList(row.id, { status: 2 })\n        .then(res => {\n          if (res.data.success) {\n            tableRef.current.getTableData();\n          }\n        });\n        break;\n      default:\n    }\n  }, [setState]);\n\n  useEffect(() => {\n    initParams();\n  }, [initParams]);\n\n  return (\n    <div className=\"today-task\">\n      <div className=\"query-panel\">\n        <span>查询日期：</span>\n        <RangePicker\n          format={dateFormat} \n          allowClear \n          value={state.date} \n          onChange={(date: any) => setState({ date })} \n        />\n        <Button type=\"primary\" onClick={getData}>查询</Button>\n        <Button onClick={() => setState({\n          showCreateTodoModal: true,\n          currentRowData: null\n        })}>新增</Button>\n        <Button onClick={initParams}>重置</Button>\n      </div>\n      <Table \n        ref={tableRef}\n        getTableData={getTodoList}\n        columns={tableColumns} \n      />\n      <CreateTodo\n        visible={state.showCreateTodoModal}\n        onSuccess={handleOnSuccess}\n        setParentState={setState}\n        rowData={state.currentRowData}\n      />\n    </div>\n  );\n};\n\nexport default TodoList;\n","import { lazy } from 'react';\nimport { IRouteProps } from '@/router/types';\nimport { HOME, SETTING } from './constants';\n\nimport Login from '@/views/login/index';\nimport NoMatch from '@/views/exception/no-match';\nimport MainEntry from '@/views/home/main-entry';\nimport Reminder from '@/views/home/reminder';\nimport SettingIndex from '@/views/home/setting/index';\nimport HomeIndex from '@/views/home/index';\nimport TodayTask from '@/views/home/today-task';\nimport Memorandum from '@/views/home/memorandum/index';\nimport MemorandumCreate from '@/views/home/memorandum/create';\nimport MemorandumDetail from '@/views/home/memorandum/detail';\nimport CapitalFlow from '@/views/home/capital-flow/index';\nimport CapitalFlowType from '@/views/home/capital-flow/type';\nimport TodoList from '@/views/home/todo-list/index';\n\n\nconst routesMap: Array<IRouteProps> = [\n  {\n    path: HOME.LOGIN.path,\n    exact: true,\n    component: Login,\n    meta: {\n      requiresAuth: false,      // 当前页面是否需要登录状态\n      title: HOME.LOGIN.name,   // 网页标题\n      isLoginToHome: true       // 如果当前登录状态跳转到后台首页\n    }\n  },\n  {\n    path: HOME.HOME.path,\n    component: MainEntry,\n    meta: {\n      requiresAuth: true,\n    },\n    childrenRoutes: [\n      {\n        path: HOME.HOME_INDEX.path,\n        component: HomeIndex,\n        exact: true,\n        meta: {\n          title: HOME.HOME_INDEX.name,\n          requiresAuth: true,\n        }\n      },\n      {\n        path: HOME.REMINDER.path,\n        component: Reminder,\n        exact: true,\n        meta: {\n          title: HOME.REMINDER.name,\n          requiresAuth: true,\n        }\n      },\n      {\n        path: HOME.SETTING_INDEX.path,\n        component: SettingIndex,\n        meta: {\n          title: HOME.SETTING_INDEX.name,\n          requiresAuth: true,\n        }\n      },\n      {\n        path: HOME.TODAY_TASK.path,\n        component: TodayTask,\n        meta: {\n          title: HOME.TODAY_TASK.name,\n          requiresAuth: true,\n        }\n      },\n      {\n        path: HOME.MEMORANDUM.path,\n        component: Memorandum,\n        exact: true,\n        meta: {\n          title: HOME.MEMORANDUM.name,\n          requiresAuth: true,\n        }\n      },\n      {\n        path: HOME.MEMORANDUM_CREATE.path,\n        component: MemorandumCreate,\n        exact: true,\n        meta: {\n          title: HOME.MEMORANDUM_CREATE.name,\n          requiresAuth: true,\n        }\n      },\n      {\n        path: HOME.MEMORANDUM_DETAIL.path,\n        component: MemorandumDetail,\n        exact: true,\n        meta: {\n          title: HOME.MEMORANDUM_DETAIL.name,\n          requiresAuth: true,\n        }\n      },\n      {\n        path: HOME.CAPITAL_FLOW.path,\n        component: CapitalFlow,\n        exact: true,\n        meta: {\n          title: HOME.CAPITAL_FLOW.name,\n          requiresAuth: true,\n        }\n      },\n      {\n        path: HOME.CAPITAL_FLOW_TYPE.path,\n        component: CapitalFlowType,\n        exact: true,\n        meta: {\n          title: HOME.CAPITAL_FLOW_TYPE.name,\n          requiresAuth: true,\n        }\n      },\n      {\n        path: HOME.TODO_LIST.path,\n        component: TodoList,\n        exact: true,\n        meta: {\n          title: HOME.TODO_LIST.name,\n          requiresAuth: true,\n        }\n      },\n      {\n        path: HOME.NO_MATCH.path,\n        component: NoMatch,\n        meta: {\n          requiresAuth: true,\n          title: HOME.NO_MATCH.name\n        }\n      },\n    ]\n  },\n  {\n    path: HOME.NO_MATCH.path,\n    component: NoMatch,\n    meta: {\n      requiresAuth: false,\n      title: HOME.NO_MATCH.name\n    }\n  },\n];\n\nconst Base = lazy(() => import('@/views/home/setting/base'));\nconst InnerMessage = lazy(() => import('@/views/home/setting/inner-message'));\nconst Notification = lazy(() => import('@/views/home/setting/notification'));\nconst Account = lazy(() => import('@/views/home/setting/account'));\n\nexport const settingRoutes: Array<IRouteProps> = [\n  {\n    path: SETTING.BASE.path,\n    component: Base,\n    meta: {\n      requiresAuth: true,\n      title: SETTING.BASE.name\n    }\n  },\n  {\n    path: SETTING.INNER_MESSAGE.path,\n    component: InnerMessage,\n    meta: {\n      requiresAuth: true,\n      title: SETTING.INNER_MESSAGE.name\n    }\n  },\n  {\n    path: SETTING.NOTIFICATION.path,\n    component: Notification,\n    meta: {\n      requiresAuth: true,\n      title: SETTING.NOTIFICATION.name\n    }\n  },\n  {\n    path: SETTING.ACCOUNT.path,\n    component: Account,\n    meta: {\n      requiresAuth: true,\n      title: SETTING.ACCOUNT.name\n    }\n  },\n];\n\nexport default routesMap;\n","import React from 'react';\nimport { BrowserRouter as Router, Switch } from 'react-router-dom';\nimport PrivateRoute from '@/components/private-route';\nimport CONFIG from '@/config';\nimport routesMap from './routes';\nimport { DispatchProp, connect } from 'react-redux';\nimport { validateLocalStatus } from '@/store/actions/user';\n\nconst Routes: React.FC<DispatchProp> = function ({ dispatch }) {\n  dispatch(validateLocalStatus());\n  \n  return (\n    <Router basename={CONFIG.baseURL}>\n      <Switch>\n      {\n        routesMap.map((route, idx) => (\n          <PrivateRoute {...route} key={idx} />\n        ))\n      }\n      </Switch>\n    </Router>\n  )\n};\n\nexport default connect()(Routes);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './assets/styles/global.scss';\nimport Routes from './router';\nimport { Provider } from 'react-redux';\nimport * as serviceWorker from './serviceWorker';\nimport { ConfigProvider } from 'antd';\nimport zh_CN from 'antd/lib/locale-provider/zh_CN';\nimport moment from 'moment';\nimport 'moment/locale/zh-cn';\nimport store from '@/store';\n\nmoment.locale('zh-cn');\n\nReactDOM.render(\n  <Provider store={store}>\n    <ConfigProvider locale={zh_CN}>\n      <Routes />\n    </ConfigProvider>\n  </Provider>,\ndocument.getElementById('tomato-work') as HTMLDivElement);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// 路由常量配置信息\n\nexport const SETTING = {\n  BASE: { name: '个人中心', path: '/home/setting/base' },\n\n  INNER_MESSAGE: { name: '消息中心', path: '/home/setting/innerMessage' },\n\n  NOTIFICATION: { name: '消息通知', path: '/home/setting/notification' },\n  \n  ACCOUNT: { name: '账号设置', path: '/home/setting/account' },\n};\n\nexport const HOME = {\n  LOGIN: { name: '登录', path: ['/', '/login'] },\n\n  HOME: { name: '', path: '/home' },\n\n  HOME_INDEX: { name: '后台首页', path: '/home/index' },\n\n  REMINDER: { name: '提醒事项', path: '/home/reminder' },\n\n  SETTING_INDEX: { name: '个人中心', path: '/home/setting' },\n\n  TODAY_TASK: { name: '今日待办', path: '/home/todayTask' },\n\n  MEMORANDUM: { name: '备忘录列表', path: '/home/memorandum' },\n  MEMORANDUM_CREATE: { name: '备忘录创建', path: [\n    '/home/memorandum/create', '/home/memorandum/update/:id'\n  ] },\n  MEMORANDUM_DETAIL: { name: '*', path: '/home/memorandum/detail/:id' },\n\n  CAPITAL_FLOW: { name: '资金流动', path: '/home/capitalFlow' },\n  CAPITAL_FLOW_TYPE: { name: '创建类别', path: '/home/capitalFlow/type' },\n\n  TODO_LIST: { name: '活动清单', path: '/home/todoList' },\n\n  NO_MATCH: { name: '404 Not Found', path: '*' },\n};\n","/**\n * @file User Action Creator\n * @since 1.0.0\n * @author xiejiahe <mb06@qq.com>\n */\n\nimport { USER } from '../constants';\nimport config from '@/config';\nimport { LOCAL_STORAGE } from '@/constants';\nimport { serviceLoginByToken, serviceLogout } from '@/services';\nimport _ from 'lodash';\nimport { Dispatch } from 'redux';\nimport moment from 'moment';\n\nconst { LOGIN } = USER;\n\nexport function setUser(userInfo: any = {}) {\n  if (userInfo.createdAt) {\n    userInfo.createdAt = moment(userInfo.createdAt).format('YYYY-MM-DD');\n  }\n  return {\n    type: LOGIN,\n    userInfo: userInfo\n  };\n}\n\n/**\n * 使用token进行登录\n */\nexport function loginByToken(token: string) {\n  return function (dispatch: Dispatch) {\n    return serviceLoginByToken(token).then((res: any) => {\n      if (res.data.success) {\n        const userInfo = res.data.data.userInfo;\n        return dispatch(setUser(userInfo));\n      }\n      return dispatch(setUser());\n    });\n  }\n}\n\n/**\n * 注销登录\n */\nexport function logout() {\n  serviceLogout()\n  .finally(() => {\n    const localStorageWhiteList = [LOCAL_STORAGE.LOGIN_NAME];\n    const localStorageLen = window.localStorage.length;\n    const allLocalStorageKey: string[] = [];\n\n    for (let i = 0; i < localStorageLen; i++) {\n      const key = window.localStorage.key(i) as string;\n      allLocalStorageKey.push(key);\n    }\n\n    allLocalStorageKey.forEach(keyName => {\n      if (localStorageWhiteList.indexOf(keyName) === -1) {\n        window.localStorage.removeItem(keyName);\n      }\n    });\n    window.sessionStorage.clear();\n    window.location.reload();\n  });\n}\n\n/**\n * Github Auth\n */\nexport function githubAuthz() {\n  const url = `https://github.com/login/oauth/authorize?client_id=${config.github.clientId}&redirect_uri=${config.github.callbackURL}`;\n  window.location.replace(url);\n}\n\n/**\n * 验证本地登录状态\n */\nexport function validateLocalStatus() {\n  let userInfo = {};\n  try {\n    userInfo = JSON.parse(window.localStorage.getItem(LOCAL_STORAGE.USER) as string);\n    if (!_.isPlainObject(userInfo)) {\n      userInfo = {};\n    }\n  } catch {}\n  return setUser(userInfo);\n}\n","/**\n * @file Antd Table组件封装\n * @since 1.0.0\n * @author xiejiahe <mb06@qq.com>\n * @example:\n * <Table \n *   // 配置ref用于调用父组件方法获取数据\n *   ref={tableRef}    \n * \n *   // getData 接口函数获取数据，必须返回一个axios Promise 同时处理好数据       \n *   getTableData={getData}\n * \n *   columns={tableColumns} \n * />\n */\n\nimport React, { FC, useEffect, useCallback, useReducer } from 'react';\nimport { Table } from 'antd';\nimport { TableProps } from 'antd/lib/table/interface';\nimport { AxiosPromise } from 'axios';\n\ninterface Props {\n  getTableData: (data: any) => AxiosPromise;\n  [propsName: string]: any;\n}\n\ninterface State {\n  tableHeight: number;\n  tableDataSource: any[];\n  isLoading: boolean;\n  pagination: {\n    [propName: string]: any;\n  }\n}\n\nconst initialState: State = {\n  tableHeight: 0,\n  tableDataSource: [],\n  isLoading: false,\n  pagination: {\n    pageNo: 1,\n    pageSize: 50,\n    showSizeChanger: true,\n    total: 0,\n    pageSizeOptions: ['30', '50', '70', '100', '200']\n  }\n};\n\nfunction reducer(state: State, action: any) {\n  switch (action.type) {\n    case 'setState':\n      return { ...state, ...action.state };\n    default:\n      return state;\n  }\n}\n\nconst TableFC: FC<Props & TableProps<unknown>> = ({\n  getTableData,\n  ...props\n}, tableRef) => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  const setState = useCallback(state => {\n    dispatch({ type: 'setState', state });\n  }, []);\n\n  const getData = useCallback(() => {\n    setState({ isLoading: true });\n    const { pageNo, pageSize } = tableRef.current;\n    // 调用父组件函数获取数据\n    getTableData({ pageNo: pageNo - 1, pageSize: pageSize })\n    .then(res => {\n      if (res.data.success) {\n        setState({\n          pagination: {\n            ...state.pagination,\n            total: res.data.data.count,\n            pageSize\n          },\n          tableDataSource: res.data.data.rows\n        });\n      }\n    })\n    .finally(() => {\n      setState({ isLoading: false });\n    });\n  }, [setState, state.pagination, getTableData, tableRef]);\n\n  // 分页改变触发\n  const handlePageChange = useCallback((\n    pageNo: number,\n    pageSize: number | undefined = state.pagination.pageSize\n  ) => {\n    setState({ pagination: { ...state.pagination,  pageNo, pageSize } });\n    tableRef.current.pageNo = pageNo;\n    tableRef.current.pageSize = pageSize;\n    getData();\n  }, [setState, getData, state.pagination, tableRef]);\n\n  useEffect(() => {\n    tableRef.current.pageNo = 1;\n    tableRef.current.pageSize = 50;\n  }, [tableRef]);\n\n  useEffect(() => {\n    // 新增方法给父组件调用\n    tableRef.current.getTableData = getData;\n  });\n\n  useEffect(() => {\n    // 设置表格的高度\n    setTimeout(() => {\n      const tableEl = document.querySelector('.ant-table-wrapper');\n      if (tableEl) {\n        setState({ tableHeight: tableEl.clientHeight - 120 });\n      }\n    }, 0);\n  }, [setState]);\n\n  return (\n    <Table \n      { ...props }\n      ref={tableRef}\n      rowKey=\"id\"\n      loading={state.isLoading}\n      dataSource={state.tableDataSource} \n      scroll={{ y: state.tableHeight + 'px' }}\n      showHeader={state.tableDataSource.length}\n      pagination={{\n        ...state.pagination,\n        onChange: handlePageChange,\n        onShowSizeChange: handlePageChange\n      }}\n    />\n  )\n};\n\nexport default React.memo(React.forwardRef(TableFC));\n"],"sourceRoot":""}