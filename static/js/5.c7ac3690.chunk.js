(this["webpackJsonptomato-work"]=this["webpackJsonptomato-work"]||[]).push([[5],{791:function(e,t,a){},797:function(e,t,a){"use strict";a.r(t);var n,c=a(13),r=a(0),l=a.n(r),u=(a(791),a(47)),o=a(93),s=a(14),i=a(7),d=a.n(i);!function(e){e[e["\u7cfb\u7edf\u6d88\u606f"]=0]="\u7cfb\u7edf\u6d88\u606f"}(n||(n={}));var b=n;t.default=function(){var e=Object(r.useRef)(null),t=Object(r.useState)([]),a=Object(c.a)(t,2),n=a[0],i=a[1],f=Object(r.useState)([{title:"",dataIndex:"hasRead",width:12,className:"unread-row",render:function(e){return!e&&l.a.createElement("i",{className:"unread-dot"},"\u25cf")}},{title:"\u6807\u9898\u5185\u5bb9",dataIndex:"content"},{title:"\u63d0\u4ea4\u65f6\u95f4",dataIndex:"createdAt",width:150},{title:"\u7c7b\u578b",dataIndex:"typeName",width:130}]),m=Object(c.a)(f,1)[0],h=Object(r.useCallback)((function(e){return Object(s.p)(e).then((function(e){return e.data.success&&e.data.data.rows.forEach((function(e){e.createdAt=d()(e.createdAt).format("YYYY-MM-DD HH:mm"),e.typeName=b[e.type]})),e}))}),[]),j=Object(r.useCallback)((function(t){var a=n.join();2===t&&(a="all"),Object(s.D)(a).then((function(t){t.data.success&&(i([]),e.current.getTableData())}))}),[n,e,i]);return Object(r.useEffect)((function(){e.current.getTableData()}),[e]),l.a.createElement("div",{className:"inner-message"},l.a.createElement(o.a,{ref:e,getTableData:h,columns:m,rowSelection:{selectedRowKeys:n,onChange:function(e){return i(e)}}}),l.a.createElement("div",{className:"action-group"},l.a.createElement(u.a,{onClick:j.bind(null,1),disabled:n.length<=0},"\u6807\u8bb0\u5df2\u8bfb"),l.a.createElement(u.a,{onClick:j.bind(null,2)},"\u5168\u90e8\u5df2\u8bfb")))}}}]);
//# sourceMappingURL=5.c7ac3690.chunk.js.map