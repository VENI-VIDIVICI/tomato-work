{"version":3,"sources":["store/actions/user.ts","components/table/index.tsx","utils/http.ts","services/user.ts","services/system.ts","services/reminder.ts","services/todayTask.ts","services/capitalFlow.ts","services/memorandum.ts","services/innerMessage.ts","services/todoList.ts","services/common.ts","hooks/index.ts","store/reducers/user.ts","store/reducers/system.ts","store/reducers/index.ts","store/index.ts","api/index.ts","components/avatar/index.tsx","assets/img/common/no-data.svg","assets/img/common/logo.png","utils/helper.ts","utils/date.ts","utils/spin.ts","config/index.ts","constants/storage.ts","constants/menu.tsx","router/constants.ts","components/private-route/index.tsx","components/footer/index.tsx","views/login/index.tsx","views/home/index/components/system-info/index.tsx","views/home/memorandum/create/index.tsx","views/home/capital-flow/enum.tsx","components/exception/index.tsx","views/exception/no-match/index.tsx","components/sidebar/index.tsx","components/header/index.tsx","views/home/main-entry/index.tsx","views/home/reminder/components/create-reminder/index.tsx","views/home/reminder/index.tsx","views/home/setting/index/index.tsx","views/home/index/components/penel-group/index.tsx","views/home/index/components/money-access-chart/index.tsx","views/home/index/index.tsx","components/no-data/index.tsx","views/home/today-task/components/task-item/index.tsx","views/home/today-task/components/create-task/index.tsx","views/home/today-task/index.tsx","views/home/memorandum/index/index.tsx","views/home/memorandum/constants.ts","views/home/memorandum/detail/index.tsx","views/home/capital-flow/components/create-capital-flow/index.tsx","views/home/capital-flow/index/index.tsx","views/home/capital-flow/components/create-type/index.tsx","views/home/capital-flow/type/index.tsx","views/home/todo-list/components/create-todo/index.tsx","views/home/todo-list/constants.tsx","views/home/todo-list/index/index.tsx","router/routes.ts","router/index.tsx","serviceWorker.ts","index.tsx","store/constants/index.ts","store/actions/system.ts"],"names":["LOGIN","USER","setUser","userInfo","createdAt","moment","format","type","loginByToken","token","dispatch","serviceLoginByToken","then","res","data","success","logout","serviceLogout","finally","localStorageWhiteList","LOCAL_STORAGE","LOGIN_NAME","localStorageLen","window","localStorage","length","allLocalStorageKey","i","key","push","forEach","keyName","indexOf","removeItem","sessionStorage","clear","location","reload","githubAuthz","url","config","github","callbackURL","clientId","replace","validateLocalStatus","JSON","parse","getItem","_","isPlainObject","initialState","tableHeight","tableDataSource","isLoading","pagination","pageNo","pageSize","showSizeChanger","total","pageSizeOptions","TableFC","getTableData","onTableChange","tableRef","forwardedRef","props","useKeepState","state","setState","getData","current","count","rows","useEffect","setTimeout","tableEl","document","querySelector","clientHeight","rowKey","loading","dataSource","scroll","y","showHeader","onChange","filters","sorter","size","forwardedTable","React","forwardRef","ref","memo","_logout","CancelToken","axios","handleError","error","isCancel","response","message","status","statusText","defaults","headers","common","successAlert","errorAlert","httpInstance","create","timeout","baseURL","CONFIG","http","Object","setPrototypeOf","interceptors","request","use","method","userState","store","getState","user","axiosCancelTokenStore","idx","cancelRequest","cancel","splice","cancelToken","pathname","spin","start","FormData","append","assign","Promise","reject","done","warn","msg","errorCode","serviceLogin","post","api","login","get","params","serviceUpdateUser","updateUser","serviceGetUserConfig","getUserConfig","serviceUpdateUserConfig","put","serviceGetSystemInfo","getSystemInfo","serviceCreateReminder","reminder","serviceGetReminder","serviceDeleteReminder","id","delete","serviceUpdateReminder","serviceCreateTask","todayTask","serviceGetTask","serviceDeleteTask","serviceUpdateTask","serviceGetCapitalFlowType","capitalFlowType","serviceDeleteCapitalFlowType","serviceUpdateCapitalFlowType","serviceCreateCapitalFlowType","serviceGetCapitalFlow","capitalFlow","serviceDeleteCapitalFlow","serviceUpdateCapitalFlow","serviceCreateCapitalFlow","serviceGetCapitalFlowPrice","getCapitalFlowPrice","serviceCreateMemorandum","memorandum","serviceGetMemorandum","serviceGetMemorandumById","serviceDeleteMemorandum","serviceUpdateMemorandum","serviceGetInnerMessage","innerMessage","serviceUpdateInnerMessageHasRead","serviceCreateTodoList","todoList","serviceGetTodoList","serviceDeleteTodoList","serviceUpdateTodoList","serviceGetPanelData","getPanelData","useFormInput","initialValue","useState","value","setValue","event","target","isLogin","isLockScreen","provider","uid","undefined","bio","username","password","loginName","avatarUrl","email","role","action","setItem","stringify","INFO","SYSTEM","info","mysqlVersion","currentSystemTime","Date","now","freemem","totalmem","platform","hostname","arch","nodeVersion","cpus","system","isEmpty","slice","combineReducers","createStore","rootReducer","applyMiddleware","thunk","API","getCaptcha","Avatar","onError","module","exports","CODE","totalPercentage","Math","floor","modalConfirmDelete","object","resolve","Modal","confirm","title","okType","onOk","fullscreen","docElm","documentElement","requestFullscreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen","exitFullscreen","doc","mozCancelFullScreen","webkitCancelFullScreen","msExitFullscreen","randomCode","num","random","ONE_DAY_TIMESTAMP","getCurMonthTotalDay","daysInMonth","getCurMonthFirstDay","cur","setDate","setHours","getTime","getCurMonthLastDay","isLtTodayTimestamp","todayTimestamp","valueOf","getStartTimestampByDate","date","getEndTimestampByDate","getThisYearFirstDay","setMonth","getThisYearLastDay","endOf","containerEl","getElementById","spinEl","createElement","className","innerHTML","appendChild","parentNode","removeChild","isProduction","process","isDevelopment","origin","repositoryUrl","bug","SIDEBAR_COLLAPSED","LOCK_SCREEN","HOME_SIDER_MENU_LIST","path","HOME","HOME_INDEX","icon","HomeOutlined","name","REMINDER","ClockCircleOutlined","TODO_LIST","FileDoneOutlined","TODAY_TASK","ScheduleOutlined","BarChartOutlined","children","CAPITAL_FLOW","CAPITAL_FLOW_TYPE","MEMORANDUM","FormOutlined","MEMORANDUM_CREATE","SETTING","BASE","UserOutlined","SETTING_SIDER_MENU_LIST","INNER_MESSAGE","NOTIFICATION","ACCOUNT","SETTING_INDEX","MEMORANDUM_DETAIL","NO_MATCH","PrivateRouteComponent","connect","withRouter","Component","component","childrenRoutes","rest","Array","isArray","meta","auth","requiresAuth","isLoginToHome","qs","search","redirectUrl","to","render","map","route","currentYear","getFullYear","href","rel","PopoverContent","style","padding","captcha","reloadCaptcha","e","src","timer","editor","TypeNames","TypeColors","history","code","setLoading","handleSubmit","_loginName","trim","_password","_code","Error","md5","catch","err","query","Number","width","height","viewBox","aria-hidden","d","fill","require","alt","Group","placeholder","prefix","maxLength","autoComplete","onPressEnter","LockOutlined","PictureOutlined","suffix","onClick","marginTop","block","content","trigger","placement","GithubOutlined","statusMap","403","subTitle","404","500","extra","goBack","NoMatch","Sider","Layout","SubMenu","Menu","collapsed","selectedKeys","setSelectedKeys","openKeys","setOpenKeys","fragment","split","prefixPath","join","menu","findIdx","findIndex","collapsible","onOpenChange","mode","theme","subItem","Item","Header","popoverList","el","PoweroffOutlined","fontSize","marginRight","setCollapsed","messageList","setMessageList","unReadCount","setUnReadCount","isFullscreen","setIsFullscreen","item","hasRead","MessageContent","useMemo","MenuUnfoldOutlined","cursor","MenuFoldOutlined","dot","BellFilled","FullscreenOutlined","FullscreenExitOutlined","BugFilled","Content","storageCollapsed","Children","child","TextArea","Input","confirmLoading","dateMode","visible","onCancel","onSuccess","rowData","initParams","useCallback","preventDefault","label","showTime","allowClear","onPanelChange","disabledDate","RangePicker","DatePicker","Option","Select","STATUS_TYPE","1","color","text","2","queryType","modalVisible","currentRow","useRef","dataIndex","row","align","handleButton","bind","tableColumns","startDate","endDate","getReminder","order","handleModalOnSuccess","warning","columns","SettingIndex","fallback","settingRoutes","isInit","Icon","PropertySafetyFilled","ScheduleFilled","FileTextFilled","AlertFilled","consumption","todayTaskCount","unfinishedTodoListCount","reminderCount","gutter","xs","sm","md","xl","lg","curSystemTime","percentage","systemInfo","memPercentage","countdown","clearTimeout","timeDiff","hoverable","bytes","percent","strokeColor","cols","range","setData","totalPrice","setTotalPrice","price","scale","forceFit","formatter","val","parseInt","crosshairs","position","shape","stroke","lineWidth","image","Empty","PRESENTED_IMAGE_SIMPLE","propDispatch","NoDataSvg","reloadData","handleAction","buttonType","rollback","disabled","danger","includes","setParentState","handleSubmitForm","showCreateTaskModal","datePickerValue","TASK_TYPE","wait","finished","unfinished","TodayTask","getTask","handleOnSuccess","keys","span","Memorandum","list","setList","stopPropagation","index","copyList","dangerouslySetInnerHTML","__html","html","Create","computedMatch","setTitle","handleActionButton","markdown","getValue","init","Editor","initialEditType","previewStyle","usageStatistics","remove","onBlur","Detail","setContent","LeftOutlined","EditOutlined","remarks","typeId","nameList","initRef","isNaN","optionName","TYPES","symbol","OPTION_TYPES","Search","searchKeyword","income","available","sortedInfo","Reminder","getCapitalFlow","keyword","typeNameId","sort","columnKey","__price__","__color__","getCapitalFlowType","a","b","onFilterDate","subtract","startOf","add","sortOrder","defaultFilteredValue","onSearch","precision","defaultType","selectedRowKeys","Type","typeName","handleEdit","handleData","deleteCapitalFlowType","ids","handleAdd","rowSelection","showCreateTodoModal","STATUS","currentRowData","TodoList","getTodoList","routesMap","exact","Login","MainEntry","HomeIndex","MemorandumCreate","MemorandumDetail","CapitalFlow","CapitalFlowType","Base","lazy","InnerMessage","Notification","Account","basename","Boolean","match","locale","ReactDOM","zh_CN","navigator","serviceWorker","ready","registration","unregister","console","LOGOUT","setSystemInfo"],"mappings":"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","file":"static/js/main.1af71c89.chunk.js","sourcesContent":["/**\n * @file User Action Creator\n * @since 1.0.0\n * @author xiejiahe <xjh22222228@gmail.com>\n */\nimport config from '@/config';\nimport _ from 'lodash';\nimport moment from 'moment';\nimport { USER } from '../constants';\nimport { LOCAL_STORAGE } from '@/constants';\nimport { serviceLoginByToken, serviceLogout } from '@/services';\nimport { Dispatch } from 'redux';\n\nconst { LOGIN } = USER;\n\nexport function setUser(userInfo: any = {}) {\n  if (userInfo.createdAt) {\n    userInfo.createdAt = moment(userInfo.createdAt).format('YYYY-MM-DD');\n  }\n  return {\n    type: LOGIN,\n    userInfo: userInfo\n  };\n}\n\n/**\n * 使用token进行登录\n */\nexport function loginByToken(token: string) {\n  return function (dispatch: Dispatch) {\n    return serviceLoginByToken(token).then((res: any) => {\n      if (res.data.success) {\n        const userInfo = res.data.data.userInfo;\n        return dispatch(setUser(userInfo));\n      }\n      return dispatch(setUser());\n    });\n  }\n}\n\n/**\n * 注销登录\n */\nexport function logout() {\n  serviceLogout()\n  .finally(() => {\n    const localStorageWhiteList = [LOCAL_STORAGE.LOGIN_NAME];\n    const localStorageLen = window.localStorage.length;\n    const allLocalStorageKey: string[] = [];\n\n    for (let i = 0; i < localStorageLen; i++) {\n      const key = window.localStorage.key(i) as string;\n      allLocalStorageKey.push(key);\n    }\n\n    allLocalStorageKey.forEach(keyName => {\n      if (localStorageWhiteList.indexOf(keyName) === -1) {\n        window.localStorage.removeItem(keyName);\n      }\n    });\n    window.sessionStorage.clear();\n    window.location.reload(true);\n  });\n}\n\n/**\n * Github Auth\n */\nexport function githubAuthz() {\n  const url = `https://github.com/login/oauth/authorize?response_type=code&redirect_uri=${config.github.callbackURL}&client_id=${config.github.clientId}`;\n  window.location.replace(url);\n}\n\n/**\n * 验证本地登录状态\n */\nexport function validateLocalStatus() {\n  let userInfo = {};\n  try {\n    userInfo = JSON.parse(window.localStorage.getItem(LOCAL_STORAGE.USER) as string);\n    if (!_.isPlainObject(userInfo)) {\n      userInfo = {};\n    }\n  } catch {}\n  return setUser(userInfo);\n}\n","/**\n * @author xiejiahe <xjh22222228@gmail.com>\n * @example:\n * <Table \n *   // 配置ref用于调用父组件方法获取数据\n *   ref={tableRef}    \n * \n *   // getData 接口函数获取数据，必须返回一个axios Promise 同时处理好数据       \n *   getTableData={getData}\n * \n *   columns={tableColumns} \n * />\n */\n\nimport React, { FC, useEffect } from 'react';\nimport { Table } from 'antd';\nimport { TableProps } from 'rc-table/lib/Table';\nimport { AxiosPromise } from 'axios';\nimport useKeepState from 'use-keep-state';\n\ninterface Props {\n  getTableData: (data: any) => AxiosPromise;\n  onTableChange?: (a: any, b: any, c: any) => void;\n  [propsName: string]: any;\n}\n\ninterface State {\n  tableHeight: number;\n  tableDataSource: any[];\n  isLoading: boolean;\n  pagination: {\n    [propName: string]: any;\n  }\n}\n\nconst DEFAULT_PAGE_SIZE = 50;\nconst initialState: State = {\n  tableHeight: 0,\n  tableDataSource: [],\n  isLoading: false,\n  pagination: {\n    pageNo: 1,\n    pageSize: DEFAULT_PAGE_SIZE,\n    showSizeChanger: true,\n    total: 0,\n    pageSizeOptions: ['30', '50', '70', '100', '200']\n  }\n};\n\nconst TableFC: FC<Props & TableProps<unknown>> = ({\n  getTableData,\n  onTableChange,\n  forwardedRef: tableRef,\n  ...props\n}) => {\n  const [state, setState] = useKeepState(initialState);\n\n  function getData() {\n    setState({ isLoading: true });\n    const { pageNo, pageSize } = tableRef.current;\n    // 调用父组件函数获取数据\n    getTableData({\n      pageNo: pageNo - 1,\n      pageSize: pageSize\n    })\n      .then(res => {\n        if (res.data.success) {\n          setState({\n            pagination: {\n              ...state.pagination,\n              total: res.data.data.count,\n              pageSize\n            },\n            tableDataSource: res.data.data.rows\n          });\n        }\n      })\n      .finally(() => {\n        setState({ isLoading: false });\n      });\n  }\n\n  const onChange = function(pagination: any, filters: any, sorter: any) {\n    setState({\n      pagination: {\n        ...state.pagination,\n        pageNo: pagination.pageNo,\n        pageSize: pagination.pageSize\n      }\n    });\n    tableRef.current.pageNo = pagination.pageNo;\n    tableRef.current.pageSize = pagination.pageSize;\n    getData();\n    onTableChange && onTableChange(pagination, filters, sorter);\n  };\n\n  useEffect(() => {\n    if (!tableRef.current) {\n      tableRef.current = {};\n    }\n    // 新增方法给父组件调用\n    tableRef.current.getTableData = getData;\n  });\n\n  useEffect(() => {\n    tableRef.current.pageNo = 1;\n    tableRef.current.pageSize = DEFAULT_PAGE_SIZE;\n  }, [tableRef]);\n\n  useEffect(() => {\n    // 设置表格的高度\n    setTimeout(() => {\n      const tableEl = document.querySelector('.ant-table-wrapper');\n      if (tableEl) {\n        setState({ tableHeight: tableEl.clientHeight - 120 });\n      }\n    }, 0);\n  }, [setState]);\n\n  return (\n    <Table \n      {...props as any}\n      rowKey=\"id\"\n      loading={state.isLoading}\n      dataSource={state.tableDataSource} \n      scroll={{ y: state.tableHeight + 'px' }}\n      showHeader={state.tableDataSource.length}\n      onChange={onChange}\n      pagination={{\n        ...state.pagination,\n        size: 'small'\n      }}\n    />\n  )\n};\n\nconst forwardedTable = React.forwardRef((props: any, ref) => (\n  <TableFC {...props} forwardedRef={ref} />\n));\n\nexport default React.memo(forwardedTable);\n","/**\n * @since 1.0.1\n * @author xiejiahe <xjh22222228@gmail.com>\n */\nimport axios from 'axios';\nimport CONFIG from '@/config';\nimport store from '@/store';\nimport { message } from 'antd';\nimport { logout } from '@/store/actions';\nimport { spin } from '@/utils';\n\nlet _logout = false;\nconst CancelToken = axios.CancelToken;\n\nfunction handleError(error: any): Promise<any> | undefined {\n  if (axios.isCancel(error)) {\n    \n  } else {\n    const response = error.response;\n    message.error(`${response.status} ${response.statusText}`);\n  }\n  return;\n}\n\naxios.defaults.headers.common.isLoading = true;\naxios.defaults.headers.common.successAlert = false;\naxios.defaults.headers.common.errorAlert = true;\n\nconst httpInstance = axios.create({\n  timeout: 60000,\n  baseURL: CONFIG.http.baseURL\n});\nObject.setPrototypeOf(httpInstance, axios);\n\nhttpInstance.interceptors.request.use(function (config) {\n  const method = config.method;\n  const url = config.url;\n  const userState = store.getState().user.userInfo;\n\n  // 取消重复请求\n  window.axiosCancelTokenStore.forEach((store, idx) => {\n    if (\n      config.headers.cancelRequest !== false && \n      store.url === url && \n      store.method === method\n    ) {\n      store.cancel();\n      window.axiosCancelTokenStore.splice(idx, 1);\n    }\n  });\n  \n  config.headers.token = userState.token;\n  config.cancelToken = new CancelToken(cancel => {\n    window.axiosCancelTokenStore.push({\n      pathname: window.location.pathname,\n      method,\n      url,\n      cancel\n    });\n  });\n\n  const data: { [k: string]: any } = {};\n\n  if (config.headers.isLoading) {\n    spin.start();\n  }\n\n  if (method === 'post' || method === 'put') {\n    if (config.data instanceof FormData) {\n      for (let key in data) {\n        config.data.append(key, data[key])\n      }\n    } else {\n      config.data = Object.assign(data, config.data);\n    }\n  }\n\n  return config;\n}, function (error) {\n  return (handleError(error) as any) || Promise.reject(error);\n});\n\n\nhttpInstance.interceptors.response.use(function (res) {\n  if (res.config.headers.isLoading) {\n    spin.done();\n  }\n\n  if (!res.data.success && res.config.headers.errorAlert) {\n    message.warn(res.data.msg ?? '服务器出小差');\n  }\n\n  if (res.data.success && res.config.headers.successAlert) {\n    message.success(res.data.msg ?? 'success');\n  }\n\n  if (res.data.errorCode === 401 && !_logout) {\n    _logout = true;\n    setTimeout(logout, 2000);\n  }\n  return res;\n}, function (error) {\n  return (handleError(error) as any) || Promise.reject(error);\n});\n\nexport default httpInstance;\n","import http from '@/utils/http';\nimport api from '@/api';\n\n// 通过账号密码登录\nexport function serviceLogin(data: object) {\n  return http.post(api.login, data);\n}\n\n// 通过token登录\nexport function serviceLoginByToken(token: string) {\n  return http.get(api.loginByToken, {\n    params: { token }\n  });\n}\n\n// 退出登录\nexport function serviceLogout() {\n  return http.get(api.logout);\n}\n\n// 更新用户信息\nexport function serviceUpdateUser(data: object) {\n  return http.post(api.updateUser, data, {\n    headers: { successAlert: true }\n  });\n}\n\n// 获取用户配置信息\nexport function serviceGetUserConfig() {\n  return http.get(api.getUserConfig);\n}\n\n// 更新用户配置信息\nexport function serviceUpdateUserConfig(data: object) {\n  return http.put(api.getUserConfig, data, {\n    headers: { successAlert: true }\n  });\n}\n","import http from '@/utils/http';\nimport api from '@/api';\n\n// 获取系统信息\nexport function serviceGetSystemInfo() {\n  return http.get(api.getSystemInfo);\n}\n\n","import http from '@/utils/http';\nimport api from '@/api';\n\n// 新增\nexport function serviceCreateReminder(data: object) {\n  return http.post(api.reminder, data, {\n    headers: { successAlert: true }\n  });\n}\n\n// 查询\nexport function serviceGetReminder(params?: object) {\n  return http.get(api.reminder, { params });\n}\n\n// 删除\nexport function serviceDeleteReminder(id: unknown) {\n  return http.delete(`${api.reminder}/${id}`, {\n    headers: { successAlert: true }\n  });\n}\n\n// 更新\nexport function serviceUpdateReminder(id: unknown, data: object) {\n  return http.put(`${api.reminder}/${id}`, data, {\n    headers: { successAlert: true }\n  });\n}\n","import http from '@/utils/http';\nimport api from '@/api';\n\n// 创建\nexport function serviceCreateTask(data: object) {\n  return http.post(api.todayTask, data, {\n    headers: { successAlert: true }\n  });\n}\n\n// 查询\nexport function serviceGetTask(params?: object) {\n  return http.get(api.todayTask, {\n    params,\n    headers: { isLoading: true }\n  });\n}\n\n// 删除\nexport function serviceDeleteTask(id: unknown) {\n  return http.delete(`${api.todayTask}/${id}`);\n}\n\n// 更新\nexport function serviceUpdateTask(id: unknown, data?: object) {\n  return http.put(`${api.todayTask}/${id}`, data);\n}","import http from '@/utils/http';\nimport api from '@/api';\n\n\n// 类型\nexport function serviceGetCapitalFlowType() {\n  return http.get(api.capitalFlowType, {\n    headers: { isLoading: true }\n  });\n}\n\nexport function serviceDeleteCapitalFlowType(id: string) {\n  return http.delete(`${api.capitalFlowType}/${id}`, {\n    headers: { successAlert: true }\n  });\n}\n\nexport function serviceUpdateCapitalFlowType(id: string, data: object) {\n  return http.put(`${api.capitalFlowType}/${id}`, data, {\n    headers: { successAlert: true }\n  });\n}\n\nexport function serviceCreateCapitalFlowType(data: object) {\n  return http.post(api.capitalFlowType, data, {\n    headers: { successAlert: true }\n  });\n}\n\n\n// 流动资金\n\nexport function serviceGetCapitalFlow(params?: object) {\n  return http.get(api.capitalFlow, { params });\n}\n\nexport function serviceDeleteCapitalFlow(id: string) {\n  return http.delete(`${api.capitalFlow}/${id}`, {\n    headers: { successAlert: true }\n  });\n}\n\nexport function serviceUpdateCapitalFlow(id: string, data: object) {\n  return http.put(`${api.capitalFlow}/${id}`, data, {\n    headers: { successAlert: true }\n  });\n}\n\nexport function serviceCreateCapitalFlow(data: object) {\n  return http.post(api.capitalFlow, data);\n}\n\nexport function serviceGetCapitalFlowPrice(params?: object) {\n  return http.get(api.getCapitalFlowPrice, { params });\n}","import http from '@/utils/http';\nimport api from '@/api';\n\n// 新增\nexport function serviceCreateMemorandum(data: object) {\n  return http.post(api.memorandum, data, {\n    headers: { successAlert: true }\n  });\n}\n\n// 查询所有\nexport function serviceGetMemorandum(params?: object) {\n  return http.get(api.memorandum, {\n    params,\n    headers: { isLoading: true }\n  });\n}\n\n// 通过id查询\nexport function serviceGetMemorandumById(id: unknown) {\n  return http.get(`${api.memorandum}/${id}`, {\n    headers: { isLoading: true }\n  });\n}\n\n// 删除\nexport function serviceDeleteMemorandum(id: unknown) {\n  return http.delete(`${api.memorandum}/${id}`);\n}\n\n// 更新\nexport function serviceUpdateMemorandum(id: unknown, data: object) {\n  return http.put(`${api.memorandum}/${id}`, data, {\n    headers: { successAlert: true }\n  });\n}\n","import http from '@/utils/http';\nimport api from '@/api';\n\n// 查询\nexport function serviceGetInnerMessage(params?: object) {\n  return http.get(api.innerMessage, {\n    params,\n    headers: {\n      errorAlert: false,\n      cancelRequest: false\n    }\n  });\n}\n\n// 标志已读\nexport function serviceUpdateInnerMessageHasRead(id: unknown) {\n  return http.put(`${api.innerMessage}/${id}`, null, {\n    headers: { successAlert: true }\n  });\n}\n","import http from '@/utils/http';\nimport api from '@/api';\n\n// 创建\nexport function serviceCreateTodoList(data: object) {\n  return http.post(api.todoList, data);\n}\n\n// 查询\nexport function serviceGetTodoList(params?: object) {\n  return http.get(api.todoList, { params });\n}\n\n// 删除\nexport function serviceDeleteTodoList(id: unknown) {\n  return http.delete(`${api.todoList}/${id}`, {\n    headers: { successAlert: true }\n  });\n}\n\n// 更新\nexport function serviceUpdateTodoList(id: unknown, data?: object) {\n  return http.put(`${api.todoList}/${id}`, data);\n}","import http from '@/utils/http';\nimport api from '@/api';\n\n// 获取后台首页面板数据\nexport function serviceGetPanelData(params?: object) {\n  return http.get(api.getPanelData, { params });\n}\n\n\n","import { useState } from 'react';\n\ninterface InputProps {\n  value: any;\n  onChange(event: React.ChangeEvent<HTMLInputElement>): void\n}\n\n/**\n * Input onChange and useState\n * @param initialValue\n */\nexport function useFormInput(initialValue: any): InputProps {\n  const [value, setValue] = useState(initialValue);\n  function handleChange(event: React.ChangeEvent<HTMLInputElement & HTMLTextAreaElement>): void {\n    setValue(event.target.value);\n  };\n  return {\n    value,\n    onChange: handleChange\n  };\n}\n\n","/**\n * @file User reducers\n * @since 1.0.0\n * @author xiejiahe <xjh22222228@gmail.com>\n */\n\nimport { USER } from '../constants';\nimport { LOCAL_STORAGE } from '@/constants';\n\nconst { LOGIN } = USER;\n\nexport interface UserInfoProps {\n  provider: string;\n  uid: number | undefined;\n  username: string;\n  password: string;\n  loginName: string;\n  avatarUrl: string;\n  email: string;\n  role: string;\n  token: string | undefined;\n  bio: string;\n  location: string;\n  createdAt: string;\n}\n\nexport interface UserState {\n  isLogin: boolean;\n  isLockScreen: boolean;\n  userInfo: UserInfoProps;\n}\n\nconst initialState: UserState = {\n  isLogin: false,\n  isLockScreen: false,\n  userInfo: {\n    provider: '',                   // github ?\n    uid: undefined,                 // 用户ID\n    createdAt: '',                  // 注册时间\n    bio: '',                        // 简介\n    username: '',                   // 昵称\n    password: '',                   // 经过MD5加密后的密码\n    loginName: '',                  // 登录名\n    avatarUrl: '',                  // 头像\n    email: '',\n    role: '',\n    token: undefined,               // 登录凭证\n    location: ''\n  }\n};\n \nfunction user(state = initialState, action: any): UserState {\n  switch (action.type) {\n    case LOGIN:\n      const userInfo = action.userInfo;\n      if (userInfo?.token) {\n        state.isLogin = true;\n        window.localStorage.setItem(LOCAL_STORAGE.USER, JSON.stringify(userInfo));\n        window.localStorage.setItem(LOCAL_STORAGE.LOGIN_NAME, userInfo.loginName);\n      }\n      return { ...state, userInfo: action.userInfo };\n    default:\n      return state;\n  }\n}\n\nexport default user;\n","/**\n * @file System reducers\n * @since 1.0.0\n * @author xiejiahe <xjh22222228@gmail.com>\n */\nimport _ from 'lodash';\nimport { SYSTEM } from '../constants';\n\nconst { INFO } = SYSTEM;\n\nexport interface SystemState {\n  info: {\n    mysqlVersion: string;\n    currentSystemTime: number;\n    freemem: number;\n    totalmem: number;\n    platform: string;\n    type: string;\n    hostname: string;\n    arch: string;\n    nodeVersion: string;\n    cpus: any[];\n  }\n}\n\nconst initialState: SystemState = {\n  info: {\n    mysqlVersion: '',\n    currentSystemTime: Date.now(),\n    freemem: 0,\n    totalmem: 0,\n    platform: '',\n    type: '',\n    hostname: '',\n    arch: '',\n    nodeVersion: '',\n    cpus: []\n  }\n};\n \nfunction system(state = initialState, action: any): SystemState {\n  switch (action.type) {\n    case INFO:\n      if (_.isEmpty(action.data)) {\n        return state;\n      }\n      action.data.arch = action.data.arch.slice(1);\n      return {\n        ...state,\n        info: action.data\n      };\n    default:\n      return state;\n  }\n}\n\nexport default system;\n","/**\n * @file Reducers Entry\n * @since 1.0.0\n * @author xiejiahe <xjh22222228@gmail.com>\n */\n\nimport user from './user';\nimport system from './system';\nimport { combineReducers } from 'redux';\n\nexport default combineReducers({\n  user,\n  system\n});\n","/**\n * @file Store main entry.\n * @since 1.0.0\n * @author xiejiahe <xjh22222228@gmail.com>\n */\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers';\nimport { createStore, applyMiddleware } from 'redux';\nimport { UserState } from './reducers/user';\nimport { SystemState } from './reducers/system';\n\nexport interface StoreState {\n  user: UserState;\n  system: SystemState;\n}\n\nconst store = createStore(\n  rootReducer,\n  applyMiddleware(thunk)\n);\n\nexport default store;\n","\nconst API = {\n  // 验证码\n  getCaptcha: '/api/captcha?code=',\n  // 账号密码登录\n  login: '/passport/local',\n  // 使用token登录\n  loginByToken: '/accessToken',\n  // 退出登录\n  logout: '/logout',\n  // 获取系统信息\n  getSystemInfo: '/system/info',\n  // 更新用户\n  updateUser: '/user/update',\n  // 获取用户配置\n  getUserConfig: '/userConfig',\n  // 提醒事项\n  reminder: '/reminder',\n  // 今日待办\n  todayTask: '/task',\n  // 资金流动类型\n  capitalFlowType: '/capitalFlowType',\n  // 资金流动\n  capitalFlow: '/capitalFlow',\n  // 获取资金流动金额\n  getCapitalFlowPrice: '/capitalFlow/price',\n  // 备忘录\n  memorandum: '/memorandum',\n  // 站内消息\n  innerMessage: '/innerMessage',\n  // 活动清单\n  todoList: '/todoList',\n  // 获取首页面板数据\n  getPanelData: '/panel'\n};\n\nexport default API;\n","import React from 'react';\nimport { Avatar as AvatarComponent } from 'antd';\nimport { AvatarProps } from 'antd/lib/avatar';\n\nfunction handleError() {\n  return true;\n}\n\nconst Avatar: React.FC<AvatarProps> = props => {\n  return (\n    <AvatarComponent {...props} onError={handleError} />\n  )\n};\n\nexport default Avatar;\n","module.exports = __webpack_public_path__ + \"static/media/no-data.ab7ce88c.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo.b5b8d91e.png\";","import { Modal, message } from 'antd';\n\n\nconst CODE = 'qwertyuipasdfghjklxcvbnm13456789';\n\n/**\n * 计算百分比\n * @example\n * totalPercentage(8589934592, 225492992);  // => 98\n */\nexport function totalPercentage(totalmem: number, freemem: number) {\n  return Math.floor((totalmem - freemem) / totalmem * 100);\n}\n\n/**\n * 删除模态对话框\n * @return Promise\n */\nexport function modalConfirmDelete(object = {}) {\n  return new Promise(resolve => {\n    Modal.confirm({\n      title: '确定要删除吗？',\n      okType: 'danger',\n      onOk() {\n        resolve(true);\n      },\n      ...object\n    });\n  });\n}\n\n\n// 全屏浏览器\nexport function fullscreen() {\n  try {\n    const docElm = document.documentElement as any;\n    if (docElm.requestFullscreen) {  \n      docElm.requestFullscreen();  \n    } else if (docElm.webkitRequestFullScreen) {  \n      docElm.webkitRequestFullScreen();  \n    } else if (docElm.mozRequestFullScreen) {  \n      docElm.mozRequestFullScreen();  \n    } else if (docElm.msRequestFullscreen) {\n      docElm.msRequestFullscreen();\n    }\n  } catch {\n    message.warn('您所使用的浏览器不支持全屏');\n  }\n}\n\n// 退出全屏浏览器\nexport function exitFullscreen() {\n  try {\n    const doc = document as any;\n    if (doc.exitFullscreen) {  \n      doc.exitFullscreen();  \n    } else if (doc.mozCancelFullScreen) {  \n      doc.mozCancelFullScreen();  \n    } else if (doc.webkitCancelFullScreen) {  \n      doc.webkitCancelFullScreen();  \n    } else if (doc.msExitFullscreen) {\n      doc.msExitFullscreen();\n    }\n  } catch {\n    message.warn('您所使用的浏览器不支持退出全屏, 请按ESC');\n  }\n}\n\n// 随机字符串\nexport function randomCode(num = 4) {\n  let data = '';\n  \n  for (let i = 0; i < num; i++) {\n    const random = Math.floor(Math.random() * CODE.length);\n    data += CODE[random];\n  }\n\n  return data;\n}\n","import moment from 'moment';\n\ntype ns = number | string;\n\nexport const ONE_DAY_TIMESTAMP = 60 * 60 * 24 * 1000 - 1;\n\n// 获取当前月份总天数\nexport function getCurMonthTotalDay(): number {\n  return moment().daysInMonth();\n}\n\n// 获取当前月份的第一天日期\nexport function getCurMonthFirstDay(format: 'timestamp'): number;\nexport function getCurMonthFirstDay(format: string): string;\nexport function getCurMonthFirstDay(format: string = 'timestamp'): ns {\n  const cur = new Date();\n  cur.setDate(1);\n  cur.setHours(0, 0, 0);\n  return format === 'timestamp' ? cur.getTime() : moment(cur).format(format);\n}\n\n// 获取当前月份的最后一天日期\nexport function getCurMonthLastDay(format: 'timestamp'): number;\nexport function getCurMonthLastDay(format: string): string;\nexport function getCurMonthLastDay(format: string = 'timestamp'): ns {\n  const cur = new Date();\n  cur.setDate(getCurMonthTotalDay());\n  cur.setHours(23, 59, 59);\n  return format === 'timestamp' ? cur.getTime() : moment(cur).format(format);\n}\n\n// 判断传入时间戳是否小于今天时间戳\nexport function isLtTodayTimestamp (current: moment.Moment | null): boolean {\n  const todayTimestamp = new Date().setHours(0, 0, 0, 0);\n  if (current && current?.valueOf() > todayTimestamp) {\n    return false;\n  }\n  return true;\n}\n\n// 获取今天日期开始时间戳， 如：2019-07-05 00:00:00\nexport function getTodayStartTimestamp() {\n  return new Date().setHours(0, 0, 0, 0);\n}\n\n// 获取今天日期开始时间戳， 如：2019-07-05 23:59:59\nexport function getTodayEndTimestamp() {\n  return new Date().setHours(23, 59, 59);\n}\n\n// 根据日期获取开始时间戳\nexport function getStartTimestampByDate(date: any = Date.now()) {\n  return new Date(date).setHours(0, 0, 0, 0);\n}\n\n// 根据日期获取结束时间戳\nexport function getEndTimestampByDate(date: any = Date.now()) {\n  return new Date(date).setHours(23, 59, 59);\n}\n\n// 获取今天日期开始时间戳和结束时间戳\nexport function getTodayStartAndEndTimestamp(): [number, number] {\n  return [getTodayStartTimestamp(), getTodayEndTimestamp()];\n}\n\n// 判断是否是今天\nexport function isToday(date: any) {\n  try {\n    const parse = +new Date(date);\n    if (getTodayStartTimestamp() < parse && getTodayEndTimestamp() > parse) {\n      return true;\n    }\n  } catch {\n    return false;\n  }\n}\n\n// 获取今年第一天\nexport function getThisYearFirstDay() {\n  const now = new Date();\n  now.setMonth(0, 1);\n  now.setHours(0, 0, 0, 0);\n\n  return moment(now.getTime());\n}\n\n// 获取今年最后一天\nexport function getThisYearLastDay() {\n  return moment().endOf('year');\n}\n","\nconst spinHTML = '<div class=\"ant-spin ant-spin-spinning\"><span class=\"ant-spin-dot ant-spin-dot-spin\"><i class=\"ant-spin-dot-item\"></i><i class=\"ant-spin-dot-item\"></i><i class=\"ant-spin-dot-item\"></i><i class=\"ant-spin-dot-item\"></i></span></div>';\nlet containerEl: HTMLElement;\n\nfunction start() {\n  try {\n    if (document.querySelector('.spin-loading')) {\n      return;\n    }\n\n    containerEl = containerEl || document.getElementById('container') as HTMLElement;\n    const spinEl = document.createElement('div');\n    spinEl.className = 'spin-loading';\n    spinEl.innerHTML = spinHTML;\n    containerEl.appendChild(spinEl);\n  } catch {}\n}\n\nfunction done() {\n  try {\n    const spin = document.querySelector('.spin-loading') as any;\n    if (!spin) return;\n    spin.parentNode.removeChild(spin);\n  } catch {}\n}\n\nexport const spin = { start, done };\n","/**\n * @file Global config file\n * @since 1.0.0\n * @author xiejiahe <xjh22222228@gmail.com>\n */\n\nconst isProduction = process.env.NODE_ENV === 'production';\nconst isDevelopment = !isProduction;\n\nconst CONFIG = {\n  isProduction,\n  isDevelopment,\n  // 路由 basename\n  baseURL: '/',\n  // 网页标题\n  title: 'Tomato Work',\n  http: {\n    baseURL: '/api'\n  },\n  github: {\n    clientId: isProduction ? '789d87c19dd5ed1dc42e' : '489b39e1f91d934128c8',\n    // callbackURL 不可随意更改, 否则需要与服务端配置文件一同修改\n    callbackURL: `${window.location.origin}/api/passport/github/callback`,\n    repositoryUrl: 'https://github.com/xjh22222228/tomato-work',\n    bug: 'https://github.com/xjh22222228/tomato-work/issues'\n  }\n};\n\nexport default CONFIG;\n","\nexport const LOCAL_STORAGE = {\n  USER: 'USER',\n  SIDEBAR_COLLAPSED: 'SIDEBAR_COLLAPSED',\n  LOGIN_NAME: 'LOGIN_NAME',\n  LOCK_SCREEN: 'LOCK_SCREEN'\n};\n","import React from 'react';\nimport { HOME, SETTING } from '@/router/constants';\nimport {\n  HomeOutlined,\n  ClockCircleOutlined,\n  FileDoneOutlined,\n  ScheduleOutlined,\n  BarChartOutlined,\n  FormOutlined,\n  UserOutlined\n} from '@ant-design/icons';\n\nexport const HOME_SIDER_MENU_LIST = [\n  {\n    path: HOME.HOME_INDEX.path,\n    icon: <HomeOutlined />,\n    name: HOME.HOME_INDEX.name\n  },\n  {\n    path: HOME.REMINDER.path,\n    icon: <ClockCircleOutlined />,\n    name: HOME.REMINDER.name\n  },\n  {\n    path: HOME.TODO_LIST.path,\n    icon: <FileDoneOutlined />,\n    name: HOME.TODO_LIST.name,\n  },\n  {\n    path: HOME.TODAY_TASK.path,\n    icon: <ScheduleOutlined />,\n    name: HOME.TODAY_TASK.name\n  },\n  {\n    path: '',\n    icon: <BarChartOutlined />,\n    name: '财务管理',\n    children: [\n      {\n        path: HOME.CAPITAL_FLOW.path,\n        name: HOME.CAPITAL_FLOW.name,\n      },\n      {\n        path: HOME.CAPITAL_FLOW_TYPE.path,\n        name: HOME.CAPITAL_FLOW_TYPE.name,\n      }\n    ]\n  },\n  {\n    path: HOME.MEMORANDUM.path,\n    icon: <FormOutlined />,\n    name: '我的备忘',\n    children: [\n      {\n        path: HOME.MEMORANDUM.path,\n        name: HOME.MEMORANDUM.name,\n      },\n      {\n        path: HOME.MEMORANDUM_CREATE.path[0],\n        name: HOME.MEMORANDUM_CREATE.name,\n      }\n    ]\n  },\n  {\n    path: SETTING.BASE.path,\n    icon: <UserOutlined />,\n    name: SETTING.BASE.name\n  }\n];\n\nexport const SETTING_SIDER_MENU_LIST = [\n  {\n    path: SETTING.BASE.path,\n    name: SETTING.BASE.name\n  },\n  {\n    path: SETTING.INNER_MESSAGE.path,\n    name: SETTING.INNER_MESSAGE.name\n  },\n  {\n    path: SETTING.NOTIFICATION.path,\n    name: SETTING.NOTIFICATION.name\n  },\n  {\n    path: SETTING.ACCOUNT.path,\n    name: SETTING.ACCOUNT.name\n  },\n];\n","// 路由常量配置信息\n\nexport const SETTING = {\n  BASE: { name: '个人中心', path: '/home/setting/base' },\n\n  INNER_MESSAGE: { name: '消息中心', path: '/home/setting/innerMessage' },\n\n  NOTIFICATION: { name: '消息通知', path: '/home/setting/notification' },\n  \n  ACCOUNT: { name: '账号设置', path: '/home/setting/account' },\n};\n\nexport const HOME = {\n  LOGIN: { name: '登录', path: ['/', '/login'] },\n\n  HOME: { name: '', path: '/home' },\n\n  HOME_INDEX: { name: '后台首页', path: '/home/index' },\n\n  REMINDER: { name: '提醒事项', path: '/home/reminder' },\n\n  SETTING_INDEX: { name: '个人中心', path: '/home/setting' },\n\n  TODAY_TASK: { name: '今日待办', path: '/home/todayTask' },\n\n  MEMORANDUM: { name: '备忘录列表', path: '/home/memorandum' },\n  MEMORANDUM_CREATE: { name: '备忘录创建', path: [\n    '/home/memorandum/create', '/home/memorandum/update/:id'\n  ] },\n  MEMORANDUM_DETAIL: { name: '*', path: '/home/memorandum/detail/:id' },\n\n  CAPITAL_FLOW: { name: '资金流动', path: '/home/capitalFlow' },\n  CAPITAL_FLOW_TYPE: { name: '创建类别', path: '/home/capitalFlow/type' },\n\n  TODO_LIST: { name: '活动清单', path: '/home/todoList' },\n\n  NO_MATCH: { name: '404 Not Found', path: '*' },\n};\n","import React from 'react';\nimport CONFIG from '@/config';\nimport qs from 'query-string';\nimport { Switch, Route, Redirect, withRouter, RouteComponentProps } from 'react-router-dom';\nimport { IRouteProps } from '@/router/types';\nimport { connect } from 'react-redux';\nimport { StoreState } from '@/store/index';\nimport { HOME } from '@/router/constants';\n\ntype Props = IRouteProps & ReturnType<typeof mapStateToProps> & RouteComponentProps;\n\nconst PrivateRoute: React.FC<Props> = function ({\n  component: Component,\n  childrenRoutes,\n  isLogin,\n  location,\n  ...rest\n}) {\n\n  // 取消不是当前页面的所有http请求\n  if (Array.isArray(window.axiosCancelTokenStore)) {\n    window.axiosCancelTokenStore.forEach(store => {\n      if (store.pathname !== location.pathname) {\n        store.cancel();\n      }\n    });\n    window.axiosCancelTokenStore = [];\n  }\n\n  const { meta } = rest;\n  if (meta) {\n    if (meta.title) {\n      document.title = `${meta.title} - ${CONFIG.title}`;\n    } else {\n      document.title = CONFIG.title;\n    }\n  }\n  \n  // 验证权限\n  const auth = function () {\n    if (meta?.requiresAuth) {\n      if (isLogin) {\n        return true;\n      }\n      return false;\n    }\n    return true;\n  }();\n  \n  if (meta?.isLoginToHome && isLogin)  {\n    const redirectUrl = qs.parse(location.search).redirectUrl as string;\n    const url = redirectUrl || HOME.HOME_INDEX.path;\n    return <Redirect to={url} />\n  }\n\n  return (\n    <Route render={props => {\n      return (\n        auth ? (\n          <Component {...props} {...rest}>\n            {Array.isArray(childrenRoutes) ? (\n              <Switch>\n                {childrenRoutes.map((route, idx: number) => (\n                  <PrivateRouteComponent {...route} key={idx} />\n                ))}\n              </Switch>\n            ) : null}\n          </Component>\n        ) : (\n          <Redirect to={{\n            pathname: '/',\n            search: `?redirectUrl=${props.location.pathname}`\n          }} />\n        )\n      )\n    }} />\n  )\n};\n\nconst mapStateToProps = (state: StoreState) => {\n  return {\n    isLogin: state.user.isLogin\n  }\n};\n\nexport const PrivateRouteComponent = connect(mapStateToProps)(withRouter(PrivateRoute));\n\nexport default PrivateRouteComponent;\n","import React from 'react';\nimport './style.scss';\nimport CONFIG from '@/config';\n\nconst currentYear = new Date().getFullYear();\n\nconst Footer = () => {\n  return (\n    <footer className=\"global-footer\">\n      <div>\n        Copyright &copy; 2019-{currentYear} {CONFIG.title} - \n        <a href=\"https://github.com/xjh22222228\" target=\"_blank\" rel=\"noopener noreferrer\"> xiejiahe</a>\n      </div>\n    </footer>\n  )\n};\n\nexport default React.memo(Footer);\n","import React, {\n  useState,\n  useEffect,\n} from 'react';\nimport './style.scss';\nimport Footer from '@/components/footer';\nimport qs from 'query-string';\nimport md5 from 'blueimp-md5';\nimport _ from 'lodash';\nimport api from '@/api';\nimport config from '@/config';\nimport { Button, Input, message, Popover } from 'antd';\nimport { useFormInput } from '@/hooks';\nimport { RouteComponentProps } from 'react-router-dom';\nimport { DispatchProp, connect } from 'react-redux';\nimport { ThunkDispatch } from 'redux-thunk';\nimport { AnyAction } from 'redux';\nimport { githubAuthz, loginByToken, setUser } from '@/store/actions';\nimport { serviceLogin } from '@/services';\nimport { HOME } from '@/router/constants';\nimport { LOCAL_STORAGE } from '@/constants';\nimport { randomCode } from '@/utils';\nimport {\n  PictureOutlined,\n  LockOutlined,\n  UserOutlined,\n  GithubOutlined\n} from '@ant-design/icons';\n\n\ntype ThunkDispatchProps = ThunkDispatch<{}, {}, AnyAction>;\ntype LoginProps = {\n  dispatch: ThunkDispatchProps;\n} & DispatchProp & RouteComponentProps;\n\nconst PopoverContent = (\n  <div style={{ padding: '10px 20px 10px 20px' }}>\n    <div>本站不开放注册账号，首次登陆请使用GitHub</div>\n    <div>登陆后系统将自动注册账号, 密码为123456</div>\n  </div>\n);\n\nlet captcha = randomCode();\nconst LOGIN_NAME = window.localStorage.getItem(LOCAL_STORAGE.LOGIN_NAME) || '';\n\n\nfunction reloadCaptcha(e: any) {\n  captcha = randomCode();\n  const url = api.getCaptcha + captcha;\n  e.target.src = url;\n}\n\nconst Login: React.FC<LoginProps> = function ({\n  dispatch,\n  history,\n  location\n}) {\n  const loginName = useFormInput(config.isDevelopment ? 'test' : LOGIN_NAME);\n  const password = useFormInput(config.isDevelopment ? '123456' : '');\n  const code = useFormInput('');\n  const [loading, setLoading] = useState(false);\n  const [redirectUrl] = useState(() => {\n    const url = qs.parse(location.search).redirectUrl as string;\n    return url || HOME.HOME_INDEX.path;\n  });\n\n  const handleSubmit = () => {\n    const _loginName = loginName.value.trim();\n    const _password = password.value.trim();\n    const _code = code.value.trim();\n\n    try {\n      if (!_loginName) throw new Error('用户名不能为空');\n      if (!_password) throw new Error('密码不能为空');\n      if (_code !== captcha) throw new Error('验证码错误');\n\n      setLoading(true);\n      serviceLogin({\n        loginName: _loginName,\n        password: md5(_password),\n        code: _code\n      })\n        .then(res => {\n          setLoading(false);\n          if (res.data.success) {\n            dispatch(setUser(res.data.data.userInfo));\n            history.replace(redirectUrl);\n          }\n        })\n        .catch(_ => {\n          setLoading(false);\n        });\n    } catch (err) {\n      message.warn(err.message);\n      return;\n    }\n  };\n\n  const githubHandler = () => {\n    setLoading(true);\n    githubAuthz();\n  };\n\n  useEffect(() => {\n    const query = qs.parse(location.search);\n    const { token, state } = query;\n\n    if (Number(state) === 0) {\n      message.error('登录失败，请重新登录');\n      return;\n    }\n\n    if (token) {\n      dispatch(loginByToken(token as string))\n      .then((res) => {\n        if (!_.isEmpty(res.userInfo)) {\n          history.replace(redirectUrl);\n        }\n      });\n    }\n  }, [history, location.search, dispatch, redirectUrl]);\n\n  return (\n    <section className=\"login-page\">\n      <a href={config.github.repositoryUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n        <svg width=\"56\" height=\"56\" viewBox=\"0 0 250 250\" className=\"svg-wrapper\" aria-hidden=\"true\"><path d=\"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z\"></path><path d=\"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2\" fill=\"currentColor\" className=\"octo-arm\"></path><path d=\"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z\" fill=\"currentColor\"></path></svg>\n      </a>\n      \n      <div className=\"wrap\">\n        <div>\n          <div className=\"logo-wrap\">\n            <img src={require('@/assets/img/common/logo.png')} className=\"logo\" alt=\"\" />\n            <em>{config.title}</em>\n          </div>\n          <Input.Group>\n            <Input\n              {...loginName} \n              placeholder=\"用户名\"\n              prefix={<UserOutlined />} \n              maxLength={32} \n              autoComplete=\"off\" \n              onPressEnter={handleSubmit} \n            />\n            <Input\n              {...password}\n              placeholder=\"密码\"\n              prefix={<LockOutlined />} \n              maxLength={32} \n              type=\"password\" \n              autoComplete=\"off\"\n              onPressEnter={handleSubmit}\n            />\n            <Input\n              {...code}\n              placeholder=\"请输入验证码\"\n              prefix={<PictureOutlined />} \n              maxLength={4} \n              autoComplete=\"off\" \n              onPressEnter={handleSubmit} \n              suffix={\n                <img \n                  src={`${api.getCaptcha}${captcha}`} \n                  className=\"captcha\" \n                  onClick={reloadCaptcha}\n                  alt=\"\"\n                />\n              }\n            />\n          </Input.Group>\n          <Button \n            type=\"primary\" \n            style={{ marginTop: '20px' }} \n            size=\"large\" \n            loading={loading} \n            block \n            onClick={handleSubmit}\n          >\n            {loading ? '登 录 中...' : '登 录'}\n          </Button>\n          <div className=\"register\">\n            <Popover \n              content={PopoverContent} \n              trigger=\"hover\" \n              placement=\"bottomRight\"\n            >\n              <span>注册账号</span>\n            </Popover>\n          </div>\n          <Button \n            style={{ marginTop: '20px' }} \n            size=\"large\" \n            loading={loading} \n            block \n            icon={<GithubOutlined />}\n            onClick={githubHandler}\n          >\n            使用 Github 登录\n          </Button>\n        </div>\n      </div>\n      <Footer />\n    </section>\n  )\n};\n\nexport default connect()(Login);\n","import React, { useCallback, useEffect, useMemo } from 'react';\nimport './style.scss';\nimport bytes from 'bytes';\nimport moment from 'moment';\nimport CONFIG from '@/config';\nimport useKeepState from 'use-keep-state';\nimport { Row, Col, Card, Progress } from 'antd';\nimport { totalPercentage } from '@/utils';\nimport { serviceGetInnerMessage } from '@/services';\n\ninterface Props {\n  systemInfo: {\n    [propName: string]: any;\n  }\n}\n\ninterface State {\n  curSystemTime: string;\n  messageList: any[];\n  loading: boolean;\n}\n\nconst initialState: State = {\n  curSystemTime: '',\n  messageList: [],\n  loading: true\n};\n\nconst statusColor = (percentage: number) => {\n  if (percentage < 40) return '#52c41a';\n  if (percentage < 80) return '#ffa500';\n  return '#f50';\n};\nlet timer: any;\n\nconst System: React.FC<Props> = ({ systemInfo }) => {\n  const [state, setState] = useKeepState(initialState);\n  const memPercentage = useMemo(() => {\n    return totalPercentage(systemInfo.totalmem, systemInfo.freemem);\n  }, [systemInfo.totalmem, systemInfo.freemem]);\n\n  // 倒计时\n  const countdown = useCallback(() => {\n    clearTimeout(timer);\n    const timeDiff = systemInfo.currentSystemTime + (Date.now() - systemInfo.currentSystemTime);\n    setState({ curSystemTime: moment(timeDiff).format('YYYY-MM-DD HH:mm:ss') });\n    timer = setTimeout(() => {\n      countdown();\n    }, 1000);\n  }, [systemInfo.currentSystemTime, setState]);\n\n  useEffect(() => {\n    countdown();\n\n    return () => {\n      clearTimeout(timer);\n    }\n  }, [countdown]);\n\n  useEffect(() => {\n    serviceGetInnerMessage({ pageSize: 5 })\n    .then(res => {\n      if (res.data.success) {\n        setState({ loading: false, messageList: res.data.data.rows });\n      }\n    });\n  }, [setState]);\n\n  return (\n    <Row gutter={{ xs: 8, sm: 16, md: 24}} className=\"system-data\">\n      <Col xl={8} lg={12} md={12} sm={24} xs={24}>\n        <Card\n          title=\"系统参数\"\n          hoverable\n          loading={!systemInfo.nodeVersion}\n        >\n          <p className=\"item-text\">\n            <em>系统类型：</em>\n            {systemInfo.platform}{systemInfo.arch}\n          </p>\n          <p className=\"item-text\">\n            <em>Node版本：</em>\n            {systemInfo.nodeVersion}\n          </p>\n          <p className=\"item-text\">\n            <em>MySQL版本：</em>\n            {systemInfo.mysqlVersion}\n          </p>\n          <p className=\"item-text\">\n            <em>当前环境：</em>\n            {CONFIG.isProduction ? '生产环境' : '开发环境'}\n          </p>\n          <p className=\"item-text\">\n            <em>系统时间：</em>\n            {state.curSystemTime}\n          </p>\n        </Card>\n      </Col>\n      <Col xl={8} lg={12} md={12} sm={24} xs={24}>\n        <Card\n          title=\"我的消息\" \n          hoverable \n          loading={state.loading}\n        >\n        {state.messageList.map((msg: any) => (\n          <p className=\"item-text\" key={msg.id}>\n            <em>{msg.content}</em>\n          </p>\n        ))}\n        </Card>\n      </Col>\n      <Col xl={8} lg={12} md={12} sm={24} xs={24}>\n        <Card\n          title={`内存使用率(${bytes(systemInfo.totalmem)})`} \n          hoverable \n          className=\"mem\"\n        >\n          <Progress \n            type=\"circle\" \n            percent={memPercentage} \n            strokeColor={statusColor(memPercentage)} \n            format={percent => percent + '%'}\n          />\n          <div className=\"surplus\">剩余{bytes(systemInfo.freemem)}</div>\n        </Card>\n      </Col>\n    </Row>\n  )\n};\n\nexport default React.memo(System);\n","// https://ui.toast.com/tui-editor/\nimport React, { useState, useEffect, useCallback } from 'react';\nimport './style.scss';\nimport Editor from 'tui-editor';\nimport { Input, Button, message } from 'antd';\nimport { RouteComponentProps, match } from 'react-router-dom';\nimport { HOME } from '@/router/constants';\nimport { defaultTitle } from '../constants';\nimport {\n  serviceCreateMemorandum,\n  serviceGetMemorandumById,\n  serviceUpdateMemorandum\n} from '@/services';\n\ninterface Props {\n  computedMatch: match<any>\n}\n\nlet editor: Editor;\n\nconst Create: React.FC<Props & RouteComponentProps> = ({ history, computedMatch }) => {\n  const [title, setTitle] = useState(defaultTitle);\n  const [loading, setLoading] = useState(false);\n\n  const handleActionButton = useCallback((buttonType: 0 | 1) => {\n    if (buttonType === 0) {\n      history.replace(HOME.MEMORANDUM.path);\n      return;\n    }\n\n    const id = computedMatch.params.id;\n\n    if (loading) return;\n    \n    // 创建或更新\n    const params = {\n      markdown: editor.getValue(),\n      title\n    };\n    if (!params.markdown) {\n      message.warn('实体内容不能为空');\n      return;\n    }\n\n    setLoading(true);\n\n    (id ? serviceUpdateMemorandum(id, params) : serviceCreateMemorandum(params))\n    .then(res => {\n      if (res.data.success) {\n        history.replace(HOME.MEMORANDUM.path);\n      }\n    });\n  }, [history, title, loading, computedMatch]);\n\n  const init = useCallback(() => {\n    const id = computedMatch.params.id;\n\n    editor = new Editor({\n      el: document.querySelector('#edit-section') as HTMLElement,\n      initialEditType: 'markdown',\n      previewStyle: 'vertical',\n      usageStatistics: false\n    });\n\n    if (id) {\n      serviceGetMemorandumById(id)\n      .then(res => {\n        if (res.data.success) {\n          setTitle(res.data.data.title);\n          editor.setValue(res.data.data.markdown);\n        }\n      });\n    }\n  }, [computedMatch]);\n\n  useEffect(() => {\n    init();\n    \n    return () => {\n      // 销毁实例\n      editor?.remove();\n    };\n  }, [init]);\n\n  return (\n    <div className=\"editor-page\">\n      <Input \n        className=\"input-title\"\n        placeholder={defaultTitle} \n        maxLength={50} \n        size=\"large\" \n        value={title} \n        onChange={e => setTitle(e.target.value)}\n        onBlur={() => (!title && setTitle(defaultTitle))}\n      />\n      <div id=\"edit-section\"></div>\n      <div className=\"button-group\">\n        <Button onClick={handleActionButton.bind(null, 0)}>取消</Button>\n        <Button \n          type=\"primary\" \n          onClick={handleActionButton.bind(null, 1)} \n          loading={loading}\n        >\n          提交\n        </Button>\n      </div>\n    </div>\n  )\n};\n\nexport default Create;\n","\nexport enum TypeNames {\n  收入 = 1,\n  支出 = 2\n};\n\nexport enum TypeColors {\n  '#108ee9' = 1,\n  '#f50' = 2\n};\n\nexport const TYPES = [\n  { name: '收入', value: 1, symbol: '+', color: '#666' },\n  { name: '支出', value: 2, symbol: '-', color: '#f50' }\n];\n\nexport const OPTION_TYPES = [\n  { name: '全部', value: '' },\n  ...TYPES\n];\n","import React from 'react';\nimport './style.scss';\nimport { Result, Button } from 'antd';\nimport { withRouter, RouteComponentProps } from 'react-router-dom';\nimport { ExceptionStatusType } from 'antd/lib/result'\n\ninterface Props {\n  status?: ExceptionStatusType\n}\n\nconst statusMap = {\n  403: {\n    title: '403',\n    subTitle: 'Sorry, you are not authorized to access this page.',\n  },\n  404: {\n    title: '404',\n    subTitle: 'Sorry, the page you visited does not exist.',\n  },\n  500: {\n    title: '500',\n    subTitle: 'Sorry, the server is wrong.',\n  }\n};\n\nconst NoMatch: React.FC<Props & RouteComponentProps> = function ({ history, status = '404' }) {\n  return (\n    <Result \n      status={status} \n      extra={<Button type=\"primary\" onClick={history.goBack}>Back</Button>} \n      {...statusMap[status]}\n    />\n  );\n};\n\nexport default withRouter(NoMatch);\n","import React from 'react';\nimport './style.scss';\nimport Exception from '@/components/exception';\n\nconst NoMatch = () => <div className=\"exception-wrapper\"><Exception /></div>\n\nexport default NoMatch;\n","import React, { useEffect, useState } from 'react';\nimport './style.scss';\nimport config from '@/config';\nimport { Layout, Menu } from 'antd';\nimport { withRouter, RouteComponentProps, Link } from 'react-router-dom';\nimport { HomeMainState } from '@/views/home/main-entry/index';\nimport { HOME_SIDER_MENU_LIST } from '@/constants';\n\nconst { Sider } = Layout;\nconst { SubMenu } = Menu;\n\ntype Props = HomeMainState & RouteComponentProps;\n\nconst Sidebar: React.FC<Props> = function ({ location, collapsed }) {\n  const [selectedKeys, setSelectedKeys] = useState('');\n  const [openKeys, setOpenKeys] = useState<string[]>([]);\n\n  function handleOpenChange(openKeys: any) {\n    setOpenKeys(openKeys);\n  }\n\n  useEffect(() => {\n    const pathname = location.pathname;\n    const fragment = pathname.split('/').slice(0, 3);\n    const prefixPath = fragment.join('/');\n    if (fragment.length === 3) {\n      for (let i = 0; i < HOME_SIDER_MENU_LIST.length; i++) {\n        const menu = HOME_SIDER_MENU_LIST[i];\n        if (Array.isArray(menu.children)) {\n          const findIdx = menu.children.findIndex(menu => pathname === menu.path);\n          if (findIdx !== -1) {\n            setSelectedKeys(menu.children[findIdx].path);\n            setOpenKeys([menu.name]);\n            break;\n          }\n        }\n        if (menu.path.indexOf(prefixPath) !== -1) {\n          setSelectedKeys(menu.path);\n          break;\n        }\n      }\n    }\n  }, [location.pathname]);\n\n  return (\n    <Sider \n      trigger={null}\n      collapsible\n      collapsed={collapsed} \n      width={190} \n      className=\"sidebar\"\n    >\n      <div className=\"sider-menu-logo\">{config.title}</div>\n      <Menu \n        selectedKeys={[selectedKeys]}\n        openKeys={openKeys}\n        onOpenChange={handleOpenChange}\n        mode=\"inline\"\n        theme=\"dark\" \n      >\n        {HOME_SIDER_MENU_LIST.map(menu => {\n          if (Array.isArray(menu.children)) {\n            return (\n              <SubMenu\n                key={menu.name}\n                title={\n                  <>\n                    {menu.icon}\n                    <span>{menu.name}</span>\n                  </>\n                }\n              >\n                {menu.children.map(subItem => (\n                  <Menu.Item key={subItem.path}>\n                    <Link to={subItem.path}>{subItem.name}</Link>\n                  </Menu.Item>\n                ))}\n              </SubMenu>\n            )\n          }\n\n          return (\n            <Menu.Item key={menu.path}>\n              <Link to={menu.path}>\n                {menu.icon}\n                <span>{menu.name}</span>\n              </Link>\n            </Menu.Item>\n          )\n        })}\n      </Menu>\n    </Sider>\n  )\n};\n\nexport default withRouter(Sidebar);\n","import React, { useEffect, useState, useMemo } from 'react';\nimport './style.scss';\nimport Avatar from '@/components/avatar';\nimport moment from 'moment';\nimport config from '@/config';\nimport { Layout, Badge, Popover } from 'antd';\nimport { withRouter, RouteComponentProps, Link } from 'react-router-dom';\nimport { HomeMainState } from '@/views/home/main-entry/index';\nimport { connect } from 'react-redux';\nimport { StoreState } from '@/store';\nimport { logout } from '@/store/actions/user';\nimport { SETTING } from '@/router/constants';\nimport { serviceGetInnerMessage } from '@/services';\nimport { fullscreen, exitFullscreen } from '@/utils';\nimport {\n  PoweroffOutlined,\n  MenuUnfoldOutlined,\n  MenuFoldOutlined,\n  BellFilled,\n  BugFilled,\n  GithubOutlined,\n  FullscreenExitOutlined,\n  FullscreenOutlined\n} from '@ant-design/icons'\n\nconst { Header } = Layout;\nconst popoverList = [\n  { name: SETTING.BASE.name, path: SETTING.BASE.path },\n  { name: SETTING.NOTIFICATION.name, path: SETTING.NOTIFICATION.path },\n  { name: SETTING.ACCOUNT.name, path: SETTING.ACCOUNT.path }\n];\n\ntype Props = ReturnType<typeof mapStateToProps> & HomeMainState & RouteComponentProps;\n\nconst PopoverContent = (\n  <div className=\"popover-content\">\n  {popoverList.map(el => (\n    <Link to={el.path} key={el.name} className=\"ls\">{el.name}</Link>\n  ))}\n    <div className=\"ls sign-out\" onClick={() => logout()}>\n      <PoweroffOutlined style={{ fontSize: '14px', marginRight: '5px' }} />\n      退出\n    </div>\n  </div>\n);\n\nconst HomeHeader: React.FC<Props> = function ({\n  collapsed,\n  setCollapsed,\n  userInfo\n}) {\n  const [messageList, setMessageList] = useState([]);\n  const [unReadCount, setUnReadCount] = useState(0);\n  const [isFullscreen, setIsFullscreen] = useState(false);\n\n  useEffect(() => {\n    serviceGetInnerMessage({ pageSize: 5 })\n    .then(res => {\n      if (res.data.success) {\n        let count = 0;\n        const data = res.data.data.rows.map((item: any) => {\n          item.createdAt = moment(item.createdAt).format('YYYY-MM-DD HH:mm');\n          if (!item.hasRead) {\n            count++;\n          }\n          return item;\n        });\n        setUnReadCount(count);\n        setMessageList(data);\n      }\n    });\n  }, []);\n\n  const MessageContent = useMemo(() => (\n    <div className=\"message-popover\">\n      <div className=\"msg-header item-block\">\n        <span className=\"left\">站内消息通知</span>\n        <Link className=\"right\" to={SETTING.NOTIFICATION.path}>消息接收管理</Link>\n      </div>\n      {messageList.map((item: any) => (\n        <div className=\"item-block ls\" key={item.id}>\n          <div className=\"content\">{item.content}</div>\n          <div className=\"date\">{item.createdAt}</div>\n        </div>\n      ))}\n      <Link className=\"item-block ls\" to={SETTING.INNER_MESSAGE.path}>查看更多</Link>\n    </div>\n  ), [messageList]);\n\n  function handleFullscreen() {\n    setIsFullscreen(isFullscreen => {\n      isFullscreen ? exitFullscreen() : fullscreen();\n      return !isFullscreen;\n    });\n  }\n\n  return (\n    <Header>\n      <div className=\"left\">\n        {collapsed ? (\n          <MenuUnfoldOutlined\n            onClick={setCollapsed}\n            style={{ cursor: 'pointer', fontSize: '20px' }}\n          />\n        ) : (\n          <MenuFoldOutlined\n            onClick={setCollapsed}\n            style={{ cursor: 'pointer', fontSize: '20px' }}\n          />\n        )}\n      </div>\n      <ul className=\"right\">\n        <Popover content={MessageContent}>\n          <li>\n            <Badge dot={unReadCount > 0}>\n              <BellFilled />\n            </Badge>\n          </li>\n        </Popover>\n        <li onClick={handleFullscreen}>\n          {isFullscreen ? <FullscreenOutlined /> : <FullscreenExitOutlined />}\n        </li>\n        <li>\n          <a href={config.github.bug} target=\"_blank\" rel=\"noopener noreferrer\">\n            <BugFilled />\n          </a>\n        </li>\n        <li>\n          <a href={config.github.repositoryUrl} target=\"_blank\" rel=\"noopener noreferrer\">\n            <GithubOutlined />\n          </a>\n        </li>\n        <Popover \n          placement=\"bottomRight\" \n          content={PopoverContent} \n        >\n        <li>\n          <Avatar src={userInfo.avatarUrl} />\n          <span className=\"username\">{userInfo.username}</span>\n        </li>\n        </Popover>\n      </ul>\n    </Header>\n  )\n};\n\nconst mapStateToProps = ({ user }: StoreState) => {\n  return { userInfo: user.userInfo }\n};\n\nexport default connect(mapStateToProps)(withRouter(HomeHeader));\n","import React, { useState } from 'react';\nimport './style.scss';\nimport Sidebar from '@/components/sidebar';\nimport Header from '@/components/header';\nimport { Layout } from 'antd';\nimport { connect } from 'react-redux';\nimport { StoreState } from '@/store';\nimport { LOCAL_STORAGE } from '@/constants';\n\nconst { Content } = Layout;\nconst { SIDEBAR_COLLAPSED } = LOCAL_STORAGE;\n\nexport interface HomeMainState {\n  collapsed?: boolean;\n  setCollapsed?: () => void;\n}\n\nconst storageCollapsed = Number(window.localStorage.getItem(SIDEBAR_COLLAPSED) || true);\n\nconst HomeMain: React.FC = function (props) {\n  const [collapsed, setCollapsed] = useState(!storageCollapsed);\n\n  function handleToggleCollapsed() {\n    setCollapsed(!collapsed);\n    window.localStorage.setItem(\n      SIDEBAR_COLLAPSED,\n      Number(collapsed) + ''\n    );\n  }\n\n  return (\n    <section className=\"home-main\">\n      <Layout>\n        <Sidebar {...{ collapsed }} />\n        <Layout className=\"home-layout\">\n          <Header {...{ collapsed, setCollapsed: handleToggleCollapsed }}  />\n          <Content id=\"container\">\n            {React.Children.map(props.children, child => child)}\n          </Content>\n        </Layout>\n      </Layout>\n    </section>\n  );\n};\n\nconst mapStateToProps = ({ user }: StoreState) => {\n  return { userInfo: user.userInfo };\n}\n\nexport default connect(mapStateToProps)(HomeMain);\n","import React, { useCallback, useEffect } from 'react';\nimport moment from 'moment';\nimport useKeepState from 'use-keep-state';\nimport { \n  Modal,\n  Form,\n  Input,\n  DatePicker,\n  message\n} from 'antd';\nimport { serviceCreateReminder, serviceUpdateReminder } from '@/services';\nimport { isLtTodayTimestamp } from '@/utils';\n\nconst { TextArea } = Input;\nconst dateFormat = 'YYYY-MM-DD HH:mm:ss';\nconst defaultDate = moment(new Date(), dateFormat);\n\ntype Props = {\n  visible: boolean;\n  onCancel: () => void;\n  onSuccess: (res?: any) => void;\n  rowData?: { [propName: string]: any; };\n};\n\ninterface State {\n  confirmLoading: boolean;\n  dateMode: 'time' | 'date' | 'month' | 'year' | 'decade';\n  date: moment.Moment;\n  content: string;\n}\n\nconst initialState: State = {\n  confirmLoading: false,\n  dateMode: 'date',\n  date: defaultDate,\n  content: ''\n};\n\nconst CreateReminder: React.FC<Props> = function ({ visible, onCancel, onSuccess, rowData }) {\n  const [state, setState] = useKeepState(initialState);\n\n  const initParams = useCallback(() => {\n    if (!rowData) {\n      setState({ content: '' });\n    } else {\n      setState({\n        date: moment(rowData.date, dateFormat),\n        content: rowData.content\n      });\n    }\n  }, [setState, rowData]);\n\n  const handleSubmit = useCallback((e: React.MouseEvent | React.FormEvent) => {\n    e.preventDefault();\n    const params = {\n      date: state.date.valueOf(),\n      content: state.content.trim()\n    };\n\n    try {\n      if (!params.content) throw new Error('内容不能为空');\n    } catch (err) {\n      message.warn(err.message);\n      return;\n    }\n\n    setState({ confirmLoading: true });\n\n    (\n      !rowData \n        ? serviceCreateReminder(params) \n        : serviceUpdateReminder(rowData.id, params)\n    )\n    .then(res => {\n      if (res.data.success) {\n        onSuccess(res);\n      }\n    })\n    .finally(() => {\n      setState({ confirmLoading: false });\n    });\n\n  }, [state, setState, onSuccess, rowData]);\n\n  useEffect(() => {\n    initParams();\n  }, [visible, initParams]);\n\n  return (\n    <Modal\n      title=\"新增\"\n      visible={visible}\n      onOk={handleSubmit}\n      onCancel={onCancel}\n      confirmLoading={state.confirmLoading}\n    >\n      <Form >\n        <Form.Item label=\"提醒时间\">\n          <DatePicker\n            mode={state.dateMode}\n            showTime\n            allowClear={false}\n            value={state.date}\n            onPanelChange={(value, dateMode) => setState({ dateMode })}\n            onChange={date => setState({ date }) }\n            disabledDate={isLtTodayTimestamp}\n            style={{ width: '100%' }}\n          />\n        </Form.Item>\n        <Form.Item label=\"提醒内容\">\n          <TextArea \n            rows={3} \n            value={state.content} \n            onChange={e => setState({ content: e.target.value })} \n            maxLength={200} \n            placeholder=\"请输入内容\"\n          />\n        </Form.Item>\n      </Form>\n    </Modal>\n  )\n};\n\nexport default React.memo(CreateReminder);\n","import React, { useState, useEffect, useCallback, useRef } from 'react';\nimport Table from '@/components/table';\nimport moment from 'moment';\nimport CreateReminder from './components/create-reminder';\nimport useKeepState from 'use-keep-state';\nimport { connect } from 'react-redux';\nimport { DatePicker, Button, Select, Tag, Modal } from 'antd';\nimport { serviceGetReminder, serviceDeleteReminder } from '@/services';\nimport {\n  getThisYearLastDay,\n  modalConfirmDelete,\n  getThisYearFirstDay\n} from '@/utils';\n\nconst { RangePicker } = DatePicker;\nconst Option = Select.Option;\nconst dateFormat = 'YYYY-MM-DD';\nconst STATUS_TYPE: any = {\n  1: { color: '#f50', text: '待提醒' },\n  2: { color: '#87d068', text: '已提醒' }\n};\n\ninterface State {\n  date: moment.Moment[];\n  queryType: string;\n  modalVisible: boolean;\n  currentRow: { [propName: string]: any } | null;\n}\n\ntype Props = ReturnType<typeof mapStateToProps>;\n\nconst initialState: State = {\n  date: [],\n  queryType: '',\n  modalVisible: false,\n  currentRow: null\n};\n\nconst Reminder: React.FC<Props> = function({ userInfo }) {\n  const [state, setState] = useKeepState(initialState);\n  const tableRef = useRef<any>({});\n  const [tableColumns] = useState([\n    { title: '状态', dataIndex: 'type', width: 100,\n      render: (row: any) => (\n        <Tag color={STATUS_TYPE[row].color}>{STATUS_TYPE[row].text}</Tag>\n      )\n    },\n    { title: '提醒时间', dataIndex: 'date', width: 220 },\n    { title: '提醒内容', dataIndex: 'content', className: 'word-break_break-all white-space_pre' },\n    { title: '操作', width: 180, align: 'right',\n      render: (row: any) => (\n        <>\n          <Button onClick={handleButton.bind(null, 0, row)}>编辑</Button>\n          <Button onClick={handleButton.bind(null, 1, row)}>删除</Button>\n        </>\n      )\n    }\n  ]);\n\n  const initParams = useCallback(() => {\n    const startDate = moment(getThisYearFirstDay(), dateFormat);\n    const endDate = moment(getThisYearLastDay(), dateFormat);\n    setState({\n      queryType: '',\n      date: [startDate, endDate]\n    });\n  }, [setState]);\n\n  // 获取事项数据\n  const getReminder = useCallback((params: any = {}) => {\n    params.startDate = state.date[0].valueOf();\n    params.endDate = state.date[1].valueOf();\n\n    if (state.queryType !== '') {\n      params.type = state.queryType;\n    }\n\n    return serviceGetReminder(params).then(res => {\n      if (res.data.success) {\n        res.data.data.rows = res.data.data.rows.map((el: any, idx: number) => {\n          el.order = idx + 1;\n          el.date = moment(el.date).format('YYYY-MM-DD HH:mm:ss');\n          return el;\n        });\n      }\n      return res;\n    });\n  }, [state.date, state.queryType]);\n\n  const handleButton = useCallback((type: number, rows: any) => {\n    // 编辑\n    if (type === 0) {\n      setState({ modalVisible: true, currentRow: rows });\n    } else {\n      modalConfirmDelete()\n      .then(() => {\n        serviceDeleteReminder(rows.id)\n        .then(res => {\n          if (res.data.success) {\n            tableRef.current.getTableData();\n          }\n        });\n      });\n    }\n  }, [setState]);\n\n  // modal成功新增回调函数\n  const handleModalOnSuccess = useCallback(() => {\n    setState({ modalVisible: false });\n    tableRef.current.getTableData();\n  }, [setState]);\n\n  useEffect(() => {\n    initParams();\n\n    if (!userInfo.email) {\n      Modal.warning({\n        title: '未检测到您的邮箱',\n        content: (\n          <>\n            请将您的GitHub邮箱设为公开，否则影响本功能的使用，\n            <a \n              href=\"https://github.com/settings/profile\" \n              target=\"_blank\" \n              rel=\"noopener noreferrer\"\n            >\n              前往设置\n            </a>\n          </>\n        ),\n      });\n    }\n  }, [initParams, userInfo.email]);\n\n  useEffect(() => {\n    if (state.date.length <= 0) return;\n    tableRef?.current?.getTableData();\n  }, [state.date]);\n\n  return (\n    <div className=\"reminder\">\n      <div className=\"query-panel\">\n        <span>查询类型：</span>\n        <Select \n          onChange={(value: string) => setState({ queryType: value })} \n          value={state.queryType}\n        >\n          <Option value=\"\">全部</Option>\n          <Option value=\"1\">待提醒</Option>\n          <Option value=\"2\">已提醒</Option>\n        </Select>\n        <span>日期：</span>\n        <RangePicker\n          format={dateFormat} \n          allowClear \n          value={state.date} \n          onChange={(date: any) => setState({ date })} \n        />\n        <Button type=\"primary\" onClick={() => tableRef.current.getTableData()}>查询</Button>\n        <Button onClick={() => setState({ modalVisible: true, currentRow: null })}>新增</Button>\n        <Button onClick={initParams}>重置</Button>\n      </div>\n      <Table \n        ref={tableRef}\n        getTableData={getReminder}\n        columns={tableColumns} \n      />\n      <CreateReminder \n        visible={state.modalVisible} \n        rowData={state.currentRow}\n        onCancel={() => setState({ modalVisible: false })}\n        onSuccess={handleModalOnSuccess}\n      />\n    </div>\n  )\n}\n\nconst mapStateToProps = (store: any) => ({\n  userInfo: store.user.userInfo\n});\n\nexport default connect(mapStateToProps)(Reminder);\n","import React, { Suspense, useEffect, useState } from 'react';\nimport './style.scss';\nimport PrivateRoute from '@/components/private-route/index';\nimport { Layout, Menu } from 'antd';\nimport { Switch, Link, RouteComponentProps } from 'react-router-dom';\nimport { SETTING_SIDER_MENU_LIST } from '@/constants';\nimport { settingRoutes } from '@/router/routes';\n\nconst { Content, Sider } = Layout;\n\nconst SettingIndex: React.FC<RouteComponentProps> = function ({ location }) {\n  const [selectedKeys, setSelectedKeys] = useState('');\n\n  useEffect(() => {\n    for (let i = 0; i < SETTING_SIDER_MENU_LIST.length; i++) {\n      if (SETTING_SIDER_MENU_LIST[i].path === location.pathname) {\n        setSelectedKeys(SETTING_SIDER_MENU_LIST[i].path);\n        break;\n      }\n    }\n  }, [location.pathname])\n  \n  return (\n    <Layout className=\"setting-page\">\n      <Sider width={170}>\n        <Menu\n          mode=\"inline\"\n          selectedKeys={[selectedKeys]}\n          style={{ height: '100%' }}\n        >\n          {SETTING_SIDER_MENU_LIST.map(menu => (\n            <Menu.Item key={menu.path}>\n              <Link to={menu.path}>{menu.name}</Link>\n            </Menu.Item>\n          ))}\n        </Menu>\n      </Sider>\n      <Content style={{ padding: '0 50px 0 30px' }}>\n        <Suspense fallback={null}>\n          <Switch>\n            {settingRoutes.map((route, idx) => (\n              <PrivateRoute {...route} key={idx} />\n            ))}\n          </Switch>\n        </Suspense>\n      </Content>\n    </Layout>\n  )\n};\n\nexport default SettingIndex;\n","import React, { useState, useEffect, useRef } from 'react';\nimport './style.scss';\nimport { Row, Col, Statistic } from 'antd';\nimport { Link } from 'react-router-dom';\nimport { serviceGetPanelData } from '@/services';\nimport { HOME } from '@/router/constants';\nimport {\n  PropertySafetyFilled,\n  ScheduleFilled,\n  FileTextFilled,\n  AlertFilled\n} from '@ant-design/icons';\n\nconst PanelGroup = () => {\n  const isInit = useRef<boolean>(false);\n  const [state, setState] = useState([\n    {\n      title: '今日支出',\n      total: 0,\n      Icon: <PropertySafetyFilled className=\"icon\" />,\n      suffix: '￥',\n      path: HOME.CAPITAL_FLOW.path\n    },\n    {\n      title: '今日待办', total: 0,\n      Icon: <ScheduleFilled className=\"icon\" />,\n      path: HOME.TODAY_TASK.path\n    },\n    {\n      title: '活动清单',\n      total: 0,\n      Icon: <FileTextFilled className=\"icon\" />,\n      path: HOME.TODO_LIST.path\n    },\n    {\n      title: '提醒事项',\n      total: 0,\n      Icon: <AlertFilled className=\"icon\" />,\n      path: HOME.REMINDER.path\n    },\n  ]);\n\n  useEffect(() => {\n    if (isInit.current) return;\n\n    isInit.current = true;\n\n    serviceGetPanelData()\n    .then(res => {\n      if (res.data.success) {\n        const data = state.slice();\n        data[0].total = res.data.data.consumption;\n        data[1].total = res.data.data.todayTaskCount;\n        data[2].total = res.data.data.unfinishedTodoListCount;\n        data[3].total = res.data.data.reminderCount;\n        setState(data)\n      }\n    });\n  }, [state]);\n\n  return (\n    <Row gutter={{ xs: 8, sm: 16, md: 24}} className=\"panel-group\">\n      {state.map(item => (\n        <Col xl={6} lg={12} md={12} sm={24} xs={24} key={item.title}>\n          <Link to={item.path} className=\"block-item\">\n            {item.Icon}\n            <div className=\"data\">\n              <Statistic title={item.title} value={item.total} suffix={item.suffix} />\n            </div>\n          </Link>\n        </Col>\n      ))}\n    </Row>\n  )\n};\n\nexport default React.memo(PanelGroup);\n","import React, { useEffect, useState } from 'react';\nimport './style.scss';\nimport { Empty } from 'antd';\nimport {\n  Chart,\n  Geom,\n  Axis,\n  Tooltip,\n  Legend,\n} from 'bizcharts';\nimport { serviceGetCapitalFlowPrice } from '@/services';\n\nconst cols = {\n  date: {\n    range: [0, 1]\n  }\n};\n\nconst MoneyAccessChart = () => {\n  const [data, setData] = useState([]);\n  const [totalPrice, setTotalPrice] = useState(0);\n\n  useEffect(() => {\n    serviceGetCapitalFlowPrice()\n    .then(res => {\n      if (res.data.success) {\n        let price = 0;\n        const data = res.data.data.map((item: any) => {\n          item.date = item.date.slice(5);\n          item.price = Number(item.price);\n          price += item.price;\n          return item;\n        });\n\n        setData(data);\n        setTotalPrice(price);\n      }\n    });\n  }, []);\n\n  return (\n    <div className=\"money-access\">\n      <h2 className=\"title\">过去7天资金流动</h2>\n      {(totalPrice > 0) ? (\n        <Chart height={400} data={data} scale={cols} forceFit>\n          <Legend />\n          <Axis\n            name=\"price\"\n            label={{ formatter: (val: string) => `${parseInt(val)}￥` }}\n          />\n          <Tooltip crosshairs={{ type: 'y' }} />\n          <Geom\n            type=\"line\"\n            position=\"date*price\"\n            size={2}\n            color=\"name\"\n            shape=\"smooth\"\n          />\n          <Geom\n            type=\"point\"\n            position=\"date*price\"\n            size={4}\n            shape=\"circle\"\n            color=\"name\"\n            style={{ stroke: '#fff', lineWidth: 1 }}\n          />\n        </Chart>\n      ) : <Empty image={Empty.PRESENTED_IMAGE_SIMPLE} />}\n    </div>\n  )\n};\n\nexport default React.memo(MoneyAccessChart);\n","import React, { useEffect } from 'react';\nimport PenelGroup from './components/penel-group';\nimport SystemInfo from './components/system-info';\nimport MoneyAccessChart from './components/money-access-chart';\nimport { DispatchProp, connect } from 'react-redux';\nimport { ThunkDispatch } from 'redux-thunk';\nimport { AnyAction } from 'redux';\nimport { getSystemInfo } from '@/store/actions';\nimport { StoreState } from '@/store';\n\nconst mapStateToProps = ({ system }: StoreState) => ({ system });\n\ntype ThunkDispatchProps = ThunkDispatch<{}, {}, AnyAction>;\ntype Props = DispatchProp & ReturnType<typeof mapStateToProps> & { dispatch: ThunkDispatchProps };\n\nconst HomeIndex: React.FC<Props> = function ({ system, dispatch: propDispatch }) {\n\n  useEffect(() => {\n    propDispatch(getSystemInfo());\n  }, [propDispatch]);\n\n  return (\n    <div className=\"home-index overflow-y_auto\">\n      <PenelGroup />\n      <SystemInfo systemInfo={system.info} />\n      <MoneyAccessChart />\n    </div>\n  )\n};\n\nexport default connect(mapStateToProps)(HomeIndex);\n","import React from 'react';\nimport { Button, Result } from 'antd';\nimport NoDataSvg from '@/assets/img/common/no-data.svg';\n\ninterface Props {\n  onClick(e: React.MouseEvent): void;\n  message?: string;\n}\n\nconst NoData: React.FC<Props> = ({ onClick, message = '暂无数据' }) => {\n  return (\n    <Result\n      className=\"no-data\"\n      icon={<img src={NoDataSvg} className=\"user-drag_none\" alt=\"no-data\" />}\n      title={message}\n      extra={<Button type=\"primary\" onClick={onClick}>现在创建</Button>}\n      status={'info'}\n      style={{ marginTop: '50px' }}\n    />\n  )\n};\n\nexport default React.memo(NoData);\n","import React, { useCallback } from 'react';\nimport './style.scss';\nimport moment from 'moment';\nimport { modalConfirmDelete } from '@/utils';\nimport { serviceDeleteTask, serviceUpdateTask } from '@/services';\nimport {\n  Card,\n  Button,\n  Rate\n} from 'antd';\n\ninterface Props {\n  data: { [key: string]: any },\n  reloadData(): void;\n}\n\nconst TaskItem: React.FC<Props> = ({ data, reloadData }) => {\n\n  // 0=删除, 1=开始/完成, 2=回退\n  const handleAction = useCallback(buttonType => {\n    if (buttonType === 0) {\n      modalConfirmDelete()\n      .then(() => {\n        serviceDeleteTask(data.id)\n        .then(res => {\n          if (res.data.success) {\n            reloadData();\n          }\n        });\n      });\n    } else {\n      serviceUpdateTask(data.id, {\n        rollback: buttonType === 2 && true\n      })\n      .then(res => {\n        if (res.data.success) {\n          reloadData();\n        }\n      });\n    }\n  }, [data, reloadData])\n\n  return (\n    <Card\n      title=\"我的待办\" \n      hoverable \n      className=\"task-component\"\n    >\n      <p className=\"content\">{data.content}</p>\n      <div className=\"level\">\n        <span>优先级别：</span>\n        <Rate value={data.count} disabled></Rate>\n        <p>创建时间: {moment(data.createdAt).format('HH:mm:ss')}</p>\n      </div>\n      <div className=\"button-wrapper\">\n        <Button \n          type=\"primary\" \n          danger\n          size=\"small\" \n          onClick={handleAction.bind(null, 0)}\n        >\n          删除\n        </Button>\n        {(data.type === 1) && (\n          <Button \n            type=\"primary\" \n            size=\"small\"\n            onClick={handleAction.bind(null, 1)}\n          >\n            开始\n          </Button>\n        )}\n        {([2, 3].includes(data.type)) && (\n          <Button \n            type=\"primary\" \n            size=\"small\"\n            onClick={handleAction.bind(null, 2)}\n          >\n            回退\n          </Button>\n        )}\n        {(data.type === 2) && (\n          <Button \n            type=\"primary\" \n            size=\"small\"\n            onClick={handleAction.bind(null, 1)}\n          >\n            完成\n          </Button>\n        )}\n      </div>\n    </Card>\n  )\n};\n\nexport default React.memo(TaskItem);\n","import React, { useCallback } from 'react';\nimport moment from 'moment';\nimport useKeepState from 'use-keep-state';\nimport { isLtTodayTimestamp } from '@/utils';\nimport { serviceCreateTask } from '@/services';\nimport { \n  Modal,\n  Form,\n  Input,\n  DatePicker,\n  message,\n  Rate\n} from 'antd';\n\ntype Props = {\n  visible: boolean;\n  data?: object;\n  setParentState(state: any): void;\n  onSuccess: (res?: any) => void;\n};\n\nconst dateFormat = 'YYYY-MM-DD';\nconst { TextArea } = Input;\nconst initialState = {\n  confirmLoading: false,\n  content: '',\n  date: moment(new Date(), dateFormat),\n  count: 5\n};\n\nconst CreateTask: React.FC<Props> = function ({ visible, onSuccess, setParentState }) {\n  const [state, setState] = useKeepState(initialState); \n\n  const handleSubmitForm = useCallback(() => {\n    const params = {\n      date: state.date.valueOf(),\n      content: state.content.trim(),\n      count: state.count\n    };\n\n    if (!params.content) {\n      message.warn('内容不能为空');\n      return;\n    }\n\n    serviceCreateTask(params)\n      .then(res => {\n        if (res.data.success) {\n          onSuccess();\n        }\n      });\n  }, [state, onSuccess]);\n\n  return (\n    <Modal\n      title=\"新增\"\n      visible={visible}\n      onOk={handleSubmitForm}\n      onCancel={() => setParentState({ showCreateTaskModal: false })}\n      confirmLoading={state.confirmLoading}\n    >\n      <Form>\n        <Form.Item label=\"开始日期\">\n          <DatePicker\n            allowClear={false}\n            value={state.date}\n            onChange={date => setState({ date }) }\n            disabledDate={isLtTodayTimestamp}\n            style={{ width: '100%' }}\n          />\n        </Form.Item>\n        <Form.Item label=\"任务内容\">\n          <TextArea \n            rows={3} \n            value={state.content} \n            onChange={e => setState({ content: e.target.value })} \n            maxLength={200} \n            placeholder=\"请输入内容\"\n          />\n        </Form.Item>\n        <Form.Item label=\"优先级别\">\n          <Rate value={state.count} onChange={count => setState({ count })} />\n        </Form.Item>\n      </Form>\n    </Modal>\n  )\n};\n\nexport default React.memo(CreateTask);\n","import React, { useCallback, useEffect } from 'react';\nimport './style.scss';\nimport useKeepState from 'use-keep-state';\nimport NoData from '@/components/no-data/index';\nimport TaskItem from './components/task-item';\nimport CreateTask from './components/create-task';\nimport moment from 'moment';\nimport { DatePicker, Button, Tag, Row, Col } from 'antd';\nimport { getStartTimestampByDate, getEndTimestampByDate } from '@/utils';\nimport { serviceGetTask } from '@/services';\n\n\nconst dateFormat = 'YYYY-MM-DD';\nconst datePickerValue = moment(new Date(getStartTimestampByDate()), dateFormat);\nconst TASK_TYPE: any = {\n  wait: { text: '待作业', color: 'orange' },\n  process: { text: '作业中', color: '#108ee9' },\n  finished: { text: '已完成', color: '#87d068' },\n  unfinished: { text: '未完成', color: '#f50' }\n};\n\ninterface State {\n  startDate: moment.Moment;\n  data: {\n    wait: any[];\n    process: any[];\n    finished: any[];\n    unfinished: any[];\n  };\n  showCreateTaskModal: boolean;\n}\n\nconst initialState: State = {\n  startDate: datePickerValue,\n  data: { wait: [], process: [], finished: [], unfinished: [] },\n  showCreateTaskModal: false\n};\n\nconst TodayTask = () => {\n  const [state, setState] = useKeepState(initialState);\n\n  const getTask = useCallback(() => {\n    const date = state.startDate.valueOf();\n    serviceGetTask({\n      startDate: getStartTimestampByDate(date),\n      endDate: getEndTimestampByDate(date)\n    })\n    .then(res => {\n      if (res.data.success) {\n        setState({ data: res.data.data });\n      }\n    });\n  }, [setState, state.startDate]);\n\n  const initParams = useCallback(() => {\n    setState({ startDate: datePickerValue });\n    getTask();\n  }, [setState, getTask]);\n\n  const handleOnSuccess = useCallback(() => {\n    setState({ showCreateTaskModal: false });\n    getTask();\n  }, [setState, getTask]);\n\n  useEffect(() => {\n    getTask();\n  }, [getTask]);\n\n  return (\n    <div className=\"today-task\">\n      <div className=\"query-panel\">\n        <span>查询日期：</span>\n        <DatePicker\n          format={dateFormat} \n          allowClear \n          value={state.startDate} \n          onChange={date => setState({ startDate: date })} \n        />\n        <Button type=\"primary\" onClick={getTask}>查询</Button>\n        <Button onClick={() => setState({ showCreateTaskModal: true })}>新增</Button>\n        <Button onClick={initParams}>重置</Button>\n      </div>\n      <div className=\"wrapper\">\n        {(\n          state.data.wait.length > 0 ||\n          state.data.process.length > 0 ||\n          state.data.finished.length > 0 ||\n          state.data.unfinished.length > 0\n        ) ? (\n          <Row gutter={24}>\n            {Object.keys(state.data).map((key: string) => (\n              <Col span={6} key={key}>\n                <div className=\"text-align_center\">\n                  <Tag color={TASK_TYPE[key].color}>{TASK_TYPE[key].text}</Tag>\n                </div>\n                {state.data[key].map((item: any) => (\n                  <TaskItem key={item.id} data={item} reloadData={getTask} />\n                ))}\n              </Col>\n            ))}\n          </Row>\n        ) : (\n          <NoData\n            message=\"还没有待办事项，是否马上创建？\"\n            onClick={() => setState({ showCreateTaskModal: true })}\n          />\n        )}\n      </div>\n      <CreateTask\n        visible={state.showCreateTaskModal}\n        onSuccess={handleOnSuccess}\n        setParentState={setState}\n      />\n    </div>\n  );\n};\n\nexport default TodayTask;\n","import React, { FC, useState, useEffect, useCallback } from 'react';\nimport './style.scss';\nimport moment from 'moment';\nimport NoData from '@/components/no-data/index';\nimport { RouteComponentProps } from 'react-router-dom';\nimport { Card, Col, Row, Button } from 'antd';\nimport { Link } from 'react-router-dom';\nimport { serviceGetMemorandum, serviceDeleteMemorandum } from '@/services';\nimport { defaultTitle } from '../constants';\nimport { modalConfirmDelete } from '@/utils';\n\n\nconst Memorandum: FC<RouteComponentProps> = ({ history }) => {\n  const [list, setList] = useState([]);\n\n  const handleButton = useCallback((buttonType: 0 | 1 | 2, item: any, e: React.MouseEvent) => {\n    e.stopPropagation();\n    e.preventDefault();\n\n    if (buttonType === 0) {\n      modalConfirmDelete()\n      .then(() => {\n        serviceDeleteMemorandum(item.id)\n        .then(res => {\n          if (res.data.success) {\n            const index = list.findIndex((el: any) => el.title === item.title);\n            if (index !== -1) {\n              const copyList = [...list];\n              copyList.splice(index, 1);\n              setList(copyList);\n            }\n          }\n        });\n      });\n      return;\n    }\n\n    if (buttonType === 2) {\n      history.push('/home/memorandum/create');\n      return;\n    }\n    \n    history.push(`/home/memorandum/update/${item.id}`);\n  }, [history, list]);\n\n  useEffect(() => {\n    serviceGetMemorandum()\n    .then(res => {\n      if (res.data.success) {\n        const data = res.data.data.map((item: any) => {\n          item.createdAt = moment(item.createdAt).format('YYYY/M/D HH:mm');\n          item.title = item.title || defaultTitle;\n          return item;\n        });\n        setList(data);\n      }\n    });\n  }, []);\n\n  return (\n    <div className=\"memorandum\">\n      {(list.length > 0) ? (\n        <Row gutter={16} align=\"bottom\">\n          {list.map((item: any) => (\n            <Col span={8} key={item.id}>\n              <Link to={`/home/memorandum/detail/${item.id}`}>\n                <Card title={item.title} hoverable>\n                  {item.createdAt}\n                  <div \n                    className=\"content\" \n                    dangerouslySetInnerHTML={{ __html: item.html }}\n                  >\n                  </div>\n                  <div className=\"button-group\">\n                    <Button size=\"small\" onClick={handleButton.bind(null, 0, item)}>删除</Button>\n                    <Button size=\"small\" onClick={handleButton.bind(null, 1, item)}>编辑</Button>\n                  </div>\n                </Card>\n              </Link>\n            </Col>\n          ))}\n        </Row>\n      ) : (\n        <NoData\n          message=\"还没有备忘录，是否马上创建？\"\n          onClick={handleButton.bind(null, 2, null)}\n        />\n      )}\n    </div>\n  )\n};\n\nexport default Memorandum;\n","\nexport const defaultTitle = '无标题';\n","import React, { FC, useEffect, useState } from 'react';\nimport './style.scss';\nimport { match, Link, RouteComponentProps } from 'react-router-dom';\nimport { serviceGetMemorandumById } from '@/services';\nimport { defaultTitle } from '../constants';\nimport { LeftOutlined, EditOutlined } from '@ant-design/icons';\n\ninterface Props {\n  computedMatch: match<any>\n}\n\nconst Detail: FC<Props & RouteComponentProps> = ({ computedMatch, history }) => {\n  const [title, setTitle] = useState('');\n  const [content, setContent] = useState('');\n  const id = computedMatch.params.id;\n\n  const goBack = function () {\n    history.goBack();\n  };\n\n  useEffect(() => {\n    serviceGetMemorandumById(id)\n    .then(res => {\n      if (res.data.success) {\n        const title = res.data.data.title || defaultTitle;\n        document.title = title;\n        setTitle(title);\n        setContent(res.data.data.html);\n      }\n    });\n  }, [id]);\n\n  return (\n    <div className=\"memorandum-detail\">\n      <div className=\"tool-bar\">\n        <LeftOutlined className=\"icon-left\" onClick={goBack} />\n        <Link className=\"edit\" to={`/home/memorandum/update/${id}`}>\n          <EditOutlined title=\"编辑\" />\n        </Link>\n      </div>\n      <h1 className=\"title\">{ title }</h1>\n      <div \n        className=\"markdown-body tui-editor-contents\" \n        dangerouslySetInnerHTML={{ __html: content }}\n      >\n      </div>\n    </div>\n  )\n};\n\nexport default Detail;\n","import React, { useCallback, useEffect, useRef } from 'react';\nimport moment from 'moment';\nimport { \n  Modal,\n  Form,\n  Input,\n  DatePicker,\n  message,\n  Select\n} from 'antd';\nimport { serviceCreateCapitalFlow, serviceUpdateCapitalFlow } from '@/services';\nimport useKeepState from 'use-keep-state';\n\nconst { TextArea } = Input;\nconst { Option } = Select;\nconst dateFormat = 'YYYY-MM-DD HH:mm:ss';\nconst defaultDate = moment(new Date(), dateFormat);\n\ntype Props = {\n  visible: boolean;\n  onCancel: () => void;\n  onSuccess: (res?: any) => void;\n  rowData?: { [propName: string]: any; };\n  nameList: any[];\n};\n\ninterface State {\n  confirmLoading: boolean;\n  dateMode: 'time' | 'date' | 'month' | 'year' | 'decade';\n  date: moment.Moment;\n  remarks: string;\n  typeId: string;\n  price: string | number;\n}\n\nconst initialState: State = {\n  confirmLoading: false,\n  dateMode: 'date',\n  date: defaultDate,\n  remarks: '',\n  typeId: '',\n  price: ''\n};\n\nconst CreateReminder: React.FC<Props> = function ({\n  visible,\n  onCancel,\n  onSuccess,\n  rowData,\n  nameList\n}) {\n  const [state, setState] = useKeepState(initialState);\n  const initRef = useRef(false);\n\n  const initParams = useCallback(() => {\n    const params: any = {\n      remarks: '',\n      typeId: state.typeId || (nameList.length && nameList[0].id),\n      price: ''\n    };\n\n    if (rowData) {\n      params.date = moment(rowData.date, dateFormat);\n      params.remarks = rowData.remarks;\n      params.typeId = rowData.typeId;\n      params.price = rowData.price;\n    }\n    setState(params);\n  }, [setState, rowData, state.typeId, nameList]);\n\n  const handleSubmit = useCallback((e: React.MouseEvent | React.FormEvent) => {\n    e.preventDefault();\n    const params = {\n      date: state.date.valueOf(),\n      remarks: state.remarks.trim(),\n      typeId: state.typeId,\n      price: Number(state.price)\n    };\n\n    try {\n      if (!params.price || isNaN(params.price)) throw new Error('金额必须为数字');\n      if (!params.typeId) throw new Error('请选择名称');\n    } catch (err) {\n      message.warn(err.message);\n      return;\n    }\n\n    setState({ confirmLoading: true });\n\n    (\n      !rowData \n        ? serviceCreateCapitalFlow(params) \n        : serviceUpdateCapitalFlow(rowData.id, params)\n    )\n    .then(res => {\n      if (res.data.success) {\n        onSuccess(res);\n      }\n    })\n    .finally(() => {\n      setState({ confirmLoading: false });\n    });\n\n  }, [state, setState, onSuccess, rowData]);\n\n  useEffect(() => {\n    if (visible === initRef.current) return;\n    initRef.current = visible;\n    initParams();\n  }, [visible, initParams]);\n\n  return (\n    <Modal\n      title=\"新增\"\n      visible={visible}\n      onOk={handleSubmit}\n      onCancel={onCancel}\n      confirmLoading={state.confirmLoading}\n    >\n      <Form>\n        <Form.Item label=\"入账时间\">\n          <DatePicker\n            mode={state.dateMode}\n            showTime\n            allowClear={false}\n            value={state.date}\n            onPanelChange={(value, dateMode) => setState({ dateMode }) }\n            onChange={date => setState({ date }) }\n            style={{ width: '100%' }}\n          />\n        </Form.Item>\n        <Form.Item label=\"财务类型\">\n          <Select \n            onChange={(value: string) => setState({ typeId: value })} \n            value={state.typeId}\n          >\n            {nameList.map((item: any) => (\n              <Option value={item.id} key={item.id}>{item.optionName}</Option>\n            ))}\n          </Select>\n        </Form.Item>\n        <Form.Item label=\"收支金额\">\n          <Input \n            value={state.price} \n            onChange={e => setState({ price: e.target.value })} \n          />\n        </Form.Item>\n        <Form.Item label=\"备注信息\">\n          <TextArea \n            rows={5} \n            value={state.remarks} \n            onChange={e => setState({ remarks: e.target.value })} \n            maxLength={250} \n          />\n        </Form.Item>\n      </Form>\n    </Modal>\n  )\n};\n\nexport default React.memo(CreateReminder);\n","import React, { useEffect, useCallback, useRef, useMemo } from 'react';\nimport './style.scss';\nimport moment from 'moment';\nimport useKeepState from 'use-keep-state';\nimport Table from '@/components/table';\nimport CreateCapitalFlow from '../components/create-capital-flow';\nimport { DatePicker, Button, Select, Statistic, Input } from 'antd';\nimport {\n  getCurMonthFirstDay,\n  getCurMonthLastDay,\n  modalConfirmDelete,\n  ONE_DAY_TIMESTAMP\n} from '@/utils';\nimport {\n  serviceGetCapitalFlow,\n  serviceDeleteCapitalFlow,\n  serviceGetCapitalFlowType\n} from '@/services';\nimport { OPTION_TYPES, TypeNames, TYPES } from '../enum';\n\nconst { Search } = Input;\nconst { RangePicker } = DatePicker;\nconst Option = Select.Option;\nconst dateFormat = 'YYYY-MM-DD';\n\ninterface State {\n  date: moment.Moment[];\n  searchKeyword: string,\n  name: string;\n  type: any;\n  modalVisible: boolean;\n  currentRow: null | { [propName: string]: any };\n  nameList: any[];\n  price: { consumption: number; income: number; available: number; };\n  sortedInfo: any;\n  filters: object;\n}\n\nconst initialState: State = {\n  date: [],\n  searchKeyword: '',\n  name: '',\n  type: '',\n  modalVisible: false,\n  currentRow: null,\n  nameList: [],\n  price: { consumption: 0, income: 0, available: 0 },\n  sortedInfo: null,\n  filters: {\n    price: [true]\n  }\n};\n\nconst Reminder: React.FC = function() {\n  const [state, setState] = useKeepState(initialState);\n  const tableRef = useRef<any>(null);\n\n  const initParams = useCallback(() => {\n    const startDate = moment(getCurMonthFirstDay(dateFormat), dateFormat);\n    const endDate = moment(getCurMonthLastDay(dateFormat), dateFormat);\n    setState({\n      searchKeyword: '',\n      name: '',\n      date: [startDate, endDate],\n      sortedInfo: null\n    });\n  }, [setState]);\n\n  // 获取数据\n  const getCapitalFlow = useCallback((params: any) => {\n    params = {\n      ...params,\n      keyword: state.searchKeyword,\n      typeNameId: state.name,\n      type: state.type,\n      startDate: state.date[0].valueOf(),\n      endDate: state.date[1].valueOf() + ONE_DAY_TIMESTAMP\n    };\n\n    if (state.sortedInfo?.order) {\n      params.sort = `${state.sortedInfo.columnKey}-${state.sortedInfo.order.replace('end', '')}`;\n    }\n\n    return serviceGetCapitalFlow(params).then(res => {\n      if (res.data.success) {\n        const data = res.data.data;\n        \n        res.data.data.rows = res.data.data.rows.map((el: any, idx: number) => {\n          el.order = idx + 1;\n          el.date = moment(el.date).format('YYYY-MM-DD HH:mm');\n          el.__price__ = TYPES[el.type - 1].symbol + el.price;\n          el.__color__ = TYPES[el.type - 1].color;\n          \n          return el;\n        });\n\n        setState({\n          price: {\n            income: data.income,\n            consumption: data.consumption,\n            available: data.available\n          }\n        });\n      }\n      return res;\n    });\n  }, [state.date, state.searchKeyword, state.name, state.type, state.sortedInfo, setState]);\n\n  // 获取所有类型\n  const getCapitalFlowType = useCallback(() => {\n    serviceGetCapitalFlowType()\n    .then(res => {\n      if (res.data.success) {\n        const data = res.data.data.map((item: any) => {\n          item.optionName = `${TypeNames[item.type]} - ${item.name}`;\n          return item;\n        }).sort((a: any, b: any) => a.type - b.type);\n        setState({ nameList: data });\n      }\n    });\n  }, [setState]);\n\n  const handleActionButton = useCallback((type: number, row: any) => {\n    // 编辑\n    if (type === 0) {\n      setState({ modalVisible: true, currentRow: row });\n    } else {\n      modalConfirmDelete()\n      .then(() => {\n        serviceDeleteCapitalFlow(row.id)\n        .then(res => {\n          if (res.data.success) {\n            tableRef.current.getTableData();\n          }\n        });\n      });\n    }\n  }, [setState]);\n\n  // 时间过滤\n  const onFilterDate = useCallback(type => {\n    const [startDate] = state.date;\n    const date: moment.Moment[] = [\n      moment(moment().format(dateFormat), dateFormat),\n      moment(moment().format(dateFormat), dateFormat)\n    ];\n\n    switch (type) {\n      case 2:\n        date[0] = date[1] = moment(moment().subtract(1, 'days').format(dateFormat), dateFormat);\n        break;\n      case 3:\n        date[0] = moment(moment().subtract(7, 'days').format(dateFormat), dateFormat);\n        date[1] = moment(new Date(), dateFormat);\n        break;\n      case 4:\n        date[0] = moment(moment(startDate).subtract(1, 'month').startOf('month').format(dateFormat), dateFormat);\n        date[1] = moment(moment(startDate).subtract(1, 'month').endOf('month').format(dateFormat), dateFormat);\n        break;\n      case 5:\n        date[0] = moment(moment(startDate).add(1, 'month').startOf('month').format(dateFormat), dateFormat);\n        date[1] = moment(moment(startDate).add(1, 'month').endOf('month').format(dateFormat), dateFormat);\n        break;\n    }\n\n    setState({ date });\n  }, [setState, state.date]);\n\n  const onTableChange = useCallback((pagination, filters, sorter) => {\n    setState({\n      sortedInfo: {\n        columnKey: sorter.columnKey,\n        order: sorter.order\n      },\n      filters\n    });\n  }, [setState]);\n\n  // modal成功新增回调函数\n  const handleModalOnSuccess = useCallback(() => {\n    setState({ modalVisible: false });\n    tableRef.current.getTableData();\n  }, [setState]);\n\n  useEffect(() => {\n    initParams();\n    getCapitalFlowType();\n  }, [initParams, getCapitalFlowType]);\n\n  useEffect(() => {\n    if (state.date.length <= 0) return;\n    tableRef?.current?.getTableData();\n  }, [state.name, state.type, state.date]);\n\n  const tableColumns = useMemo(() => [\n    {\n      title: '入账时间', dataIndex: 'date', width: 180, sorter: true,\n      sortOrder: state.sortedInfo?.columnKey === 'date' && state.sortedInfo.order\n    },\n    { title: '账务类型', dataIndex: 'name', width: 120 },\n    { \n      title: '收支金额（元）', width: 140, sorter: true, dataIndex: 'price',\n      sortOrder: state.sortedInfo?.columnKey === 'price' && state.sortedInfo.order,\n      filters: [\n        { text: '隐藏金额', value: true }\n      ],\n      defaultFilteredValue: [true],\n      render: (text: any, rowData: any) => (\n        <span style={{ color: rowData.__color__ }}>\n          {state.filters.price && state.filters.price[0] === true ? '******': rowData.__price__}\n        </span>\n      )\n    },\n    { \n      title: '备注信息',\n      render: (rowData: any) => (\n        <p className=\"white-space_pre-wrap\">{rowData.remarks}</p>\n      )\n    },\n    { \n      title: '操作', width: 180, align: 'right',\n      render: (row: any) => (\n        <>\n          <Button onClick={handleActionButton.bind(null, 0, row)} size=\"small\">编辑</Button>\n          <Button onClick={handleActionButton.bind(null, 1, row)} size=\"small\">删除</Button>\n        </>\n      )\n    }\n  ], [state.sortedInfo, state.filters, handleActionButton]);\n\n  return (\n    <div className=\"capital-flow\">\n      <div className=\"query-panel\">\n        <span>账务类型：</span>\n        <Select \n          onChange={(value: string) => setState({ name: value })} \n          value={state.name}\n        >\n          <Option value=\"\">全部</Option>\n          {state.nameList.map((item: any) => (\n            <Option value={item.id} key={item.id}>{item.name}</Option>\n          ))}\n        </Select>\n          {!state.name && (\n            <>\n              <span>收支类别：</span>\n              <Select \n                onChange={(value: string) => setState({ type: value })} \n                value={state.type}\n              >\n              {OPTION_TYPES.map(item => (\n                <Option value={item.value} key={item.value}>{item.name}</Option>\n              ))}\n              </Select>\n            </>\n          )}\n        <Search\n          value={state.searchKeyword}\n          placeholder=\"试试搜索备注\"\n          maxLength={300}\n          onChange={e => setState({ searchKeyword: e.target.value })}\n          onSearch={() => tableRef.current.getTableData()}\n          style={{ width: 260, marginRight: '15px' }}\n        />\n        <Button type=\"primary\" onClick={tableRef.current?.getTableData}>查询</Button>\n        <Button onClick={() => setState({ modalVisible: true, currentRow: null })}>新增</Button>\n        <Button onClick={initParams}>重置</Button>\n        <div style={{ marginTop: '10px' }}>\n          <span>日期：</span>\n          <RangePicker\n            format={dateFormat} \n            allowClear \n            value={state.date} \n            style={{ width: '280px', marginRight: '10px' }}\n            onChange={(date: any) => setState({ date })} \n          />\n          <Button onClick={onFilterDate.bind(null, 1)}>今天</Button>\n          <Button onClick={onFilterDate.bind(null, 2)}>昨天</Button>\n          <Button onClick={onFilterDate.bind(null, 3)}>最近一周</Button>\n          <Button onClick={onFilterDate.bind(null, 4)}>上个月</Button>\n          <Button onClick={onFilterDate.bind(null, 5)}>下个月</Button>\n        </div>\n        <div className=\"poly\">\n          <div className=\"item-price\">\n            <em>收入：￥</em>\n            <Statistic value={state.price.income} precision={2} />\n          </div>\n          <div className=\"item-price\">\n            <em>支出：￥</em>\n            <Statistic value={state.price.consumption} precision={2} />\n          </div>\n          <div className=\"item-price\">\n            <em>实际收入：￥</em>\n            <Statistic value={state.price.available} precision={2} />\n          </div>\n        </div>\n      </div>\n      <Table \n        ref={tableRef}\n        getTableData={getCapitalFlow}\n        columns={tableColumns} \n        onTableChange={onTableChange}\n      />\n      <CreateCapitalFlow \n        visible={state.modalVisible} \n        rowData={state.currentRow}\n        nameList={state.nameList}\n        onCancel={() => setState({ modalVisible: false })}\n        onSuccess={handleModalOnSuccess}\n      />\n    </div>\n  )\n}\n\nexport default Reminder;\n","import React, { useCallback, useEffect } from 'react';\nimport { \n  Modal,\n  Form,\n  Input,\n  message,\n  Select\n} from 'antd';\nimport { serviceCreateCapitalFlowType, serviceUpdateCapitalFlowType } from '@/services';\nimport { TYPES } from '../../enum';\nimport useKeepState from 'use-keep-state';\n\ntype Props = {\n  visible: boolean;\n  onSuccess: (res?: any) => void;\n  onCancel: () => void;\n  rowData: null | { [propName: string]: any; }\n};\n\nconst { Option } = Select;\nconst defaultType = TYPES.length ? TYPES[0].value : null;\nconst initialState = {\n  confirmLoading: false,\n  name: '',\n  type: defaultType\n};\n\nconst CreateTask: React.FC<Props> = function ({\n  visible,\n  rowData,\n  onCancel,\n  onSuccess\n}) {\n  const [state, setState] = useKeepState(initialState); \n\n  const handleSubmitForm = useCallback(e => {\n    e.preventDefault();\n    \n    const name = state.name.trim();\n    const params = { type: state.type, name };\n\n    if (!name) {\n      message.warn('名称不能为空');\n      return;\n    }\n\n    setState({ confirmLoading: true });\n\n    (rowData \n      ? serviceUpdateCapitalFlowType(rowData.id, params) \n        : serviceCreateCapitalFlowType(params)\n    )\n    .then(res => {\n      if (res.data.success) {\n        onSuccess(res.data.data);\n      }\n    })\n    .finally(() => {\n      setState({ confirmLoading: false });\n    });\n  }, [state, rowData, onSuccess, setState]);\n\n  useEffect(() => {\n    // 每次rowData改变重新赋值\n    if (rowData) {\n      setState({ name: rowData.name, type: rowData.type });\n    } else {\n      setState({ name: '', type: defaultType });\n    }\n  }, [rowData, setState]);\n\n  return (\n    <Modal\n      title=\"新增类别\"\n      visible={visible}\n      onOk={handleSubmitForm}\n      onCancel={() => onCancel()}\n      confirmLoading={state.confirmLoading}\n    >\n      <Form>\n        <Form.Item label=\"名称\">\n          <Input \n            value={state.name} \n            onChange={e => setState({ name: e.target.value })} \n            maxLength={20} \n            placeholder=\"请输入名称\"\n          />\n        </Form.Item>\n        <Form.Item label=\"类型\">\n          <Select \n            value={state.type} \n            onChange={(value: any) => setState({ type: value })}\n          >\n          {TYPES.map(item => (\n            <Option value={item.value} key={item.value}>{item.name}</Option>\n          ))}\n          </Select>\n        </Form.Item>\n      </Form>\n    </Modal>\n  )\n};\n\nexport default React.memo(CreateTask);\n","import React, { useEffect, useState, useCallback } from 'react';\nimport './style.scss';\nimport moment from 'moment';\nimport useKeepState from 'use-keep-state';\nimport CreateType from '../components/create-type/index';\nimport { Table, Button, Tag, message } from 'antd';\nimport {\n  serviceGetCapitalFlowType,\n  serviceDeleteCapitalFlowType\n} from '@/services';\nimport { TypeNames, TypeColors } from '../enum';\n\nconst initialState = {\n  modalVisible: false,\n  selectedRowKeys: [],\n  loading: false,\n  data: [],\n  rowData: null\n};\n\nconst Type = () => {\n  const [state, setState] = useKeepState(initialState);\n  const [columns] = useState([\n    { title: '账务类型', dataIndex: 'name' },\n    { title: '收支类别', render: (rowData: any) => (\n      <Tag color={rowData.color}>{rowData.typeName}</Tag>\n    ) },\n    { title: '创建时间', dataIndex: 'createdAt' },\n    { title: '操作', render: (rowData: any) => (\n      <Button onClick={handleEdit.bind(null, rowData)}>编辑</Button>\n    ) },\n  ]);\n\n  const onSelectChange = function(selectedRowKeys: any) {\n    setState({ selectedRowKeys });\n  };\n\n  const getCapitalFlowType = useCallback(() => {\n    serviceGetCapitalFlowType()\n    .then(res => {\n      if (res.data.success) {\n        const handleData = res.data.data.map((item: any) => {\n          item.typeName = TypeNames[item.type];\n          item.color = TypeColors[item.type];\n          item.createdAt = moment(item.createdAt).format('YYYY-MM-DD hh:mm');\n          return item;\n        });\n        setState({ data: handleData });\n      }\n    });\n  }, [setState]);\n\n  const deleteCapitalFlowType = useCallback(() => {\n    const ids = state.selectedRowKeys.join();\n    if (!ids) return;\n    serviceDeleteCapitalFlowType(ids)\n    .then(res => {\n      if (res.data.success) {\n        getCapitalFlowType();\n      }\n    });\n  }, [state.selectedRowKeys, getCapitalFlowType]);\n\n  const handleOnSuccess = useCallback(() => {\n    setState({ modalVisible: false });\n    getCapitalFlowType();\n  }, [setState, getCapitalFlowType]);\n\n  const handleAdd = useCallback(() => {\n    if (state.data.length >= 100) {\n      message.warn('类型超出100条');\n      return;\n    }\n    setState({ modalVisible: true, rowData: null });\n  }, [state.data, setState]);\n\n  function handleEdit(rowData: any) {\n    setState({ modalVisible: true, rowData });\n  }\n\n  useEffect(() => {\n    getCapitalFlowType();\n  }, [getCapitalFlowType]);\n\n  const rowSelection = {\n    selectedRowKeys: state.selectedRowKeys,\n    onChange: onSelectChange,\n  };\n\n  return (\n    <div className=\"capital-flow-type\">\n      <div className=\"button-group\">\n        <Button type=\"primary\" danger onClick={deleteCapitalFlowType}>删除</Button>\n        <Button type=\"primary\" onClick={handleAdd}>新增</Button>\n      </div>\n      <Table \n        rowSelection={rowSelection} \n        columns={columns} \n        dataSource={state.data} \n        pagination={false}\n        rowKey=\"id\"\n      />\n      <CreateType \n        visible={state.modalVisible} \n        rowData={state.rowData}\n        onCancel={() => setState({ modalVisible: false })}\n        onSuccess={handleOnSuccess}\n      />\n    </div>\n  )\n};\n\nexport default Type;\n","import React, { useCallback, useEffect } from 'react';\nimport useKeepState from 'use-keep-state';\nimport { serviceCreateTodoList, serviceUpdateTodoList } from '@/services';\nimport { \n  Modal,\n  Form,\n  Input,\n  message,\n} from 'antd';\n\ntype Props = {\n  visible: boolean;\n  rowData?: { [propName: string]: any; } | null;\n  setParentState(state: any): void;\n  onSuccess: (res?: any) => void;\n};\n\nconst { TextArea } = Input;\nconst initialState = {\n  confirmLoading: false,\n  content: '',\n};\n\nconst CreateTodo: React.FC<Props> = function ({\n  visible,\n  onSuccess,\n  setParentState,\n  rowData\n}) {\n  const [state, setState] = useKeepState(initialState); \n\n  const handleSubmitForm = useCallback(() => {\n    const params = {\n      content: state.content.trim(),\n    };\n\n    if (!params.content) {\n      message.warn('内容不能为空');\n      return;\n    }\n\n    (\n      !rowData \n        ? serviceCreateTodoList(params) \n          : serviceUpdateTodoList(rowData.id, params)\n    )\n    .then(res => {\n      if (res.data.success) {\n        onSuccess();\n      }\n    });\n  }, [state, onSuccess, rowData]);\n\n  useEffect(() => {\n    setState({\n      content: rowData ? rowData.content : ''\n    });\n  }, [rowData, setState]);\n\n  return (\n    <Modal\n      title=\"新增\"\n      visible={visible}\n      onOk={handleSubmitForm}\n      onCancel={() => setParentState({ showCreateTodoModal: false })}\n      confirmLoading={state.confirmLoading}\n    >\n      <Form>\n        <Form.Item label=\"活动内容\">\n          <TextArea \n            rows={3} \n            value={state.content} \n            onChange={e => setState({ content: e.target.value })} \n            maxLength={250} \n          />\n        </Form.Item>\n      </Form>\n    </Modal>\n  )\n};\n\nexport default React.memo(CreateTodo);\n","\nexport const STATUS: any = {\n  1: { text: '进行中', color: 'volcano' },\n  2: { text: '已完成', color: '#2db7f5' }\n};\n","import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport moment from 'moment';\nimport useKeepState from 'use-keep-state';\nimport Table from '@/components/table';\nimport CreateTodo from '../components/create-todo';\nimport { serviceGetTodoList, serviceDeleteTodoList, serviceUpdateTodoList } from '@/services';\nimport { STATUS } from '../constants';\nimport { DatePicker, Button, Tag } from 'antd';\nimport {\n  getThisYearFirstDay,\n  getCurMonthLastDay,\n  modalConfirmDelete,\n  ONE_DAY_TIMESTAMP\n} from '@/utils';\n\nconst { RangePicker } = DatePicker;\nconst dateFormat = 'YYYY-MM-DD';\n\ninterface State {\n  date: moment.Moment[];\n  showCreateTodoModal: boolean;\n  currentRowData: { [key: string]: any; } | null;\n}\n\nconst initialState: State = {\n  date: [],\n  showCreateTodoModal: false,\n  currentRowData: null\n};\n\nconst TodoList = () => {\n  const [state, setState] = useKeepState(initialState);\n  const tableRef = useRef<any>();\n  const [tableColumns] = useState([\n    { title: '状态', dataIndex: 'status', width: 90, render: (status: number) => (\n      <Tag color={STATUS[status].color}>{STATUS[status].text}</Tag>\n    )},\n    { title: '创建时间', dataIndex: 'createdAt', width: 170 },\n    { title: '活动内容', dataIndex: 'content', className: 'word-break_break-all' },\n    { title: '操作', width: 250, align: 'right',\n      render: (row: any) => (\n        <>\n          <Button onClick={handleActionButton.bind(null, 0, row)}>编辑</Button>\n          <Button onClick={handleActionButton.bind(null, 1, row)}>删除</Button>\n          <Button \n            onClick={handleActionButton.bind(null, 2, row)} \n            disabled={row.status === 2}\n          >\n            完成\n          </Button>\n        </>\n      )\n    }\n  ]);\n\n  function getData() {\n    tableRef.current.getTableData();\n  }\n\n  const getTodoList = useCallback((params?: any) => {\n    params.startDate = state.date[0].valueOf();\n    params.endDate = state.date[1].valueOf() + ONE_DAY_TIMESTAMP;\n    \n    return serviceGetTodoList(params).then(res => {\n      res.data.data.rows.map((item: any) => {\n        item.createdAt = moment(item.createdAt).format('YYYY-MM-DD HH:mm');\n        return item;\n      });\n      return res;\n    })\n  }, [state.date]);\n\n  const initParams = useCallback(() => {\n    const startDate = moment(getThisYearFirstDay(), dateFormat);\n    const endDate = moment(getCurMonthLastDay(dateFormat), dateFormat);\n    setState({ date: [startDate, endDate] });\n  }, [setState]);\n\n  const handleOnSuccess = useCallback(() => {\n    setState({ showCreateTodoModal: false });\n    tableRef.current.getTableData();\n  }, [setState]);\n\n  const handleActionButton = useCallback((buttonType: number, row: any) => {\n    switch (buttonType) {\n      // 编辑\n      case 0:\n        setState({ showCreateTodoModal: true, currentRowData: row });\n        break;\n      // 删除\n      case 1:\n        modalConfirmDelete()\n        .then(() => {\n          serviceDeleteTodoList(row.id)\n          .then(res => {\n            if (res.data.success) {\n              tableRef.current.getTableData();\n            }\n          });\n        });\n        break;\n      // 状态\n      case 2:\n        serviceUpdateTodoList(row.id, { status: 2 })\n        .then(res => {\n          if (res.data.success) {\n            tableRef.current.getTableData();\n          }\n        });\n        break;\n      default:\n    }\n  }, [setState]);\n\n  useEffect(() => {\n    initParams();\n  }, [initParams]);\n\n  useEffect(() => {\n    if (state.date.length <= 0) return;\n    tableRef?.current?.getTableData();\n  }, [state.date]);\n\n  return (\n    <div className=\"today-task\">\n      <div className=\"query-panel\">\n        <span>查询日期：</span>\n        <RangePicker\n          format={dateFormat} \n          allowClear \n          value={state.date} \n          onChange={(date: any) => setState({ date })} \n        />\n        <Button type=\"primary\" onClick={getData}>查询</Button>\n        <Button onClick={() => setState({\n          showCreateTodoModal: true,\n          currentRowData: null\n        })}>新增</Button>\n        <Button onClick={initParams}>重置</Button>\n      </div>\n      <Table \n        ref={tableRef}\n        getTableData={getTodoList}\n        columns={tableColumns} \n      />\n      <CreateTodo\n        visible={state.showCreateTodoModal}\n        onSuccess={handleOnSuccess}\n        setParentState={setState}\n        rowData={state.currentRowData}\n      />\n    </div>\n  );\n};\n\nexport default TodoList;\n","import { lazy } from 'react';\nimport { IRouteProps } from '@/router/types';\nimport { HOME, SETTING } from './constants';\nimport Login from '@/views/login/index';\nimport NoMatch from '@/views/exception/no-match';\nimport MainEntry from '@/views/home/main-entry';\nimport Reminder from '@/views/home/reminder';\nimport SettingIndex from '@/views/home/setting/index';\nimport HomeIndex from '@/views/home/index';\nimport TodayTask from '@/views/home/today-task';\nimport Memorandum from '@/views/home/memorandum/index';\nimport MemorandumCreate from '@/views/home/memorandum/create';\nimport MemorandumDetail from '@/views/home/memorandum/detail';\nimport CapitalFlow from '@/views/home/capital-flow/index';\nimport CapitalFlowType from '@/views/home/capital-flow/type';\nimport TodoList from '@/views/home/todo-list/index';\n\nconst routesMap: Array<IRouteProps> = [\n  {\n    path: HOME.LOGIN.path,\n    exact: true,\n    component: Login,\n    meta: {\n      // 当前页面是否需要登录状态\n      requiresAuth: false,\n      // 网页标题\n      title: HOME.LOGIN.name,\n      // 如果当前登录状态跳转到后台首页\n      isLoginToHome: true\n    }\n  },\n  {\n    path: HOME.HOME.path,\n    component: MainEntry,\n    meta: {\n      requiresAuth: true,\n    },\n    childrenRoutes: [\n      {\n        path: HOME.HOME_INDEX.path,\n        component: HomeIndex,\n        exact: true,\n        meta: {\n          title: HOME.HOME_INDEX.name,\n          requiresAuth: true,\n        }\n      },\n      {\n        path: HOME.REMINDER.path,\n        component: Reminder,\n        exact: true,\n        meta: {\n          title: HOME.REMINDER.name,\n          requiresAuth: true,\n        }\n      },\n      {\n        path: HOME.SETTING_INDEX.path,\n        component: SettingIndex,\n        meta: {\n          title: HOME.SETTING_INDEX.name,\n          requiresAuth: true,\n        }\n      },\n      {\n        path: HOME.TODAY_TASK.path,\n        component: TodayTask,\n        meta: {\n          title: HOME.TODAY_TASK.name,\n          requiresAuth: true,\n        }\n      },\n      {\n        path: HOME.MEMORANDUM.path,\n        component: Memorandum,\n        exact: true,\n        meta: {\n          title: HOME.MEMORANDUM.name,\n          requiresAuth: true,\n        }\n      },\n      {\n        path: HOME.MEMORANDUM_CREATE.path,\n        component: MemorandumCreate,\n        exact: true,\n        meta: {\n          title: HOME.MEMORANDUM_CREATE.name,\n          requiresAuth: true,\n        }\n      },\n      {\n        path: HOME.MEMORANDUM_DETAIL.path,\n        component: MemorandumDetail,\n        exact: true,\n        meta: {\n          title: HOME.MEMORANDUM_DETAIL.name,\n          requiresAuth: true,\n        }\n      },\n      {\n        path: HOME.CAPITAL_FLOW.path,\n        component: CapitalFlow,\n        exact: true,\n        meta: {\n          title: HOME.CAPITAL_FLOW.name,\n          requiresAuth: true,\n        }\n      },\n      {\n        path: HOME.CAPITAL_FLOW_TYPE.path,\n        component: CapitalFlowType,\n        exact: true,\n        meta: {\n          title: HOME.CAPITAL_FLOW_TYPE.name,\n          requiresAuth: true,\n        }\n      },\n      {\n        path: HOME.TODO_LIST.path,\n        component: TodoList,\n        exact: true,\n        meta: {\n          title: HOME.TODO_LIST.name,\n          requiresAuth: true,\n        }\n      },\n      {\n        path: HOME.NO_MATCH.path,\n        component: NoMatch,\n        meta: {\n          requiresAuth: true,\n          title: HOME.NO_MATCH.name\n        }\n      },\n    ]\n  },\n  {\n    path: HOME.NO_MATCH.path,\n    component: NoMatch,\n    meta: {\n      requiresAuth: false,\n      title: HOME.NO_MATCH.name\n    }\n  },\n];\n\nconst Base = lazy(() => import('@/views/home/setting/base'));\nconst InnerMessage = lazy(() => import('@/views/home/setting/inner-message'));\nconst Notification = lazy(() => import('@/views/home/setting/notification'));\nconst Account = lazy(() => import('@/views/home/setting/account'));\n\nexport const settingRoutes: Array<IRouteProps> = [\n  {\n    path: SETTING.BASE.path,\n    component: Base,\n    meta: {\n      requiresAuth: true,\n      title: SETTING.BASE.name\n    }\n  },\n  {\n    path: SETTING.INNER_MESSAGE.path,\n    component: InnerMessage,\n    meta: {\n      requiresAuth: true,\n      title: SETTING.INNER_MESSAGE.name\n    }\n  },\n  {\n    path: SETTING.NOTIFICATION.path,\n    component: Notification,\n    meta: {\n      requiresAuth: true,\n      title: SETTING.NOTIFICATION.name\n    }\n  },\n  {\n    path: SETTING.ACCOUNT.path,\n    component: Account,\n    meta: {\n      requiresAuth: true,\n      title: SETTING.ACCOUNT.name\n    }\n  },\n];\n\nexport default routesMap;\n","import React from 'react';\nimport PrivateRoute from '@/components/private-route';\nimport CONFIG from '@/config';\nimport routesMap from './routes';\nimport { BrowserRouter as Router, Switch } from 'react-router-dom';\nimport { DispatchProp, connect } from 'react-redux';\nimport { validateLocalStatus } from '@/store/actions/user';\n\nconst Routes: React.FC<DispatchProp> = function ({ dispatch }) {\n  dispatch(validateLocalStatus());\n  \n  return (\n    <Router basename={CONFIG.baseURL}>\n      <Switch>\n        {routesMap.map((route, idx) => (\n          <PrivateRoute {...route} key={idx} />\n        ))}\n      </Switch>\n    </Router>\n  )\n};\n\nexport default connect()(Routes);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './assets/styles/global.scss';\nimport Routes from './router';\nimport { Provider } from 'react-redux';\nimport * as serviceWorker from './serviceWorker';\nimport { ConfigProvider } from 'antd';\nimport zh_CN from 'antd/lib/locale-provider/zh_CN';\nimport moment from 'moment';\nimport 'moment/locale/zh-cn';\nimport store from '@/store';\n\nmoment.locale('zh-cn');\n\nReactDOM.render(\n  <Provider store={store}>\n    <ConfigProvider locale={zh_CN}>\n      <Routes />\n    </ConfigProvider>\n  </Provider>,\n  document.getElementById('tomato-work-root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","/**\n * @file Define action type constants\n * @since 1.0.0\n * @author xiejiahe <xjh22222228@gmail.com>\n */\n\nexport const USER: any = {\n  LOGIN: 'LOGIN',\n  LOGOUT: 'LOGOUT',\n};\n\nexport const SYSTEM: any = {\n  INFO: 'INFO'\n};\n","/**\n * @file System Action Creator\n * @since 1.0.0\n * @author xiejiahe <xjh22222228@gmail.com>\n */\n\nimport { SYSTEM } from '../constants';\nimport { serviceGetSystemInfo } from '@/services';\nimport { Dispatch } from 'redux';\n\nconst { INFO } = SYSTEM;\n\nexport function setSystemInfo(data: any = {}) {\n  return { type: INFO, data };\n}\n\n/**\n * 获取系统信息\n */\nexport function getSystemInfo() {\n  return function (dispatch: Dispatch, getState: () => any) {\n    const { system: { info } } = getState();\n    \n    if (info.nodeVersion) {\n      return dispatch(setSystemInfo()); \n    }\n\n    return serviceGetSystemInfo().then((res: any) => {\n      if (res.data.success) {\n        const data = res.data.data;\n        return dispatch(setSystemInfo(data));\n      }\n      return dispatch(setSystemInfo());\n    });\n  }\n}\n"],"sourceRoot":""}